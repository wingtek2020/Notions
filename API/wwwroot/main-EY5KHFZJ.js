import{a as Js,b as Zs}from"./chunk-ZH2EVQLL.js";import{a as zs,b as Xs,h as er}from"./chunk-KIEQK6RX.js";import{a as Vs,b as $s}from"./chunk-IZDHJJMH.js";import{f as gt,h as pi}from"./chunk-ZSZZGI3E.js";import"./chunk-TTLUPT4D.js";import{d as Ls,e as Us,f as Pe,h as js,i as Hs,j as mi,k as Bs}from"./chunk-POFFQH3K.js";import{a as Gs}from"./chunk-KYBB5N3N.js";import"./chunk-PDPZXG6K.js";import{a as Ws}from"./chunk-5YYQDONU.js";import{A as tr,a as k,b as he,c as Gt,d as Jt,e as Cs,f as ks,g as Zt,h as Es,i as Ct,j as xs,k as Is,l as As,m as Ms,n as Ds,p as Ps,x as Fs,y as Ys}from"./chunk-AFAVM2UX.js";import{a as qs}from"./chunk-JRI47BTG.js";import{a as Ks,b as Qs}from"./chunk-K2FLSAKB.js";import"./chunk-PDOYQQSA.js";import{a as F,b as De,c as ws,d as en,e as Ts,f as et,g as Qt,h as tn,i as pt,j as nn,k as Yt}from"./chunk-OU7NHGTQ.js";import{$b as mt,Aa as Je,B as Lt,Ba as g,Ca as Ze,Cb as Xe,Da as Q,Ea as A,Eb as Kt,Fa as Gi,Ga as ie,Gb as Xi,H as ns,Hb as Se,Hc as Rs,Ia as ce,Ja as ne,K as Qi,Ka as se,Kc as hi,L as O,La as l,Lc as me,Ma as d,Mc as We,N as J,Na as p,Nb as G,O as Ut,Oa as Ji,P as jt,Pa as Zi,Pb as ms,Q as H,Qb as ze,R as te,Ra as Y,Rb as ht,S as I,Sa as us,Sb as $t,T as Ht,Ta as x,Tb as ps,Ua as D,Ub as fs,Vb as gs,W as Bt,Wb as ys,X as ss,Xb as vs,Yb as _s,Z as R,Zb as Ss,_ as L,ab as Wt,ac as be,b as Ce,ba as rs,bb as f,bc as we,ca as Vt,cb as q,da as zt,db as X,dc as bs,ea as Ge,ec as ee,fb as He,fc as Ns,g as $i,gb as Be,gc as ae,h as Yn,hb as Ve,i as ke,j as Nt,ja as Yi,jb as M,jc as Xt,k as Gn,ka as os,kb as xe,kc as ei,l as Ot,la as wt,lb as ge,lc as ti,m as Jn,ma as je,mc as ii,n as Zn,nc as ni,oa as as,oc as si,pc as ft,qa as h,qc as Os,r as Xn,ra as U,rc as ri,s as Ee,sc as oi,t as es,ta as ls,tc as ai,u as Ue,ua as cs,uc as li,vc as ci,wc as di,x as ts,xa as ds,xb as hs,xc as ui,y as is,ya as Tt,yb as qt,z as Rt,za as B}from"./chunk-TKBZ5XYB.js";import{a as oe,b as dt,c as Qn,f as ut}from"./chunk-EQDQRRRY.js";var ir=["toast-component",""];function Ko(s,t){if(s&1){let e=Y();l(0,"button",5),x("click",function(){R(e);let n=D();return L(n.remove())}),l(1,"span",6),f(2,"\xD7"),d()()}}function $o(s,t){if(s&1&&(Ji(0),f(1),Zi()),s&2){let e=D(2);h(),X("[",e.duplicatesCount+1,"]")}}function Qo(s,t){if(s&1&&(l(0,"div"),f(1),B(2,$o,2,1,"ng-container",4),d()),s&2){let e=D();A(e.options.titleClass),Je("aria-label",e.title),h(),X(" ",e.title," "),h(),g("ngIf",e.duplicatesCount)}}function Yo(s,t){if(s&1&&p(0,"div",7),s&2){let e=D();A(e.options.messageClass),g("innerHTML",e.message,wt)}}function Go(s,t){if(s&1&&(l(0,"div",8),f(1),d()),s&2){let e=D();A(e.options.messageClass),Je("aria-label",e.message),h(),X(" ",e.message," ")}}function Jo(s,t){if(s&1&&(l(0,"div"),p(1,"div",9),d()),s&2){let e=D();h(),Ze("width",e.width()+"%")}}function Zo(s,t){if(s&1){let e=Y();l(0,"button",5),x("click",function(){R(e);let n=D();return L(n.remove())}),l(1,"span",6),f(2,"\xD7"),d()()}}function Xo(s,t){if(s&1&&(Ji(0),f(1),Zi()),s&2){let e=D(2);h(),X("[",e.duplicatesCount+1,"]")}}function ea(s,t){if(s&1&&(l(0,"div"),f(1),B(2,Xo,2,1,"ng-container",4),d()),s&2){let e=D();A(e.options.titleClass),Je("aria-label",e.title),h(),X(" ",e.title," "),h(),g("ngIf",e.duplicatesCount)}}function ta(s,t){if(s&1&&p(0,"div",7),s&2){let e=D();A(e.options.messageClass),g("innerHTML",e.message,wt)}}function ia(s,t){if(s&1&&(l(0,"div",8),f(1),d()),s&2){let e=D();A(e.options.messageClass),Je("aria-label",e.message),h(),X(" ",e.message," ")}}function na(s,t){if(s&1&&(l(0,"div"),p(1,"div",9),d()),s&2){let e=D();h(),Ze("width",e.width()+"%")}}var sn=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},rn=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},on=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ce;_activate=new Ce;_manualClose=new Ce;_resetTimeout=new Ce;_countDuplicate=new Ce;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},yt=class{toastId;config;message;title;toastType;toastRef;_onTap=new Ce;_onAction=new Ce;constructor(t,e,i,n,r,o){this.toastId=t,this.config=e,this.message=i,this.title=n,this.toastType=r,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},nr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},sr=new jt("ToastConfig"),an=class extends rn{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),n;return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},sa=(()=>{class s{_document=te(Xe);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||s)};static \u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ln=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},ra=(()=>{class s{_overlayContainer=te(sa);_componentFactoryResolver=te(ls);_appRef=te(qt);_document=te(Xe);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),i?i.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new an(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new ln(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||s)};static \u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),qe=(()=>{class s{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,n,r,o){this.overlay=i,this._injector=n,this.sanitizer=r,this.ngZone=o,this.toastrConfig=oe(oe({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=oe(oe({},e.default.iconClasses),e.config.iconClasses))}show(e,i,n={},r=""){return this._preBuildNotification(r,e,i,this.applyConfig(n))}success(e,i,n={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}error(e,i,n={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}info(e,i,n={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}warning(e,i,n={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(e="",i="",n,r){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===e;if((!o||c)&&a.message===i)return a.toastRef.onDuplicate(n,r),a}return null}applyConfig(e={}){return oe(oe({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,n,r)):this._buildNotification(e,i,n,r)}_buildNotification(e,i,n,r){if(!r.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(n,i,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&r.enableHtml&&(u=this.sanitizer.sanitize(os.HTML,i));let y=new on(c),m=new yt(this.index,r,u,n,e,y),S=[{provide:yt,useValue:m}],v=Vt.create({providers:S,parent:this._injector}),_=new sn(r.toastComponent,v),b=c.attach(_,r.newestOnTop);y.componentInstance=b.instance;let P={toastId:this.index,title:n||"",message:i||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:m.onTap(),onAction:m.onAction(),portal:b};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{P.toastRef.activate()})),this.toasts.push(P),P}static \u0275fac=function(i){return new(i||s)(H(sr),H(ra),H(Vt),H(_s),H(Ge))};static \u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),oa=(()=>{class s{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Tt(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,n){this.toastrService=e,this.toastPackage=i,this.ngZone=n,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=Tt({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>dt(oe({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>dt(oe({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>dt(oe({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||s)(U(qe),U(yt),U(Ge))};static \u0275cmp=I({type:s,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,n){i&1&&x("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),i&2&&(us("@flyInOut",n._state),A(n.toastClasses),Ze("display",n.displayStyle))},standalone:!0,features:[M],attrs:ir,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,n){i&1&&B(0,Ko,3,0,"button",0)(1,Qo,3,5,"div",1)(2,Yo,1,3,"div",2)(3,Go,2,4,"div",3)(4,Jo,2,2,"div",4),i&2&&(g("ngIf",n.options.closeButton),h(),g("ngIf",n.title),h(),g("ngIf",n.message&&n.options.enableHtml),h(),g("ngIf",n.message&&!n.options.enableHtml),h(),g("ngIf",n.options.progressBar))},dependencies:[Xi],encapsulation:2,data:{animation:[ws("flyInOut",[Qt("inactive",et({opacity:0})),Qt("active",et({opacity:1})),Qt("removed",et({opacity:0})),tn("inactive => active",en("{{ easeTime }}ms {{ easing }}")),tn("active => removed",en("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return s})(),aa=dt(oe({},nr),{toastComponent:oa}),rr=(s={})=>Bt([{provide:sr,useValue:{default:aa,config:s}}]);var la=(()=>{class s{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Tt(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Tt("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,n){this.toastrService=e,this.toastPackage=i,this.appRef=n,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||s)(U(qe),U(yt),U(qt))};static \u0275cmp=I({type:s,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,n){i&1&&x("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),i&2&&(A(n.toastClasses),Ze("display",n.displayStyle))},standalone:!0,features:[M],attrs:ir,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,n){i&1&&B(0,Zo,3,0,"button",0)(1,ea,3,5,"div",1)(2,ta,1,3,"div",2)(3,ia,2,4,"div",3)(4,na,2,2,"div",4),i&2&&(g("ngIf",n.options.closeButton),h(),g("ngIf",n.title),h(),g("ngIf",n.message&&n.options.enableHtml),h(),g("ngIf",n.message&&!n.options.enableHtml),h(),g("ngIf",n.options.progressBar))},dependencies:[Xi],encapsulation:2,changeDetection:0})}return s})(),td=dt(oe({},nr),{toastComponent:la});var or=(s,t)=>{let e=te(be),i=te(qe);return t(s).pipe(Ue(n=>{if(n)switch(n.status){case 400:if(n.error.errors){let o=[];for(let a in n.error.errors)n.error.errors[a]&&o.push(n.error.errors[a]);throw o.flat()}else i.error(n.error,n.status);break;case 401:i.error("Unauthorized",n.status);break;case 404:e.navigateByUrl("/not-found");break;case 500:let r={state:{error:n.error}};e.navigateByUrl("/server-error",r);break;default:i.error("Something unexpected went wrong");break}throw n}))};function ar(s){return new O(3e3,!1)}function ca(){return new O(3100,!1)}function da(){return new O(3101,!1)}function ua(s){return new O(3001,!1)}function ha(s){return new O(3003,!1)}function ma(s){return new O(3004,!1)}function pa(s,t){return new O(3005,!1)}function fa(){return new O(3006,!1)}function ga(){return new O(3007,!1)}function ya(s,t){return new O(3008,!1)}function va(s){return new O(3002,!1)}function _a(s,t,e,i,n){return new O(3010,!1)}function Sa(){return new O(3011,!1)}function ba(){return new O(3012,!1)}function wa(){return new O(3200,!1)}function Ta(){return new O(3202,!1)}function Ca(){return new O(3013,!1)}function ka(s){return new O(3014,!1)}function Ea(s){return new O(3015,!1)}function xa(s){return new O(3016,!1)}function Ia(s,t){return new O(3404,!1)}function Aa(s){return new O(3502,!1)}function Ma(s){return new O(3503,!1)}function Da(){return new O(3300,!1)}function Pa(s){return new O(3504,!1)}function Fa(s){return new O(3301,!1)}function Na(s,t){return new O(3302,!1)}function Oa(s){return new O(3303,!1)}function Ra(s,t){return new O(3400,!1)}function La(s){return new O(3401,!1)}function Ua(s){return new O(3402,!1)}function ja(s,t){return new O(3505,!1)}function Ke(s){switch(s.length){case 0:return new pt;case 1:return s[0];default:return new nn(s)}}function br(s,t,e=new Map,i=new Map){let n=[],r=[],o=-1,a=null;if(t.forEach(c=>{let u=c.get("offset"),y=u==o,m=y&&a||new Map;c.forEach((S,v)=>{let _=v,b=S;if(v!=="offset")switch(_=s.normalizePropertyName(_,n),b){case Yt:b=e.get(v);break;case De:b=i.get(v);break;default:b=s.normalizeStyleValue(v,_,b,n);break}m.set(_,b)}),y||r.push(m),a=m,o=u}),n.length)throw Aa(n);return r}function Dn(s,t,e,i){switch(t){case"start":s.onStart(()=>i(e&&cn(e,"start",s)));break;case"done":s.onDone(()=>i(e&&cn(e,"done",s)));break;case"destroy":s.onDestroy(()=>i(e&&cn(e,"destroy",s)));break}}function cn(s,t,e){let i=e.totalTime,n=!!e.disabled,r=Pn(s.element,s.triggerName,s.fromState,s.toState,t||s.phaseName,i??s.totalTime,n),o=s._data;return o!=null&&(r._data=o),r}function Pn(s,t,e,i,n="",r=0,o){return{element:s,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:r,disabled:!!o}}function ve(s,t,e){let i=s.get(t);return i||s.set(t,i=e),i}function lr(s){let t=s.indexOf(":"),e=s.substring(1,t),i=s.slice(t+1);return[e,i]}var Ha=typeof document>"u"?null:document.documentElement;function Fn(s){let t=s.parentNode||s.host||null;return t===Ha?null:t}function Ba(s){return s.substring(1,6)=="ebkit"}var tt=null,cr=!1;function Va(s){tt||(tt=za()||{},cr=tt.style?"WebkitAppearance"in tt.style:!1);let t=!0;return tt.style&&!Ba(s)&&(t=s in tt.style,!t&&cr&&(t="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in tt.style)),t}function za(){return typeof document<"u"?document.body:null}function wr(s,t){for(;t;){if(t===s)return!0;t=Fn(t)}return!1}function Tr(s,t,e){if(e)return Array.from(s.querySelectorAll(t));let i=s.querySelector(t);return i?[i]:[]}var Nn=(()=>{class s{validateStyleProperty(e){return Va(e)}containsElement(e,i){return wr(e,i)}getParentElement(e){return Fn(e)}query(e,i,n){return Tr(e,i,n)}computeStyle(e,i,n){return n||""}animate(e,i,n,r,o,a=[],c){return new pt(n,r)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})(),st=class{static{this.NOOP=new Nn}},rt=class{};var Wa=1e3,Cr="{{",qa="}}",kr="ng-enter",fn="ng-leave",fi="ng-trigger",Si=".ng-trigger",dr="ng-animating",gn=".ng-animating";function Ne(s){if(typeof s=="number")return s;let t=s.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yn(parseFloat(t[1]),t[2])}function yn(s,t){switch(t){case"s":return s*Wa;default:return s}}function bi(s,t,e){return s.hasOwnProperty("duration")?s:Ka(s,t,e)}function Ka(s,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,r=0,o="";if(typeof s=="string"){let a=s.match(i);if(a===null)return t.push(ar(s)),{duration:0,delay:0,easing:""};n=yn(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(r=yn(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else n=s;if(!e){let a=!1,c=t.length;n<0&&(t.push(ca()),a=!0),r<0&&(t.push(da()),a=!0),a&&t.splice(c,0,ar(s))}return{duration:n,delay:r,easing:o}}function $a(s){return s.length?s[0]instanceof Map?s:s.map(t=>new Map(Object.entries(t))):[]}function Fe(s,t,e){t.forEach((i,n)=>{let r=On(n);e&&!e.has(n)&&e.set(n,s.style[r]),s.style[r]=i})}function nt(s,t){t.forEach((e,i)=>{let n=On(i);s.style[n]=""})}function kt(s){return Array.isArray(s)?s.length==1?s[0]:Ts(s):s}function Qa(s,t,e){let i=t.params||{},n=Er(s);n.length&&n.forEach(r=>{i.hasOwnProperty(r)||e.push(ua(r))})}var vn=new RegExp(`${Cr}\\s*(.+?)\\s*${qa}`,"g");function Er(s){let t=[];if(typeof s=="string"){let e;for(;e=vn.exec(s);)t.push(e[1]);vn.lastIndex=0}return t}function xt(s,t,e){let i=`${s}`,n=i.replace(vn,(r,o)=>{let a=t[o];return a==null&&(e.push(ha(o)),a=""),a.toString()});return n==i?s:n}var Ya=/-+([a-z0-9])/g;function On(s){return s.replace(Ya,(...t)=>t[1].toUpperCase())}function Ga(s,t){return s===0||t===0}function Ja(s,t,e){if(e.size&&t.length){let i=t[0],n=[];if(e.forEach((r,o)=>{i.has(o)||n.push(o),i.set(o,r)}),n.length)for(let r=1;r<t.length;r++){let o=t[r];n.forEach(a=>o.set(a,Rn(s,a)))}}return t}function ye(s,t,e){switch(t.type){case F.Trigger:return s.visitTrigger(t,e);case F.State:return s.visitState(t,e);case F.Transition:return s.visitTransition(t,e);case F.Sequence:return s.visitSequence(t,e);case F.Group:return s.visitGroup(t,e);case F.Animate:return s.visitAnimate(t,e);case F.Keyframes:return s.visitKeyframes(t,e);case F.Style:return s.visitStyle(t,e);case F.Reference:return s.visitReference(t,e);case F.AnimateChild:return s.visitAnimateChild(t,e);case F.AnimateRef:return s.visitAnimateRef(t,e);case F.Query:return s.visitQuery(t,e);case F.Stagger:return s.visitStagger(t,e);default:throw ma(t.type)}}function Rn(s,t){return window.getComputedStyle(s)[t]}var Za=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wi=class extends rt{normalizePropertyName(t,e){return On(t)}normalizeStyleValue(t,e,i,n){let r="",o=i.toString().trim();if(Za.has(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(pa(t,i))}return o+r}};var Ti="*";function Xa(s,t){let e=[];return typeof s=="string"?s.split(/\s*,\s*/).forEach(i=>el(i,e,t)):e.push(s),e}function el(s,t,e){if(s[0]==":"){let c=tl(s,e);if(typeof c=="function"){t.push(c);return}s=c}let i=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Ea(s)),t;let n=i[1],r=i[2],o=i[3];t.push(ur(n,o));let a=n==Ti&&o==Ti;r[0]=="<"&&!a&&t.push(ur(o,n))}function tl(s,t){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(xa(s)),"* => *"}}var gi=new Set(["true","1"]),yi=new Set(["false","0"]);function ur(s,t){let e=gi.has(s)||yi.has(s),i=gi.has(t)||yi.has(t);return(n,r)=>{let o=s==Ti||s==n,a=t==Ti||t==r;return!o&&e&&typeof n=="boolean"&&(o=n?gi.has(s):yi.has(s)),!a&&i&&typeof r=="boolean"&&(a=r?gi.has(t):yi.has(t)),o&&a}}var xr=":self",il=new RegExp(`s*${xr}s*,?`,"g");function Ir(s,t,e,i){return new _n(s).build(t,e,i)}var hr="",_n=class{constructor(t){this._driver=t}build(t,e,i){let n=new Sn(e);return this._resetContextStyleTimingState(n),ye(this,kt(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=hr,t.collectedStyles=new Map,t.collectedStyles.set(hr,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0,r=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(fa()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==F.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(y=>{c.name=y,r.push(this.visitState(c,e))}),c.name=u}else if(a.type==F.Transition){let c=this.visitTransition(a,e);i+=c.queryCount,n+=c.depCount,o.push(c)}else e.errors.push(ga())}),{type:F.Trigger,name:t.name,states:r,transitions:o,queryCount:i,depCount:n,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){let r=new Set,o=n||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Er(c).forEach(u=>{o.hasOwnProperty(u)||r.add(u)})})}),r.size&&e.errors.push(ya(t.name,[...r.values()]))}return{type:F.State,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=ye(this,kt(t.animation),e),n=Xa(t.expr,e.errors);return{type:F.Transition,matchers:n,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:it(t.options)}}visitSequence(t,e){return{type:F.Sequence,steps:t.steps.map(i=>ye(this,i,e)),options:it(t.options)}}visitGroup(t,e){let i=e.currentTime,n=0,r=t.steps.map(o=>{e.currentTime=i;let a=ye(this,o,e);return n=Math.max(n,e.currentTime),a});return e.currentTime=n,{type:F.Group,steps:r,options:it(t.options)}}visitAnimate(t,e){let i=ol(t.timings,e.errors);e.currentAnimateTimings=i;let n,r=t.styles?t.styles:et({});if(r.type==F.Keyframes)n=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;let u={};i.easing&&(u.easing=i.easing),o=et(u)}e.currentTime+=i.duration+i.delay;let c=this.visitStyle(o,e);c.isEmptyStep=a,n=c}return e.currentAnimateTimings=null,{type:F.Animate,timings:i,style:n,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of n)typeof a=="string"?a===De?i.push(a):e.errors.push(va(a)):i.push(new Map(Object.entries(a)));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r)){for(let c of a.values())if(c.toString().indexOf(Cr)>=0){r=!0;break}}}),{type:F.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,n=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=e.collectedStyles.get(e.currentQuerySelector),y=u.get(c),m=!0;y&&(r!=n&&r>=y.startTime&&n<=y.endTime&&(e.errors.push(_a(c,y.startTime,y.endTime,r,n)),m=!1),r=y.startTime),m&&u.set(c,{startTime:r,endTime:n}),e.options&&Qa(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:F.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Sa()),i;let n=1,r=0,o=[],a=!1,c=!1,u=0,y=t.steps.map(j=>{let C=this._makeStyleAst(j,e),K=C.offset!=null?C.offset:rl(C.styles),$=0;return K!=null&&(r++,$=C.offset=K),c=c||$<0||$>1,a=a||$<u,u=$,o.push($),C});c&&e.errors.push(ba()),a&&e.errors.push(wa());let m=t.steps.length,S=0;r>0&&r<m?e.errors.push(Ta()):r==0&&(S=n/(m-1));let v=m-1,_=e.currentTime,b=e.currentAnimateTimings,P=b.duration;return y.forEach((j,C)=>{let K=S>0?C==v?1:S*C:o[C],$=K*P;e.currentTime=_+b.delay+$,b.duration=$,this._validateStyleAst(j,e),j.offset=K,i.styles.push(j)}),i}visitReference(t,e){return{type:F.Reference,animation:ye(this,kt(t.animation),e),options:it(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:F.AnimateChild,options:it(t.options)}}visitAnimateRef(t,e){return{type:F.AnimateRef,animation:this.visitReference(t.animation,e),options:it(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;let[r,o]=nl(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,ve(e.collectedStyles,e.currentQuerySelector,new Map);let a=ye(this,kt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:F.Query,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:it(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Ca());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:bi(t.timings,e.errors,!0);return{type:F.Stagger,animation:ye(this,kt(t.animation),e),timings:i,options:null}}};function nl(s){let t=!!s.split(/\s*,\s*/).find(e=>e==xr);return t&&(s=s.replace(il,"")),s=s.replace(/@\*/g,Si).replace(/@\w+/g,e=>Si+"-"+e.slice(1)).replace(/:animating/g,gn),[s,t]}function sl(s){return s?oe({},s):null}var Sn=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function rl(s){if(typeof s=="string")return null;let t=null;if(Array.isArray(s))s.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(s instanceof Map&&s.has("offset")){let e=s;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function ol(s,t){if(s.hasOwnProperty("duration"))return s;if(typeof s=="number"){let r=bi(s,t).duration;return dn(r,0,"")}let e=s;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=dn(0,0,"");return r.dynamic=!0,r.strValue=e,r}let n=bi(e,t);return dn(n.duration,n.delay,n.easing)}function it(s){return s?(s=oe({},s),s.params&&(s.params=sl(s.params))):s={},s}function dn(s,t,e){return{duration:s,delay:t,easing:e}}function Ln(s,t,e,i,n,r,o=null,a=!1){return{type:1,element:s,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:r,totalTime:n+r,easing:o,subTimeline:a}}var It=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},al=1,ll=":enter",cl=new RegExp(ll,"g"),dl=":leave",ul=new RegExp(dl,"g");function Ar(s,t,e,i,n,r=new Map,o=new Map,a,c,u=[]){return new bn().buildKeyframes(s,t,e,i,n,r,o,a,c,u)}var bn=class{buildKeyframes(t,e,i,n,r,o,a,c,u,y=[]){u=u||new It;let m=new wn(t,e,u,n,r,y,[]);m.options=c;let S=c.delay?Ne(c.delay):0;m.currentTimeline.delayNextStep(S),m.currentTimeline.setStyles([o],null,m.errors,c),ye(this,i,m);let v=m.timelines.filter(_=>_.containsAnimation());if(v.length&&a.size){let _;for(let b=v.length-1;b>=0;b--){let P=v[b];if(P.element===e){_=P;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,m.errors,c)}return v.length?v.map(_=>_.buildKeyframes()):[Ln(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let n=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,n,n.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let n of t){let r=n?.delay;if(r){let o=typeof r=="number"?r:Ne(xt(r,n?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime,o=i.duration!=null?Ne(i.duration):null,a=i.delay!=null?Ne(i.delay):null;return o!==0&&t.forEach(c=>{let u=e.appendInstructionToTimeline(c,o,a);r=Math.max(r,u.duration+u.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ye(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,n=e,r=t.options;if(r&&(r.params||r.delay)&&(n=e.createSubContext(r),n.transformIntoNewTimeline(),r.delay!=null)){n.previousNode.type==F.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ci);let o=Ne(r.delay);n.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ye(this,o,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],n=e.currentTimeline.currentTime,r=t.options&&t.options.delay?Ne(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);r&&a.delayNextStep(r),ye(this,o,a),n=Math.max(n,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,n=e.params?xt(i,e.params,e.errors):i;return bi(n,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());let r=t.style;r.type==F.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,n=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*r),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(n+r),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,n=t.options||{},r=n.delay?Ne(n.delay):0;r&&(e.previousNode.type===F.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ci);let o=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((u,y)=>{e.currentQueryIndex=y;let m=e.createSubContext(t.options,u);r&&m.delayNextStep(r),u===e.element&&(c=m.currentTimeline),ye(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe();let S=m.currentTimeline.currentTime;o=Math.max(o,S)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,n=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),c=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let y=e.currentTimeline;c&&y.delayNextStep(c);let m=y.currentTime;ye(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-m+(n.startTime-i.currentTimeline.startTime)}},Ci={},wn=class s{constructor(t,e,i,n,r,o,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ci,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new ki(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,n=this.options;i.duration!=null&&(n.duration=Ne(i.duration)),i.delay!=null&&(n.delay=Ne(i.delay));let r=i.params;if(r){let o=n.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=xt(r[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){let n=e||this.element,r=new s(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Ci,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new Tn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,r,o){let a=[];if(n&&a.push(this.element),t.length>0){t=t.replace(cl,"."+this._enterClassName),t=t.replace(ul,"."+this._leaveClassName);let c=i!=1,u=this._driver.query(this.element,t,c);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!r&&a.length==0&&o.push(ka(e)),a}},ki=class s{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new s(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=al,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||De),this._currentKeyframe.set(e,De);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&this._previousKeyframe.set("easing",e);let r=n&&n.params||{},o=hl(t,this._globalTimelineStyles);for(let[a,c]of o){let u=xt(c,r,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??De),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let n=this._styleSummary.get(i);(!n||e.time>n.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((y,m)=>{y===Yt?t.add(m):y===De&&e.add(m)}),i||u.set("offset",c/this.duration),n.push(u)});let r=[...t.values()],o=[...e.values()];if(i){let a=n[0],c=new Map(a);a.set("offset",0),c.set("offset",1),n=[a,c]}return Ln(this.element,n,r,o,this.duration,this.startTime,this.easing,!1)}},Tn=class extends ki{constructor(t,e,i,n,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],o=i+e,a=e/o,c=new Map(t[0]);c.set("offset",0),r.push(c);let u=new Map(t[0]);u.set("offset",mr(a)),r.push(u);let y=t.length-1;for(let m=1;m<=y;m++){let S=new Map(t[m]),v=S.get("offset"),_=e+v*i;S.set("offset",mr(_/o)),r.push(S)}i=o,e=0,n="",t=r}return Ln(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}};function mr(s,t=3){let e=Math.pow(10,t-1);return Math.round(s*e)/e}function hl(s,t){let e=new Map,i;return s.forEach(n=>{if(n==="*"){i??=t.keys();for(let r of i)e.set(r,De)}else for(let[r,o]of n)e.set(r,o)}),e}function pr(s,t,e,i,n,r,o,a,c,u,y,m,S){return{type:0,element:s,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:y,totalTime:m,errors:S}}var un={},Ei=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return ml(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,i):new Map}build(t,e,i,n,r,o,a,c,u,y){let m=[],S=this.ast.options&&this.ast.options.params||un,v=a&&a.params||un,_=this.buildStyles(i,v,m),b=c&&c.params||un,P=this.buildStyles(n,b,m),j=new Set,C=new Map,K=new Map,$=n==="void",Re={params:Mr(b,S),delay:this.ast.options?.delay},pe=y?[]:Ar(t,e,this.ast.animation,r,o,_,P,Re,u,m),le=0;return pe.forEach(ue=>{le=Math.max(ue.duration+ue.delay,le)}),m.length?pr(e,this._triggerName,i,n,$,_,P,[],[],C,K,le,m):(pe.forEach(ue=>{let $e=ue.element,ct=ve(C,$e,new Set);ue.preStyleProps.forEach(Qe=>ct.add(Qe));let Wn=ve(K,$e,new Set);ue.postStyleProps.forEach(Qe=>Wn.add(Qe)),$e!==e&&j.add($e)}),pr(e,this._triggerName,i,n,$,_,P,pe,[...j.values()],C,K,le))}};function ml(s,t,e,i,n){return s.some(r=>r(t,e,i,n))}function Mr(s,t){let e=oe({},t);return Object.entries(s).forEach(([i,n])=>{n!=null&&(e[i]=n)}),e}var Cn=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,n=Mr(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,a)=>{o&&(o=xt(o,n,e));let c=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,c,o,e),i.set(a,o)})}),i}};function pl(s,t,e){return new kn(s,t,e)}var kn=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{let r=n.options&&n.options.params||{};this.states.set(n.name,new Cn(n.style,r,i))}),fr(this.states,"true","1"),fr(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new Ei(t,n,this.states))}),this.fallbackTransition=fl(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(o=>o.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function fl(s,t,e){let i=[(o,a)=>!0],n={type:F.Sequence,steps:[],options:null},r={type:F.Transition,animation:n,matchers:i,options:null,queryCount:0,depCount:0};return new Ei(s,r,t)}function fr(s,t,e){s.has(t)?s.has(e)||s.set(e,s.get(t)):s.has(e)&&s.set(t,s.get(e))}var gl=new It,En=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],n=[],r=Ir(this._driver,e,i,n);if(i.length)throw Ma(i);n.length&&void 0,this._animations.set(t,r)}_buildPlayer(t,e,i){let n=t.element,r=br(this._normalizer,t.keyframes,e,i);return this._driver.animate(n,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let n=[],r=this._animations.get(t),o,a=new Map;if(r?(o=Ar(this._driver,e,r,kr,fn,new Map,new Map,i,gl,n),o.forEach(y=>{let m=ve(a,y.element,new Map);y.postStyleProps.forEach(S=>m.set(S,null))})):(n.push(Da()),o=[]),n.length)throw Pa(n);a.forEach((y,m)=>{y.forEach((S,v)=>{y.set(v,this._driver.computeStyle(m,v,De))})});let c=o.map(y=>{let m=a.get(y.element);return this._buildPlayer(y,new Map,m)}),u=Ke(c);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Fa(t);return e}listen(t,e,i,n){let r=Pn(e,"","","");return Dn(this._getPlayer(t),i,r,n),()=>{}}command(t,e,i,n){if(i=="register"){this.register(t,n[0]);return}if(i=="create"){let o=n[0]||{};this.create(t,e,o);return}let r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},gr="ng-animate-queued",yl=".ng-animate-queued",hn="ng-animate-disabled",vl=".ng-animate-disabled",_l="ng-star-inserted",Sl=".ng-star-inserted",bl=[],Dr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ie="__ng_removed",At=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),n=i?t.value:t;if(this.value=Cl(n),i){let r=t,{value:o}=r,a=Qn(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(n=>{i[n]==null&&(i[n]=e[n])})}}},Et="void",mn=new At(Et),xn=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Te(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.has(e))throw Na(i,e);if(i==null||i.length==0)throw Oa(e);if(!kl(i))throw Ra(i,e);let r=ve(this._elementListeners,t,[]),o={name:e,phase:i,callback:n};r.push(o);let a=ve(this._engine.statesByElement,t,new Map);return a.has(e)||(Te(t,fi),Te(t,fi+"-"+e),a.set(e,mn)),()=>{this._engine.afterFlush(()=>{let c=r.indexOf(o);c>=0&&r.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw La(t);return e}trigger(t,e,i,n=!0){let r=this._getTrigger(e),o=new Mt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Te(t,fi),Te(t,fi+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e),u=new At(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(e,u),c||(c=mn),!(u.value===Et)&&c.value===u.value){if(!Il(c.params,u.params)){let b=[],P=r.matchStyles(c.value,c.params,b),j=r.matchStyles(u.value,u.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{nt(t,P),Fe(t,j)})}return}let S=ve(this._engine.playersByElement,t,[]);S.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let v=r.matchTransition(c.value,u.value,t,u.params),_=!1;if(!v){if(!n)return;v=r.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:c,toState:u,player:o,isFallbackTransition:_}),_||(Te(t,gr),o.onStart(()=>{vt(t,gr)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);let P=this._engine.playersByElement.get(t);if(P){let j=P.indexOf(o);j>=0&&P.splice(j,1)}}),this.players.push(o),S.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Si,!0);i.forEach(n=>{if(n[Ie])return;let r=this._engine.fetchNamespacesByElement(n);r.size?r.forEach(o=>o.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){let r=this._engine.statesByElement.get(t),o=new Map;if(r){let a=[];if(r.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let y=this.trigger(t,u,Et,n);y&&a.push(y)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Ke(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let n=new Set;e.forEach(r=>{let o=r.name;if(n.has(o))return;n.add(o);let c=this._triggers.get(o).fallbackTransition,u=i.get(o)||mn,y=new At(Et),m=new Mt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:c,fromState:u,toState:y,player:m,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){let r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)n=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{let r=t[Ie];(!r||r===Dr)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Te(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let n=i.player;if(n.destroyed)return;let r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){let c=Pn(r,i.triggerName,i.fromState.value,i.toState.value);c._data=t,Dn(i.player,a.phase,c,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{let r=i.transition.ast.depCount,o=n.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},In=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,r)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new xn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let c=n.get(a);if(c){let u=i.indexOf(c);i.splice(u+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return n.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let n of i.values())if(n.namespaceId){let r=this._fetchNamespace(n.namespaceId);r&&e.add(r)}}return e}trigger(t,e,i,n){if(vi(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!vi(e))return;let r=e[Ie];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Te(t,hn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vt(t,hn))}removeNode(t,e,i){if(vi(e)){let n=t?this._fetchNamespace(t):null;n?n.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,n,r){this.collectedLeaveElements.push(e),e[Ie]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,n,r){return vi(e)?this._fetchNamespace(t).listen(e,i,n,r):()=>{}}_buildInstruction(t,e,i,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Si,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,gn,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ke(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Ie];if(e&&e.setForRemoval){if(t[Ie]=Dr,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(hn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,vl,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let n=this.collectedEnterElements[i];Te(n,_l)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let n=this.collectedLeaveElements[i];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ke(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw Ua(t)}_flushAnimations(t,e){let i=new It,n=[],r=new Map,o=[],a=new Map,c=new Map,u=new Map,y=new Set;this.disabledNodes.forEach(w=>{y.add(w);let T=this.driver.query(w,yl,!0);for(let E=0;E<T.length;E++)y.add(T[E])});let m=this.bodyNode,S=Array.from(this.statesByElement.keys()),v=_r(S,this.collectedEnterElements),_=new Map,b=0;v.forEach((w,T)=>{let E=kr+b++;_.set(T,E),w.forEach(N=>Te(N,E))});let P=[],j=new Set,C=new Set;for(let w=0;w<this.collectedLeaveElements.length;w++){let T=this.collectedLeaveElements[w],E=T[Ie];E&&E.setForRemoval&&(P.push(T),j.add(T),E.hasAnimation?this.driver.query(T,Sl,!0).forEach(N=>j.add(N)):C.add(T))}let K=new Map,$=_r(S,Array.from(j));$.forEach((w,T)=>{let E=fn+b++;K.set(T,E),w.forEach(N=>Te(N,E))}),t.push(()=>{v.forEach((w,T)=>{let E=_.get(T);w.forEach(N=>vt(N,E))}),$.forEach((w,T)=>{let E=K.get(T);w.forEach(N=>vt(N,E))}),P.forEach(w=>{this.processLeaveNode(w)})});let Re=[],pe=[];for(let w=this._namespaceList.length-1;w>=0;w--)this._namespaceList[w].drainQueuedTransitions(e).forEach(E=>{let N=E.player,Z=E.element;if(Re.push(N),this.collectedEnterElements.length){let re=Z[Ie];if(re&&re.setForMove){if(re.previousTriggersValues&&re.previousTriggersValues.has(E.triggerName)){let Ye=re.previousTriggersValues.get(E.triggerName),_e=this.statesByElement.get(E.element);if(_e&&_e.has(E.triggerName)){let Ft=_e.get(E.triggerName);Ft.value=Ye,_e.set(E.triggerName,Ft)}}N.destroy();return}}let Me=!m||!this.driver.containsElement(m,Z),fe=K.get(Z),Le=_.get(Z),z=this._buildInstruction(E,i,Le,fe,Me);if(z.errors&&z.errors.length){pe.push(z);return}if(Me){N.onStart(()=>nt(Z,z.fromStyles)),N.onDestroy(()=>Fe(Z,z.toStyles)),n.push(N);return}if(E.isFallbackTransition){N.onStart(()=>nt(Z,z.fromStyles)),N.onDestroy(()=>Fe(Z,z.toStyles)),n.push(N);return}let $n=[];z.timelines.forEach(re=>{re.stretchStartingKeyframe=!0,this.disabledNodes.has(re.element)||$n.push(re)}),z.timelines=$n,i.append(Z,z.timelines);let qo={instruction:z,player:N,element:Z};o.push(qo),z.queriedElements.forEach(re=>ve(a,re,[]).push(N)),z.preStyleProps.forEach((re,Ye)=>{if(re.size){let _e=c.get(Ye);_e||c.set(Ye,_e=new Set),re.forEach((Ft,Ki)=>_e.add(Ki))}}),z.postStyleProps.forEach((re,Ye)=>{let _e=u.get(Ye);_e||u.set(Ye,_e=new Set),re.forEach((Ft,Ki)=>_e.add(Ki))})});if(pe.length){let w=[];pe.forEach(T=>{w.push(ja(T.triggerName,T.errors))}),Re.forEach(T=>T.destroy()),this.reportError(w)}let le=new Map,ue=new Map;o.forEach(w=>{let T=w.element;i.has(T)&&(ue.set(T,T),this._beforeAnimationBuild(w.player.namespaceId,w.instruction,le))}),n.forEach(w=>{let T=w.element;this._getPreviousPlayers(T,!1,w.namespaceId,w.triggerName,null).forEach(N=>{ve(le,T,[]).push(N),N.destroy()})});let $e=P.filter(w=>Sr(w,c,u)),ct=new Map;vr(ct,this.driver,C,u,De).forEach(w=>{Sr(w,c,u)&&$e.push(w)});let Qe=new Map;v.forEach((w,T)=>{vr(Qe,this.driver,new Set(w),c,Yt)}),$e.forEach(w=>{let T=ct.get(w),E=Qe.get(w);ct.set(w,new Map([...T?.entries()??[],...E?.entries()??[]]))});let qi=[],qn=[],Kn={};o.forEach(w=>{let{element:T,player:E,instruction:N}=w;if(i.has(T)){if(y.has(T)){E.onDestroy(()=>Fe(T,N.toStyles)),E.disabled=!0,E.overrideTotalTime(N.totalTime),n.push(E);return}let Z=Kn;if(ue.size>1){let fe=T,Le=[];for(;fe=fe.parentNode;){let z=ue.get(fe);if(z){Z=z;break}Le.push(fe)}Le.forEach(z=>ue.set(z,Z))}let Me=this._buildAnimation(E.namespaceId,N,le,r,Qe,ct);if(E.setRealPlayer(Me),Z===Kn)qi.push(E);else{let fe=this.playersByElement.get(Z);fe&&fe.length&&(E.parentPlayer=Ke(fe)),n.push(E)}}else nt(T,N.fromStyles),E.onDestroy(()=>Fe(T,N.toStyles)),qn.push(E),y.has(T)&&n.push(E)}),qn.forEach(w=>{let T=r.get(w.element);if(T&&T.length){let E=Ke(T);w.setRealPlayer(E)}}),n.forEach(w=>{w.parentPlayer?w.syncPlayerEvents(w.parentPlayer):w.destroy()});for(let w=0;w<P.length;w++){let T=P[w],E=T[Ie];if(vt(T,fn),E&&E.hasAnimation)continue;let N=[];if(a.size){let Me=a.get(T);Me&&Me.length&&N.push(...Me);let fe=this.driver.query(T,gn,!0);for(let Le=0;Le<fe.length;Le++){let z=a.get(fe[Le]);z&&z.length&&N.push(...z)}}let Z=N.filter(Me=>!Me.destroyed);Z.length?El(this,T,Z):this.processLeaveNode(T)}return P.length=0,qi.forEach(w=>{this.players.push(w),w.onDone(()=>{w.destroy();let T=this.players.indexOf(w);this.players.splice(T,1)}),w.play()}),qi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,r){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let c=!r||r==Et;a.forEach(u=>{u.queued||!c&&u.triggerName!=n||o.push(u)})}}return(i||n)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||n&&n!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){let n=e.triggerName,r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:n;for(let c of e.timelines){let u=c.element,y=u!==r,m=ve(i,u,[]);this._getPreviousPlayers(u,y,o,a,e.toState).forEach(v=>{let _=v.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),v.destroy(),m.push(v)})}nt(r,e.fromStyles)}_buildAnimation(t,e,i,n,r,o){let a=e.triggerName,c=e.element,u=[],y=new Set,m=new Set,S=e.timelines.map(_=>{let b=_.element;y.add(b);let P=b[Ie];if(P&&P.removedBeforeQueried)return new pt(_.duration,_.delay);let j=b!==c,C=xl((i.get(b)||bl).map(le=>le.getRealPlayer())).filter(le=>{let ue=le;return ue.element?ue.element===b:!1}),K=r.get(b),$=o.get(b),Re=br(this._normalizer,_.keyframes,K,$),pe=this._buildPlayer(_,Re,C);if(_.subTimeline&&n&&m.add(b),j){let le=new Mt(t,a,b);le.setRealPlayer(pe),u.push(le)}return pe});u.forEach(_=>{ve(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>Tl(this.playersByQueriedElement,_.element,_))}),y.forEach(_=>Te(_,dr));let v=Ke(S);return v.onDestroy(()=>{y.forEach(_=>vt(_,dr)),Fe(c,e.toStyles)}),m.forEach(_=>{ve(n,_,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new pt(t.duration,t.delay)}},Mt=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new pt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(n=>Dn(t,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ve(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Tl(s,t,e){let i=s.get(t);if(i){if(i.length){let n=i.indexOf(e);i.splice(n,1)}i.length==0&&s.delete(t)}return i}function Cl(s){return s??null}function vi(s){return s&&s.nodeType===1}function kl(s){return s=="start"||s=="done"}function yr(s,t){let e=s.style.display;return s.style.display=t??"none",e}function vr(s,t,e,i,n){let r=[];e.forEach(c=>r.push(yr(c)));let o=[];i.forEach((c,u)=>{let y=new Map;c.forEach(m=>{let S=t.computeStyle(u,m,n);y.set(m,S),(!S||S.length==0)&&(u[Ie]=wl,o.push(u))}),s.set(u,y)});let a=0;return e.forEach(c=>yr(c,r[a++])),o}function _r(s,t){let e=new Map;if(s.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,n=new Set(t),r=new Map;function o(a){if(!a)return i;let c=r.get(a);if(c)return c;let u=a.parentNode;return e.has(u)?c=u:n.has(u)?c=i:c=o(u),r.set(a,c),c}return t.forEach(a=>{let c=o(a);c!==i&&e.get(c).push(a)}),e}function Te(s,t){s.classList?.add(t)}function vt(s,t){s.classList?.remove(t)}function El(s,t,e){Ke(e).onDone(()=>s.processLeaveNode(t))}function xl(s){let t=[];return Pr(s,t),t}function Pr(s,t){for(let e=0;e<s.length;e++){let i=s[e];i instanceof nn?Pr(i.players,t):t.push(i)}}function Il(s,t){let e=Object.keys(s),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){let r=e[n];if(!t.hasOwnProperty(r)||s[r]!==t[r])return!1}return!0}function Sr(s,t,e){let i=e.get(s);if(!i)return!1;let n=t.get(s);return n?i.forEach(r=>n.add(r)):t.set(s,i),e.delete(s),!0}var _t=class{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(n,r)=>{},this._transitionEngine=new In(t.body,e,i),this._timelineEngine=new En(t.body,e,i),this._transitionEngine.onRemovalComplete=(n,r)=>this.onRemovalComplete(n,r)}registerTrigger(t,e,i,n,r){let o=t+"-"+n,a=this._triggerCache[o];if(!a){let c=[],u=[],y=Ir(this._driver,r,c,u);if(c.length)throw Ia(n,c);u.length&&void 0,a=pl(n,y,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,n,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if(i.charAt(0)=="@"){let[r,o]=lr(i),a=n;this._timelineEngine.command(r,e,o,a)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,r){if(i.charAt(0)=="@"){let[o,a]=lr(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,n,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Al(s,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=pn(t[0]),t.length>1&&(i=pn(t[t.length-1]))):t instanceof Map&&(e=pn(t)),e||i?new An(s,e,i):null}var An=class s{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let n=s.initialStylesByElement.get(t);n||s.initialStylesByElement.set(t,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fe(this._element,this._initialStyles),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(nt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nt(this._element,this._endStyles),this._endStyles=null),Fe(this._element,this._initialStyles),this._state=3)}};function pn(s){let t=null;return s.forEach((e,i)=>{Ml(i)&&(t=t||new Map,t.set(i,e))}),t}function Ml(s){return s==="display"||s==="position"}var xi=class{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{n!=="offset"&&t.set(n,this._finished?i:Rn(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Ii=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return wr(t,e)}getParentElement(t){return Fn(t)}query(t,e,i){return Tr(t,e,i)}computeStyle(t,e,i){return Rn(t,e)}animate(t,e,i,n,r,o=[]){let a=n==0?"both":"forwards",c={duration:i,delay:n,fill:a};r&&(c.easing=r);let u=new Map,y=o.filter(v=>v instanceof xi);Ga(i,n)&&y.forEach(v=>{v.currentSnapshot.forEach((_,b)=>u.set(b,_))});let m=$a(e).map(v=>new Map(v));m=Ja(t,m,u);let S=Al(t,m);return new xi(t,m,c,S)}};var _i="@",Fr="@.disabled",Ai=class{constructor(t,e,i,n){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==_i&&e==Fr?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Mn=class extends Ai{constructor(t,e,i,n,r){super(e,i,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==_i?e.charAt(1)=="."&&e==Fr?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==_i){let n=Dl(t),r=e.slice(1),o="";return r.charAt(0)!=_i&&([r,o]=Pl(r)),this.engine.listen(this.namespaceId,n,r,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(t,e,i)}};function Dl(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}function Pl(s){let t=s.indexOf("."),e=s.substring(0,t),i=s.slice(t+1);return[e,i]}var Mi=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(n,r)=>{r?.removeChild(null,n)}}createRenderer(t,e){let i="",n=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,y=u.get(n);if(!y){let m=()=>u.delete(n);y=new Ai(i,n,this.engine,m),u.set(n,y)}return y}let r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(r,o,t,u.name,u)};return e.data.animation.forEach(a),new Mn(this,o,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(r=>{let[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),n.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Nl=(()=>{class s extends _t{constructor(e,i,n){super(e,i,n)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||s)(H(Xe),H(st),H(rt))}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})();function Ol(){return new wi}function Rl(s,t,e){return new Mi(s,t,e)}var Nr=[{provide:rt,useFactory:Ol},{provide:_t,useClass:Nl},{provide:cs,useFactory:Rl,deps:[ys,_t,Ge]}],Ll=[{provide:st,useFactory:()=>new Ii},{provide:Yi,useValue:"BrowserAnimations"},...Nr],bd=[{provide:st,useClass:Nn},{provide:Yi,useValue:"NoopAnimations"},...Nr];function Or(){return ds("NgEagerAnimations"),[...Ll]}function Di(s,t){let e=k(s);if(isNaN(t))return he(s,NaN);if(!t)return e;let i=e.getDate(),n=he(s,e.getTime());n.setMonth(e.getMonth()+t+1,0);let r=n.getDate();return i>=r?n:(e.setFullYear(n.getFullYear(),n.getMonth(),i),e)}var Ul={};function Pi(){return Ul}function Fi(s,t){let e=Pi(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,n=k(s),r=n.getDay(),o=(r<i?7:0)+r-i;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function ot(s){return Fi(s,{weekStartsOn:1})}function Rr(s){let t=k(s),e=t.getFullYear(),i=he(s,0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);let n=ot(i),r=he(s,0);r.setFullYear(e,0,4),r.setHours(0,0,0,0);let o=ot(r);return t.getTime()>=n.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function Un(s){let t=k(s),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+s-+e}function Lr(s,t){let e=Ct(s),i=Ct(t),n=+e-Un(e),r=+i-Un(i);return Math.round((n-r)/ks)}function Ur(s){let t=Rr(s),e=he(s,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),ot(e)}function jr(s,t){return Jt(s,t*Zt)}function Hr(s,t){return Jt(s,t*1e3)}function Ni(s,t){let e=t*7;return Gt(s,e)}function Br(s){let t;return s.forEach(function(e){let i=k(e);(t===void 0||t<i||isNaN(Number(i)))&&(t=i)}),t||new Date(NaN)}function zr(s,t){let e=k(s),i=k(t),n=Vr(e,i),r=Math.abs(Lr(e,i));e.setDate(e.getDate()-n*r);let o=+(Vr(e,i)===-n),a=n*(r-o);return a===0?0:a}function Vr(s,t){let e=s.getFullYear()-t.getFullYear()||s.getMonth()-t.getMonth()||s.getDate()-t.getDate()||s.getHours()-t.getHours()||s.getMinutes()-t.getMinutes()||s.getSeconds()-t.getSeconds()||s.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function Oi(s){return t=>{let i=(s?Math[s]:Math.trunc)(t);return i===0?0:i}}function Ri(s,t){return+k(s)-+k(t)}function Wr(s,t,e){let i=Ri(s,t)/Zt;return Oi(e?.roundingMethod)(i)}function qr(s,t,e){let i=Ri(s,t)/1e3;return Oi(e?.roundingMethod)(i)}function Kr(s){let t=k(s);return t.setSeconds(0,0),t}function $r(s){let t=k(s);return t.setDate(1),t.setHours(0,0,0,0),t}function Qr(s,t){let e=Pi(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,n=k(s),r=n.getDay(),o=(r<i?-7:0)+6-(r-i);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}function Yr(s){let t=k(s),e=+ot(t)-+Ur(t);return Math.round(e/Cs)+1}function Gr(s){return k(s).getDate()}function Jr(s){return k(s).getDay()}function Zr(s){let t=k(s),e=t.getFullYear(),i=t.getMonth(),n=he(s,0);return n.setFullYear(e,i+1,0),n.setHours(0,0,0,0),n.getDate()}function Xr(s){return k(s).getHours()}function eo(s){return k(s).getMinutes()}function to(s){return k(s).getMonth()}function io(s){return k(s).getFullYear()}function jn(s){let t=k(s);return t.setMilliseconds(0),t}function no(s,t){let e=jn(s),i=jn(t);return+e==+i}function so(s,t){let e=k(s),i=e.getFullYear(),n=e.getDate(),r=he(s,0);r.setFullYear(i,t,15),r.setHours(0,0,0,0);let o=Zr(r);return e.setMonth(t,Math.min(n,o)),e}function ro(s,t){let e=k(s);return e.setDate(t),e}function oo(s,t){let e=k(s);return e.setHours(t),e}function ao(s,t){let e=k(s);return e.setMinutes(t),e}function lo(s,t){let e=k(s);return isNaN(+e)?he(s,NaN):(e.setFullYear(t),e)}function co(s,t){return Di(s,-t)}function uo(s,t){return Ni(s,-t)}function jl(s){return new Date(s).getTimezoneOffset()}function ho(){return{addDays:Gt,addHours:Es,addMinutes:jr,addSeconds:Hr,differenceInDays:zr,differenceInMinutes:Wr,differenceInSeconds:qr,endOfDay:Is,endOfMonth:As,endOfWeek:Qr,getDay:Jr,getMonth:to,isSameDay:xs,isSameMonth:Ms,isSameSecond:no,max:Br,setHours:oo,setMinutes:ao,startOfDay:Ct,startOfMinute:Kr,startOfMonth:$r,startOfWeek:Fi,getHours:Xr,getMinutes:eo,getTimezoneOffset:jl}}function mo(){return $i($i({},ho()),{addWeeks:Ni,addMonths:Di,subDays:Ds,subWeeks:uo,subMonths:co,getISOWeek:Yr,setDate:ro,setMonth:so,setYear:lo,getDate:Gr,getYear:io})}function Hl(s,t){if(s&1&&(l(0,"h5"),f(1),d(),l(2,"p"),f(3,"Note: if you are seeing this then angular is not to blame"),d(),l(4,"p"),f(5,"What do you do next"),d(),l(6,"ol")(7,"li"),f(8,"Open chrome dev tools and check the failing network request"),d(),l(9,"li"),f(10,"Examine the url of the failing request"),d(),l(11,"li"),f(12,"Reproduce error in postman"),d()(),l(13,"p"),f(14,"Following is the stack trace"),d(),l(15,"code"),f(16),d()),s&2){let e=D();h(),X("Error: ",e.error.message,""),h(15),q(e.error.details)}}var po=(()=>{class s{constructor(e){this.router=e;let i=this.router.getCurrentNavigation();this.error=i?.extras?.state?.error}static{this.\u0275fac=function(i){return new(i||s)(U(be))}}static{this.\u0275cmp=I({type:s,selectors:[["app-server-error"]],standalone:!0,features:[M],decls:3,vars:1,template:function(i,n){i&1&&(l(0,"h4"),f(1,"Internal Server Error"),d(),B(2,Hl,17,2)),i&2&&(h(2),ie(n.error?2:-1))}})}}return s})();var Hn=(()=>{class s{constructor(e){this.router=e}ngOnInit(){this.url=this.router.url}canActivate(e,i){let n=JSON.parse(localStorage.getItem("user")||"{}");return!0}static{this.\u0275fac=function(i){return new(i||s)(H(be))}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Bl=()=>["/profile/timeline"],Vl=s=>({"background-image":s}),fo=(()=>{class s{constructor(e){this.commonServices=e,this.isOpen=!1}static{this.\u0275fac=function(i){return new(i||s)(U(me))}}static{this.\u0275cmp=I({type:s,selectors:[["app-chat-box"]],standalone:!0,features:[M],decls:32,vars:10,consts:[[1,"chat-box",2,"right","370px"],[1,"chat-header",3,"routerLink"],[1,"name"],[1,"user-img",3,"ngStyle"],[1,"available-stats","online"],[1,"menu-option"],["src","assets/svg/video.svg"],["src","assets/svg/phone.svg"],["src","assets/svg/settings.svg"],[1,"close-chat",3,"click"],["src","assets/svg/x.svg"],[1,"chat-wrap"],[1,"chat-body"],[1,"msg_push"],[1,"chat-footer"],["placeholder","type your message here..",1,"chat-input","form-control","emojiPicker"],[1,"add-extent"],[1,"fas","fa-plus","animated-btn",3,"click"],[1,"options"],["src","assets/svg/image.svg"],["src","assets/svg/paperclip.svg"],["src","assets/svg/camera.svg"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"a",1)(2,"div",2)(3,"div",3),p(4,"span",4),d(),l(5,"span"),f(6),d()(),l(7,"div",5)(8,"ul")(9,"li"),p(10,"img",6),d(),l(11,"li"),p(12,"img",7),d(),l(13,"li"),p(14,"img",8),d(),l(15,"li",9),x("click",function(){return n.commonServices.isShow=!1}),p(16,"img",10),d()()()(),l(17,"div",11)(18,"div",12),p(19,"div",13),d(),l(20,"div",14),p(21,"input",15),l(22,"div",16)(23,"i",17),x("click",function(){return n.isOpen=!n.isOpen}),d(),l(24,"div",18)(25,"ul")(26,"li"),p(27,"img",19),d(),l(28,"li"),p(29,"img",20),d(),l(30,"li"),p(31,"img",21),d()()()()()()()),i&2&&(Q("show",n.commonServices.isShow),h(),g("routerLink",xe(7,Bl)),h(2),g("ngStyle",ge(8,Vl,"url("+n.commonServices.popoverData.image+")")),h(3),q(n.commonServices.popoverData.title),h(16),Q("show",n.isOpen))},dependencies:[ee,we,G,Se]})}}return s})();var zl=s=>({"background-image":s});function Wl(s,t){if(s&1){let e=Y();l(0,"li")(1,"div",23)(2,"a",24,2),x("click",function(){let n=R(e).$implicit,r=Wt(3),o=D(3);return L(o.commonServices.toggle(r,n.image,n.title))}),p(4,"img",25)(5,"span"),d(),l(6,"div",26)(7,"h5",27),f(8),d(),l(9,"h6"),f(10),d()()()()}if(s&2){let e=t.$implicit;D(3);let i=Wt(38);Gi("friend-box ",e.class,""),h(2),g("ngbPopover",i)("ngStyle",ge(11,zl,"url("+e.image+")")),h(2),g("src",e.image,je),h(),Gi("available-stats ",e.status,""),h(3),q(e.title),h(2),q(e.city)}}function ql(s,t){if(s&1){let e=Y();l(0,"div",17)(1,"div",18)(2,"a",19),x("click",function(){R(e);let n=Wt(7);return L(n.toggle())}),f(3),l(4,"div",20),p(5,"app-feather-icon",8),d()()(),l(6,"div",21,1),Ve("ngbCollapseChange",function(n){let r=R(e).$implicit;return Be(r.isCollapsed,n)||(r.isCollapsed=n),L(n)}),l(8,"ul"),ne(9,Wl,11,13,"li",22,ce),d()()()}if(s&2){let e=t.$implicit;h(2),Je("aria-expanded",!e.isCollapsed),h(),X("",e.heading," "),h(2),A("icon-theme iw-14 ih-14"),g("icons","chevron-down"),h(),He("ngbCollapse",e.isCollapsed),h(3),se(e.data)}}function Kl(s,t){if(s&1&&ne(0,ql,11,6,"div",17,ce),s&2){let e=D();se(e.friendsListData)}}function $l(s,t){if(s&1&&p(0,"app-popover-loader",28),s&2){let e=D();g("data",e.commonServices.popoverData)}}function Ql(s,t){s&1&&p(0,"app-chat-box")}var yo=(()=>{class s{constructor(e){this.commonServices=e,this.isCollapsed=!1,this.isCollapsed2=!1,this.isShow=!1,this.isOpenSearch=!1}ngOnInit(){this.commonServices.friendsConversation().subscribe(e=>{e&&(this.friendsListData=e.friendsConversationList)})}outSideClose(){this.isShow=!1}static{this.\u0275fac=function(i){return new(i||s)(U(me))}}static{this.\u0275cmp=I({type:s,selectors:[["app-friends-conversation"]],standalone:!0,features:[M],decls:40,vars:32,consts:[["popContent",""],["collapse","ngbCollapse"],["data","ngbPopover"],[1,"panel-header"],[1,"setting"],[1,"setting-btn","setting-dropdown",3,"clickOutside"],[1,"btn-group","custom-dropdown","dropdown-sm"],["href","javascript:void(0)",3,"click"],[3,"icons"],[1,"dropdown-menu","dropdown-menu-right","custom-dropdown",2,"position","absolute","inset","0px auto auto 0px","margin","0px","transform","translate(-149px, 23px)"],["href","javascript:void(0)"],[1,"search-bar"],[1,"lg-search"],["type","text","placeholder","find friends...",1,"form-control"],[1,"xs-search"],[1,"icon-search",3,"click"],[1,"icon-close",3,"click"],[1,"friend-section"],[1,"header-section"],["role","button",3,"click"],[1,"down-arrow"],["id","accordion",1,"friend-list","collapse","show",3,"ngbCollapseChange","ngbCollapse"],[3,"class"],[1,"media"],["triggers","","placement","left",1,"popover-cls","user-img",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"click","ngbPopover","ngStyle"],["alt","user",1,"img-fluid","bg-img",2,"display","none",3,"src"],[1,"media-body"],[1,"user-name"],[3,"data"]],template:function(i,n){if(i&1){let r=Y();l(0,"div",3)(1,"h2"),f(2,"friends"),d(),l(3,"h5"),f(4,"start new conversation"),d(),l(5,"div",4)(6,"div",5),x("clickOutside",function(){return R(r),L(n.outSideClose())}),l(7,"div",6)(8,"a",7),x("click",function(){return R(r),L(n.isShow=!n.isShow)}),p(9,"app-feather-icon",8),d(),l(10,"div",9)(11,"ul")(12,"li")(13,"a",10),p(14,"app-feather-icon",8),f(15,"see all"),d()(),l(16,"li")(17,"a",10),p(18,"app-feather-icon",8),f(19,"find friends"),d()(),l(20,"li")(21,"a",10),p(22,"app-feather-icon",8),f(23,"settings"),d()()()()()()()(),l(24,"div",11)(25,"div",12),p(26,"app-feather-icon",8)(27,"input",13),d(),l(28,"div",14)(29,"div",15),x("click",function(){return R(r),L(n.isOpenSearch=!0)}),p(30,"app-feather-icon",8),d(),l(31,"div",12),p(32,"app-feather-icon",8)(33,"input",13),l(34,"div",16),x("click",function(){return R(r),L(n.isOpenSearch=!1)}),p(35,"app-feather-icon",8),d()()()(),B(36,Kl,2,0)(37,$l,1,1,"ng-template",null,0,hs)(39,Ql,1,0,"app-chat-box")}i&2&&(h(8),Q("show",n.isShow),h(),A("icon-theme stroke-width-3 icon iw-11 ih-11"),g("icons","sun"),h(),Q("show",n.isShow),h(4),A("icon-font-light iw-16 ih-16"),g("icons","user"),h(4),A("icon-font-light iw-16 ih-16"),g("icons","search"),h(4),A("icon-font-light iw-16 ih-16"),g("icons","settings"),h(4),A("icon-theme icon iw-16"),g("icons","search"),h(2),Q("open-full",n.isOpenSearch),h(2),A("icon-dark iw-16"),g("icons","search"),h(2),A("icon-dark icon iw-16"),g("icons","search"),h(3),A("icon-dark iw-16"),g("icons","x"),h(),ie(n.friendsListData?36:-1),h(3),ie(n.commonServices.isShow?39:-1))},dependencies:[ae,Ks,fo,hi,Os,Rs,G,Se,Ns,ee]})}}return s})();var vo=(()=>{class s{constructor(e){this.http=e}storyBox(){return this.http.get("assets/data/setting-box-list.json")}static{this.\u0275fac=function(i){return new(i||s)(H($t))}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Jl=s=>({"background-image":s});function Zl(s,t){if(s&1){let e=Y();l(0,"div",12)(1,"div",13)(2,"div",14),p(3,"img",15),d(),l(4,"div",16)(5,"h4"),f(6),d(),l(7,"div",17)(8,"button",18),x("click",function(){R(e);let n=D(3);return L(n.closeSetting(n.isOpenMenu))}),f(9,"Preview"),d()()()()()}if(s&2){let e=t.$implicit;h(2),g("ngStyle",ge(4,Jl,"url("+e.image+")")),h(),g("src",e.image,je),h(3),q(e.title),h(2),g("routerLink",e.path)}}function Xl(s,t){if(s&1&&ne(0,Zl,10,6,"div",12,ce),s&2){let e=D().$implicit;se(e.data)}}function ec(s,t){if(s&1&&(l(0,"div",5)(1,"h2",8)(2,"button",9),f(3),d()(),l(4,"div",10)(5,"div",11),B(6,Xl,2,0,"ng-template"),d()()()),s&2){let e=t.$implicit;g("collapsed",!0),h(3),q(e.title)}}var _o=(()=>{class s{constructor(e,i){this.settingBoxServices=e,this.common=i,this.childEvent=new zt}ngOnInit(){this.settingBoxServices.storyBox().subscribe(e=>{this.settingBox=e.settingBoxList})}closeSetting(e){this.childEvent.emit(e=!1)}static{this.\u0275fac=function(i){return new(i||s)(U(vo),U(me))}}static{this.\u0275cmp=I({type:s,selectors:[["app-setting-box"]],inputs:{isOpenMenu:"isOpenMenu"},outputs:{childEvent:"childEvent"},standalone:!0,features:[M],decls:12,vars:1,consts:[["href","javascript:void(0)"],[1,"setting_box_body"],[1,"sidebar-back","text-left",3,"click"],[1,"fa","fa-angle-left","pe-2"],["ngbAccordion","",1,"setting-body",3,"closeOthers"],["ngbAccordionItem","",3,"collapsed"],[1,"buy_btn"],["href","javascript:void(0)",1,"btn","btn-block","btn-solid"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse","",1,"setting-contant"],["ngbAccordionBody","",1,"row","demo-section"],[1,"col-sm-6","col-12","text-center","demo-effects"],[1,"set-position"],[1,"layout-container",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["alt","",1,"bg-img",2,"display","none",3,"src"],[1,"demo-text"],[1,"btn-group","demo-btn"],["type","button",1,"btn","new-tab-btn",3,"click","routerLink"]],template:function(i,n){i&1&&(p(0,"a",0),l(1,"div",1)(2,"div")(3,"div",2),x("click",function(){return n.closeSetting(n.isOpenMenu)}),p(4,"i",3),f(5,"Back"),d()(),l(6,"div",4),ne(7,ec,7,2,"div",5,ce),l(9,"div",6)(10,"a",7),f(11,"purchase Friendbook now!"),d()()()()),i&2&&(h(6),g("closeOthers",!0),h(),se(n.settingBox))},dependencies:[G,Se,ui,ai,di,ci,li,ri,oi,ee,we]})}}return s})();function tc(s,t){s&1&&(l(0,"div",4),f(1,"Dark"),d())}function ic(s,t){s&1&&(l(0,"div",4),f(1,"Light"),d())}var Li=(()=>{class s{constructor(e){this.commonServices=e,this.tabData="rtl",this.isOpenMenu=!1}changeLayoutType(e){e=="rtl"?(document.body.classList.add("rtl"),this.tabData="ltr"):(document.body.classList.remove("rtl"),this.tabData="rtl")}isFalse(e){this.isOpenMenu=e}static{this.\u0275fac=function(i){return new(i||s)(U(me))}}static{this.\u0275cmp=I({type:s,selectors:[["app-theme-settings"]],standalone:!0,features:[M],decls:14,vars:7,consts:[[1,"theme-settings"],[1,"rtl-btn"],[1,"theme-layout-version",3,"click"],[1,"rtl-btn","h-cls",3,"click"],[1,"dark-button"],[1,"pages"],[3,"click"],["id","setting-icon",1,"theme-setting-sidebar"],["id","setting_box",1,"setting-box"],[3,"childEvent","isOpenMenu"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),x("click",function(){return n.changeLayoutType(n.tabData)}),f(3),d()(),l(4,"div",3),x("click",function(){return n.commonServices.changeMode()}),B(5,tc,2,0,"div",4)(6,ic,2,0,"div",4),d(),l(7,"div",5)(8,"a",6),x("click",function(){return n.isOpenMenu=!0}),l(9,"div",7)(10,"div"),f(11," pages "),d()()()()(),l(12,"div",8)(13,"app-setting-box",9),x("childEvent",function(o){return n.isFalse(o)}),d()()),i&2&&(h(2),Q("rtl",n.tabData==="ltr"),h(),X(" ",n.tabData.toUpperCase(),""),h(2),ie(n.commonServices.dark?6:5),h(7),Q("open-setting",n.isOpenMenu),h(),g("isOpenMenu",n.isOpenMenu))},dependencies:[_o,hi,ft]})}}return s})();function nc(s,t){if(s&1&&(l(0,"div",3)(1,"div",8)(2,"div",9),p(3,"app-sidebar",1),d(),l(4,"div",10),p(5,"app-liked-pages",11),d()()()),s&2){let e=D();h(3),g("currentUrl",e.currentUrl),h(2),g("rating",!1)}}function sc(s,t){if(s&1&&(l(0,"div",12),p(1,"app-sidebar",1),d()),s&2){let e=D();Q("show",e.commonServices.isSidebar),g("ngClass",e.getClass().sidebar),h(),g("currentUrl",e.currentUrl)}}function rc(s,t){s&1&&(l(0,"div",5)(1,"div",13)(2,"div",14),p(3,"app-profile-box"),d(),l(4,"div",15),p(5,"app-friend-suggestion"),d(),l(6,"div",16)(7,"div",10),p(8,"app-liked-pages",11),d(),l(9,"div",17),p(10,"app-common-weather"),d()()()()),s&2&&(h(8),g("rating",!0))}function oc(s,t){s&1&&(l(0,"div",5)(1,"div",13)(2,"div",14),p(3,"app-profile-box"),d(),l(4,"div",15),p(5,"app-friend-suggestion"),d(),l(6,"div",16)(7,"div",10),p(8,"app-liked-pages",11),d(),l(9,"div",17),p(10,"app-common-weather"),d()()()()),s&2&&(h(8),g("rating",!0))}var So=(()=>{class s{constructor(e,i){this.router=e,this.commonServices=i,this.router.events.subscribe(n=>{n instanceof Ss&&(this.currentUrl=n.url,window.scrollTo(0,0))})}getClass(){let e="",i="",n="",r="",o="";return this.currentUrl==="/news-feed-layout/style-1"||this.currentUrl==="/"?e="custom-padding":this.currentUrl==="/news-feed-layout/style-2"?(i="header-light",n="sidebar-white",e="custom-padding"):this.currentUrl==="/news-feed-layout/style-3"?(e="newsfeed-style1",n="panel-lg"):this.currentUrl==="/news-feed-layout/style-4"?(e="newsfeed-style2",n="panel-lg",r="d-none"):this.currentUrl==="/news-feed-layout/style-5"?(e="custom-padding newsfeed-style7",r="panel-xs",o="page-lg"):this.currentUrl==="/news-feed-layout/style-6"?(e="custom-padding newsfeed-style3",n="d-none"):this.currentUrl==="/news-feed-layout/style-7"?(e="custom-padding newsfeed-style4",n="d-none",r="d-none"):this.currentUrl==="/news-feed-layout/style-8"?(e="custom-padding newsfeed-style3 width-style style-8-page",n="panel-lg fixed-sidebar",r="d-none"):this.currentUrl==="/news-feed-layout/style-9"?(e="newsfeed-style5",n="sidebar-light panel-lg"):this.currentUrl==="/news-feed-layout/style-10"?(e="newsfeed-style6",n="panel-lg"):this.currentUrl==="/news-feed-layout/style-11"?e="newsfeed-style6 custom-padding single-post":this.currentUrl==="/news-feed-layout/style-12"?(e="newsfeed-style custom-padding",r="panel-xs"):this.currentUrl==="/profile/timeline"?e="custom-padding profile-page":this.currentUrl==="/profile/about"?e="custom-padding profile-page profile-page-about":this.currentUrl==="/profile/friends"||this.currentUrl==="/profile/gallery"?e="custom-padding profile-page profile-page-friend":this.currentUrl==="/profile/activity-feed"||this.currentUrl==="/profile/tab"||this.currentUrl==="/profile/friend-profile"?e="custom-padding profile-page":this.currentUrl==="/favorite/page-listing"?e="custom-padding event-page":this.currentUrl==="/favorite/page-home"||this.currentUrl==="/favorite/about"?e="custom-padding custom-padding favourite-page-body":this.currentUrl==="/favorite/review"?e="custom-padding favourite-page-body":this.currentUrl==="/favorite/gallery"?e="custom-padding profile-page profile-page-friend":this.currentUrl==="/favorite/tab"?e="custom-padding favourite-page-body":this.currentUrl==="/others/event-calendar"?e="custom-padding event-page":this.currentUrl==="/others/birthday"?e="custom-padding birthday-page":this.currentUrl==="/others/weather"?e="custom-padding weather-page":this.currentUrl==="/others/music"?e="custom-padding music-page":this.currentUrl==="/others/games"?e="custom-padding game-page":this.currentUrl==="/others/tab"&&(e="custom-padding favourite-page-body"),{body:e,header:i,sidebar:n,panel:r,center:o}}static{this.\u0275fac=function(i){return new(i||s)(U(be),U(me))}}static{this.\u0275cmp=I({type:s,selectors:[["app-content"]],standalone:!0,features:[M],decls:12,vars:8,consts:[[3,"ngClass"],[3,"currentUrl"],[1,"page-body","container-fluid",3,"ngClass"],[1,"panel-sidebar"],[1,"sidebar-panel",3,"show","ngClass"],[1,"page-content","content-sidebar","m-0"],[1,"page-center",3,"ngClass"],[1,"conversation-panel","xl-light",3,"ngClass"],[1,"sticky-cls"],[1,"sidebar-panel","panel-lg","dark-sidebar"],[1,"page-list","section-t-space"],[3,"rating"],[1,"sidebar-panel",3,"ngClass"],[1,"content-left","p-0"],[1,"profile-box"],[1,"suggestion-box","section-t-space"],[1,"sticky-top","sticky-xl-top"],[1,"weather-section","section-t-space"]],template:function(i,n){i&1&&(l(0,"header",0),p(1,"app-header",1),d(),l(2,"div",2),B(3,nc,6,2,"div",3)(4,sc,2,4,"div",4)(5,rc,11,1,"div",5),l(6,"div",6),p(7,"router-outlet"),d(),B(8,oc,11,1,"div",5),l(9,"div",7),p(10,"app-friends-conversation"),d()(),p(11,"app-theme-settings")),i&2&&(g("ngClass",n.getClass().header),h(),g("currentUrl",n.currentUrl),h(),g("ngClass",n.getClass().body),h(),ie(n.currentUrl.includes("/news-feed-layout/style-10")||n.currentUrl.includes("/news-feed-layout/style-11")?3:4),h(2),ie(n.currentUrl.includes("/news-feed-layout/style-6")?5:-1),h(),g("ngClass",n.getClass().center),h(2),ie(n.currentUrl.includes("news-feed-layout/style-8")?8:-1),h(),g("ngClass",n.getClass().panel))},dependencies:[Gs,yo,Li,$s,Ys,qs,Qs,Ws,ee,mt,G,Kt]})}}return s})();var bo=(()=>{class s{constructor(e){this.viewScroller=e,this.isShow=!1}onWindowScroll(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>600?this.isShow=!0:this.isShow=!1}tapToTop(){this.viewScroller.scrollToPosition([0,0])}static{this.\u0275fac=function(i){return new(i||s)(U(ms))}}static{this.\u0275cmp=I({type:s,selectors:[["app-tap-top"]],hostBindings:function(i,n){i&1&&x("scroll",function(){return n.onWindowScroll()},!1,as)},standalone:!0,features:[M],decls:3,vars:2,consts:[[1,"tap-top",3,"click"],[1,"fa","fa-angle-double-up"]],template:function(i,n){i&1&&(l(0,"div",0),x("click",function(){return n.tapToTop()}),l(1,"div"),p(2,"i",1),d()()),i&2&&Ze("display",n.isShow?"block":"none")}})}}return s})();var wo=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-full"]],standalone:!0,features:[M],decls:3,vars:0,template:function(i,n){i&1&&p(0,"router-outlet")(1,"app-theme-settings")(2,"app-tap-top")},dependencies:[ee,mt,G,Li,bo]})}}return s})();function ac(s,t){s&1&&f(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}function lc(s,t){if(s&1&&(l(0,"div",5)(1,"div",10)(2,"h2",11)(3,"button",12),f(4),d()(),l(5,"div",13)(6,"div",14),B(7,ac,1,0,"ng-template"),d()()()()),s&2){let e=t.$implicit;g("closeOthers",!0),h(),g("collapsed",e!=="First"),h(3),q(e)}}function cc(s,t){if(s&1&&p(0,"li",7),s&2){let e=t.$implicit;g("innerHTML",e.title,wt)}}var To=(()=>{class s{constructor(){this.items=["Choose a new username","Check if you already have a Friendbook Account","Check where email notifications are sent"],this.existingEmail=Zs}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-article-part"]],standalone:!0,features:[M],decls:42,vars:0,consts:[[1,"article-part"],[1,"main-title"],[1,"content"],[1,"sub-title"],["id","accordionExample",1,"accordion","theme-accordion","accordion-sm"],["ngbAccordion","",1,"card",3,"closeOthers"],[1,"inner-title"],[3,"innerHTML"],[1,"content","mb-0"],["href","javascript:void(0)"],["ngbAccordionItem","",3,"collapsed"],["ngbAccordionHeader","",1,"card-header"],["ngbAccordionButton","",1,"btn","btn-link","btn-block","text-left"],["ngbAccordionCollapse","",1,"collapse","show"],["ngbAccordionBody","",1,"card-body"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),f(3,"how to create friendbook account"),d()(),l(4,"div",2)(5,"p"),f(6,"A friendbook is social media website. With a friendbook Account, you can do things like: "),d(),l(7,"ul")(8,"li"),f(9,"make a new friend"),d(),l(10,"li"),f(11,"make unforgatable events"),d(),l(12,"li"),f(13,"connect with people"),d()()(),l(14,"div",3)(15,"h3"),f(16,"step: 1 Create Friendbook Account"),d()(),l(17,"div",2)(18,"p"),f(19,"When you create a Friendbook Account, we ask for some personal info. By providing accurate info, you can help keep your account secure and make our services more useful. "),d(),l(20,"div",4),ne(21,lc,8,3,"div",5,ce),d(),l(23,"div",6)(24,"h4"),f(25,"Use an existing email address "),d()(),l(26,"ol"),ne(27,cc,1,1,"li",7,ce),d()(),l(29,"div",3)(30,"h3"),f(31,"step: 2 Protect your account with recovery info"),d()(),l(32,"div",8)(33,"p"),f(34,"If you forget your password or someone is using your account without your permission, updated recovery info makes it much more likely you\u2019ll get your account back. "),d(),l(35,"ul")(36,"li")(37,"a",9),f(38,"Add a recovery phone number"),d()(),l(39,"li")(40,"a",9),f(41,"Add a recovery email address"),d()()()()()),i&2&&(h(21),se(n.items),h(6),se(n.existingEmail))},dependencies:[ui,ai,di,ci,li,ri,oi]})}}return s})();function dc(s,t){return this.articleSidebar}function uc(s,t){if(s&1&&(l(0,"li",3)(1,"a",4),p(2,"app-feather-icon",5),l(3,"h6"),f(4),d()()()),s&2){let e=t.$implicit,i=t.$index;Q("active",i===0),h(2),g("icons","file-text"),h(2),q(e.heading)}}var Co=(()=>{class s{constructor(){this.articleSidebar=Js}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-article-sidebar"]],standalone:!0,features:[M],decls:7,vars:0,consts:[[1,"article-sidebar","sticky-cls-top","theme-card"],[1,"sidebar-title"],[1,"active",3,"active"],[1,"active"],["href","javascript:void(0)"],[3,"icons"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),f(3,"Related topics"),d()(),l(4,"ul"),ne(5,uc,5,4,"li",2,dc,!0),d()()),i&2&&(h(5),se(n.articleSidebar))},dependencies:[ae]})}}return s})();var ko=(()=>{class s{ngOnInit(){document.body.classList.add("bg-white")}ngOnDestroy(){document.body.classList.remove("bg-white")}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-help-article"]],standalone:!0,features:[M],decls:28,vars:1,consts:[[1,"no-sticky","bg-transparent"],[1,"breadcrumb-section","bg-size",2,"background-image","url(assets/images/breadcrumb.jpg)","background-size","cover","background-position","center center","background-repeat","no-repeat","display","block"],["src","assets/images/breadcrumb.jpg","alt","",1,"img-fluid","bg-img",2,"display","none"],[1,"animation-emoji"],[1,"help-search"],[1,"container"],[1,"row"],[1,"col-lg-6","col-md-8","col-12","m-auto"],["type","search","placeholder","Search something here1...",1,"form-control"],[1,"section-pt-space","section-pb-space","article-section"],[1,"col-lg-9","order-lg-1"],[1,"col-lg-3"],[1,"footer-t-space"],[3,"footerClass"]],template:function(i,n){i&1&&(p(0,"app-loading"),l(1,"header",0),p(2,"app-header-one"),d(),l(3,"section",1),p(4,"img",2),l(5,"div",3),p(6,"app-animation-emoji"),d(),l(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h2"),f(12,"how can we help you?"),d(),l(13,"form"),p(14,"input",8),l(15,"span"),f(16,"popular topics: privacy, security, profile"),d()()()()()()(),l(17,"section",9)(18,"div",5)(19,"div",6)(20,"div",10),p(21,"app-article-part"),d(),l(22,"div",11),p(23,"app-article-sidebar"),d()()()(),l(24,"section"),p(25,"app-download"),d(),l(26,"footer",12),p(27,"app-footer",13),d()),i&2&&(h(27),g("footerClass","footer-b-space"))},dependencies:[pi,Ls,To,Co,Pe,Us,Bs]})}}return s})();var hc=()=>["/news-feed-layout/style-1"],mc=()=>["/others/register"];function pc(s,t){if(s&1){let e=Y();l(0,"app-feather-icon",41),x("click",function(){R(e);let n=D();return L(n.show=!n.show)}),d()}s&2&&(A("input-icon iw-20 ih-20"),g("icons","eye"))}function fc(s,t){if(s&1){let e=Y();l(0,"app-feather-icon",41),x("click",function(){R(e);let n=D();return L(n.show=!n.show)}),d()}s&2&&(A("input-icon iw-20 ih-20"),g("icons","eye-off"))}var Eo=(()=>{class s{constructor(e){this.commonServices=e,this.show=!1}static{this.\u0275fac=function(i){return new(i||s)(U(me))}}static{this.\u0275cmp=I({type:s,selectors:[["app-login"]],standalone:!0,features:[M],decls:81,vars:13,consts:[[1,"login-section"],[1,"header-section"],[1,"logo-sec"],[3,"routerLink"],["src","assets/images/icon/logo.png","alt","logo",1,"img-fluid"],[1,"right-links"],["href","javascript:void(0)"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-5","d-none","d-lg-block"],[1,"login-welcome"],["src","assets/images/login/charcter.png","alt","charcter",1,"img-fluid"],[1,"col-xl-6","col-lg-7","col-md-10","col-12","m-auto"],[1,"login-form"],[1,"login-title"],[1,"login-discription"],[1,"form-sec"],[1,"theme-form"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","placeholder","Enter email",1,"form-control"],[3,"icons"],["for","exampleInputPassword1"],["id","exampleInputPassword1","placeholder","Password","formControlName","password",1,"form-control",3,"type"],[3,"icons","class"],[1,"bottom-sec"],[1,"form-check","checkbox_animated"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["href","javascript:void(0)",1,"ms-auto","forget-password"],[1,"btn-section"],[1,"btn","btn-solid","btn-lg"],[1,"btn","btn-solid","btn-lg","ms-auto",3,"routerLink"],[1,"connect-with"],[1,"social-links"],[1,"google"],[1,"facebook"],[1,"twitter"],[1,"how-work"],[1,"media"],[1,"media-body"],[3,"click","icons"]],template:function(i,n){i&1&&(p(0,"app-loading"),l(1,"section",0)(2,"div",1)(3,"div",2)(4,"a",3),p(5,"img",4),d()(),l(6,"div",5)(7,"ul")(8,"li")(9,"a",6),f(10," about "),d()(),l(11,"li")(12,"a",6),f(13," upgrade "),d()()()()(),l(14,"div",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"div"),p(19,"img",11),l(20,"h1"),f(21,"Welcome Back!"),d()()()(),l(22,"div",12)(23,"div",13)(24,"div")(25,"div",14)(26,"h2"),f(27,"Login"),d()(),l(28,"div",15)(29,"h3"),f(30,"Hello Everyone, Welcome Back"),d(),l(31,"h4"),f(32,"Welcome to WingTek Notions, please login to your account. "),d()(),l(33,"div",16)(34,"div")(35,"form",17)(36,"div",18)(37,"label",19),f(38,"Email address"),d(),p(39,"input",20)(40,"app-feather-icon",21),d(),l(41,"div",18)(42,"label",22),f(43,"Password"),d(),p(44,"input",23),B(45,pc,1,3,"app-feather-icon",24)(46,fc,1,3,"app-feather-icon",24),d(),l(47,"div",25)(48,"div",26),p(49,"input",27),l(50,"label",28),f(51,"remember me"),d()(),l(52,"a",29),f(53,"forget password?"),d()(),l(54,"div",30)(55,"a",31),f(56,"login"),d(),l(57,"a",32),f(58,"sign up"),d()()(),l(59,"div",33)(60,"h6")(61,"span"),f(62,"OR Connect With"),d()(),l(63,"ul",34)(64,"li",35)(65,"a",6),p(66,"app-svg-icon",21),d()(),l(67,"li",36)(68,"a",6),p(69,"app-svg-icon",21),d()(),l(70,"li",37)(71,"a",6),p(72,"app-svg-icon",21),d()()()()()()()()()()(),l(73,"div",38)(74,"div",39),p(75,"app-feather-icon",21),l(76,"div",40)(77,"h2"),f(78,"how it work?"),d(),l(79,"p"),f(80," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been. "),d()()()()()),i&2&&(h(4),g("routerLink",xe(11,hc)),h(36),A("input-icon iw-20 ih-20"),g("icons","user"),h(4),g("type",n.show?"text":"password"),h(),ie(n.show?45:46),h(12),g("routerLink",xe(12,mc)),h(9),g("icons","google"),h(3),g("icons","facebook"),h(3),g("icons","twitter"),h(3),g("icons","play-circle"))},dependencies:[We,ae,Pe,ee,we]})}}return s})();var xo=s=>({"background-image":s});function gc(s,t){if(s&1&&(l(0,"div",15)(1,"div",16)(2,"div",17)(3,"a",18),p(4,"img",19),d()()()()),s&2){let e=t.$implicit;h(3),g("ngStyle",ge(2,xo,"url("+e.image+")")),h(),g("src",e.image,je)}}var Io=(()=>{class s{constructor(){this.move=new zt,this.socialMedia=mi}isFalse(){this.isMenu=!1,this.move.emit(this.isMenu)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-user-info"]],inputs:{data:"data",isMenu:"isMenu"},outputs:{move:"move"},standalone:!0,features:[M],decls:33,vars:10,consts:[[1,"back-btn","d-lg-none","d-block",3,"click"],[3,"icons"],[1,"user-image","bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["src","assets/images/user/2.jpg","alt","",1,"img-fluid","bg-img",2,"display","none"],[1,"user-name"],[1,"social-btn"],[1,"facebook"],["href","javascript:void(0)"],[1,"twitter"],[1,"whatsapp"],[1,"user-gallery"],[1,"gallery-section"],[1,"portfolio-section","ratio_square"],[1,"container-fluid","p-0"],[1,"row"],[1,"col-4"],[1,"overlay"],[1,"portfolio-image"],["href","javascript:void(0)",1,"bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["alt","",1,"img-fluid","bg-img",2,"display","none",3,"src"]],template:function(i,n){i&1&&(l(0,"div",0),x("click",function(){return n.isFalse()}),p(1,"app-feather-icon",1),d(),l(2,"div",2),p(3,"img",3),d(),l(4,"div",4)(5,"h5"),f(6),d(),l(7,"h6"),f(8,"london, united kingdom"),d(),l(9,"p"),f(10,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempora possimus magnam adipisci aspernatur."),d(),l(11,"div",5)(12,"ul")(13,"li",6)(14,"a",7),p(15,"app-svg-icon",1),d()(),l(16,"li",8)(17,"a",7),p(18,"app-svg-icon",1),d()(),l(19,"li",9)(20,"a",7),p(21,"app-svg-icon",1),d()()()()(),l(22,"div",10)(23,"h5"),f(24,"media "),l(25,"a",7),f(26,"see all"),d()(),l(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14),ne(31,gc,5,4,"div",15,ce),d()()()()()),i&2&&(h(),A("icon-theme"),g("icons","x"),h(),g("ngStyle",ge(8,xo,"url("+n.data.image+")")),h(4),q(n.data.user),h(9),g("icons","facebook"),h(3),g("icons","twitter"),h(3),g("icons","whatsapp"),h(10),se(n.socialMedia))},dependencies:[We,ae,G,Se]})}}return s})();var yc=s=>({"background-image":s});function vc(s,t){if(s&1&&(l(0,"div",31),f(1),l(2,"div",32),f(3,"15:13"),d(),l(4,"div",33),f(5,"\u2713"),d(),l(6,"div",34),f(7,"\u2713"),d()()),s&2){let e=t.$implicit,i=D();Q("message-personal",e.isReply)("new",i.data.user),h(),X(" ",e.message," ")}}var Ao=(()=>{class s{constructor(){this.isShow=!1,this.isHide=!1,this.isMenu=!1,this.chats=Hs,this.socialMedia=mi}receiveChildData(e){this.isMenu=e}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-chat-content"]],inputs:{data:"data"},standalone:!0,features:[M],decls:52,vars:25,consts:[["id","myTabContent",1,"tab-content"],[1,"tab-pane","fade",3,"ngClass"],[1,"tab-box"],[1,"user-chat"],[1,"user-title"],[1,"back-btn","d-block","d-sm-none",3,"click"],[3,"icons"],[1,"media","list-media"],[1,"story-img"],[1,"user-img","bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"click","ngStyle"],["src","assets/images/user/2.jpg","alt","user",1,"img-fluid","bg-img",2,"display","none"],[1,"media-body"],[1,"menu-option"],["href","javascript:void(0)"],[1,"d-block","d-lg-none","info-user",3,"click"],[1,"chat-history"],[1,"avenue-messenger"],[1,"chat"],[1,"messages-content"],[1,"message","new",3,"message-personal","new"],[1,"message-box"],["placeholder","Type message...",1,"message-input","emojiPicker"],[1,"add-extent"],[1,"fas","fa-plus","animated-btn",3,"click"],[1,"options"],["src","assets/svg/image.svg","alt","svg"],["src","assets/svg/paperclip.svg","alt","svg"],["src","assets/svg/camera.svg","alt","svg"],["href","javascript:void(0)",1,"message-submit"],[1,"user-info"],[3,"move","data","isMenu"],[1,"message","new"],[1,"timestamp"],[1,"checkmark-sent-delivered"],[1,"checkmark-read"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),x("click",function(){return n.isHide=!0}),p(6,"app-feather-icon",6),d(),l(7,"div",7)(8,"div",8)(9,"div",9),x("click",function(){return n.isMenu=!n.isMenu}),p(10,"img",10),d()(),l(11,"div",11)(12,"h5"),f(13),d(),l(14,"h6"),f(15,"active 10m ago"),d()()(),l(16,"div",12)(17,"ul")(18,"li")(19,"a",13),p(20,"app-feather-icon",6),d()(),l(21,"li")(22,"a",13),p(23,"app-feather-icon",6),d()(),l(24,"li")(25,"a",13),p(26,"app-feather-icon",6),d()(),l(27,"li",14),x("click",function(){return n.isMenu=!0}),l(28,"a",13),p(29,"app-feather-icon",6),d()()()()(),l(30,"div",15)(31,"div",16)(32,"div",17)(33,"div",18),ne(34,vc,8,5,"div",19,ce),d(),l(36,"div",20),p(37,"textarea",21),l(38,"div",22)(39,"i",23),x("click",function(){return n.isShow=!n.isShow}),d(),l(40,"div",24)(41,"ul")(42,"li"),p(43,"img",25),d(),l(44,"li"),p(45,"img",26),d(),l(46,"li"),p(47,"img",27),d()()()(),l(48,"a",28),p(49,"app-feather-icon",6),d()()()()()(),l(50,"div",29)(51,"app-user-info",30),x("move",function(o){return n.receiveChildData(o)}),d()()()()()),i&2&&(h(),g("ngClass",n.isHide?"":"active show"),h(5),g("icons","arrow-left"),h(3),g("ngStyle",ge(23,yc,"url("+n.data.image+")")),h(4),X("",n.data.user," "),h(7),A("icon-dark"),g("icons","phone"),h(3),A("icon-dark"),g("icons","video"),h(3),A("icon-dark"),g("icons","settings"),h(3),A("icon-dark"),g("icons","info"),h(5),se(n.chats),h(4),Q("show",n.isShow),h(11),g("icons","send"),h(),Q("show",n.isMenu),h(),g("data",n.data)("isMenu",n.isMenu))},dependencies:[ae,Io,G,Kt,Se]})}}return s})();var _c=()=>["/news-feed-layout/style-1"],Sc=s=>({"background-image":s});function bc(s,t){if(s&1&&(l(0,"span",20),f(1),d()),s&2){let e=D().$implicit;h(),q(e.count)}}function wc(s,t){if(s&1){let e=Y();l(0,"li",10)(1,"a",13),x("click",function(){let n=R(e).$implicit,r=D();return L(r.changeData(n.id))}),l(2,"div",14)(3,"div",15)(4,"div",16),p(5,"img",17),d()(),l(6,"div",18)(7,"h5"),f(8),l(9,"span"),f(10),d()(),l(11,"h6"),f(12),d()()(),l(13,"div",19)(14,"h6"),f(15),d(),B(16,bc,2,1,"span",20),d()()()}if(s&2){let e=t.$implicit,i=D();h(),Q("active",e.id===i.messageData.id),h(3),g("ngStyle",ge(9,Sc,"url("+e.image+")")),h(),g("src",e.image,je),h(3),X("",e.user," "),h(2),q(e.time),h(2),q(e.status),h(3),q(e.message),h(),ie(e.count?16:-1)}}var Mo=(()=>{class s{constructor(){this.chatUser=js}ngOnInit(){this.messageData=this.chatUser.filter(e=>e.id===1)[0]}changeData(e){this.chatUser.forEach(i=>{i.id===e&&(this.messageData=i)})}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-messenger-section"]],standalone:!0,features:[M],decls:15,vars:10,consts:[[1,"messenger-section"],[1,"chat-users"],[1,"user-header"],[1,"back-btn","d-block","d-sm-none",3,"routerLink"],[1,"'ih-18","iw-18'",3,"icons"],[1,"search-bar"],[3,"icons"],["type","text","placeholder","find friends...",1,"form-control"],["href","javascript:void(0)",1,"new-chat"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"chat-content"],[3,"data"],[1,"nav-link",3,"click"],[1,"media","list-media"],[1,"story-img"],[1,"user-img","bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["alt","user",1,"img-fluid","bg-img",2,"display","none",3,"src"],[1,"media-body"],[1,"chat"],[1,"count"]],template:function(i,n){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"a",3),p(4,"app-feather-icon",4),d(),l(5,"div",5),p(6,"app-feather-icon",6)(7,"input",7),d(),l(8,"a",8),p(9,"app-feather-icon",6),d()(),l(10,"ul",9),ne(11,wc,17,11,"li",10,ce),d()(),l(13,"div",11),p(14,"app-chat-content",12),d()()),i&2&&(h(3),g("routerLink",xe(9,_c)),h(),g("icons","arrow-left"),h(2),A("icon-theme icon iw-16"),g("icons","search"),h(3),A("icon-light iw-14 ih-14"),g("icons","edit"),h(2),se(n.chatUser),h(3),g("data",n.messageData))},dependencies:[ae,Ao,G,Se,ee,we]})}}return s})();var Do=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-messenger"]],standalone:!0,features:[M],decls:4,vars:0,consts:[[1,"d-none","d-sm-block"]],template:function(i,n){i&1&&(p(0,"app-loading"),l(1,"header",0),p(2,"app-header-one"),d(),p(3,"app-messenger-section"))},dependencies:[pi,Mo,Pe]})}}return s})();var Cc=()=>["/news-feed-layout/style-1"],Po=(()=>{class s{constructor(e){this.router=e,this.loggedIn=!1,this.model={},this.accountService=te(gt),this.toaster=te(qe)}register(){console.log(this.model),this.accountService.register(this.model).subscribe({next:e=>{this.loggedIn=!0,this.router.navigate(["/news-feed-layout/style-1"])},error:e=>this.toaster.error(e.error)})}login(){this.accountService.login(this.model).subscribe({next:e=>{this.loggedIn=!0;let i={token:e,username:this.model.username};localStorage.setItem("user",JSON.stringify(i)),this.router.navigate(["/news-feed-layout/style-1"])},error:e=>this.toaster.error(e.error)})}static{this.\u0275fac=function(i){return new(i||s)(U(be))}}static{this.\u0275cmp=I({type:s,selectors:[["app-register"]],standalone:!0,features:[M],decls:78,vars:16,consts:[["loginForm","ngForm"],[1,"login-section"],[1,"header-section"],[1,"logo-sec"],[3,"routerLink"],["src","assets/images/icon/logo-color2.png","alt","logo",1,"img-fluid"],[1,"right-links"],["href","javascript:void(0)"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-5","d-none","d-lg-block"],[1,"login-welcome"],["src","assets/images/login/ring.png","alt","notions",1,"img-fluid"],[1,"col-xl-6","col-lg-7","col-md-10","col-12","m-auto"],[1,"login-form"],[1,"login-title"],[1,"login-discription"],[1,"form-sec"],[1,"theme-form"],[1,"form-group"],["for","name"],["type","text","id","name","name","username","placeholder","Your Name",1,"form-control",3,"ngModelChange","ngModel"],[3,"icons"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","placeholder","Enter email",1,"form-control"],["for","exampleInputPassword1"],["name","password","type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"bottom-sec"],[1,"form-check","checkbox_animated"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["href","javascript:void(0)",1,"ms-auto"],[1,"btn-section"],["href","javascript:void(0)",1,"btn","btn-solid","btn-lg",3,"click"],[1,"btn","btn-solid","btn-lg","ms-auto",3,"click"],[1,"connect-with"],[1,"social-links"],[1,"google"],[1,"facebook"],[1,"twitter"]],template:function(i,n){if(i&1){let r=Y();p(0,"app-loading"),l(1,"section",1)(2,"div",2)(3,"div",3)(4,"a",4),p(5,"img",5),d()(),l(6,"div",6)(7,"ul")(8,"li")(9,"a",7),f(10," about "),d()(),l(11,"li")(12,"a",7),f(13," upgrade "),d()()()()(),l(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div"),p(19,"img",12),l(20,"h1"),f(21,"Welcome friend!"),d()()()(),l(22,"div",13)(23,"div",14)(24,"div")(25,"div",15)(26,"h2"),f(27,"Register"),d()(),l(28,"div",16)(29,"h3"),f(30,"Hello Everyone"),d(),l(31,"h4"),f(32,"Welcome to WingTek, create your account below to start using WingTek Notions."),d()(),l(33,"div",17)(34,"div")(35,"form",18,0)(37,"div",19)(38,"label",20),f(39,"Full Name"),d(),l(40,"input",21),Ve("ngModelChange",function(a){return R(r),Be(n.model.username,a)||(n.model.username=a),L(a)}),d(),p(41,"app-feather-icon",22),d(),l(42,"div",19)(43,"label",23),f(44,"Email address"),d(),p(45,"input",24)(46,"app-feather-icon",22),d(),l(47,"div",19)(48,"label",25),f(49,"Password"),d(),l(50,"input",26),Ve("ngModelChange",function(a){return R(r),Be(n.model.password,a)||(n.model.password=a),L(a)}),d(),p(51,"app-feather-icon",22),d(),l(52,"div",27)(53,"div",28),p(54,"input",29),l(55,"label",30),f(56,"remember me"),d()(),l(57,"a",31),f(58,"forget password?"),d()(),l(59,"div",32)(60,"a",33),x("click",function(){return R(r),L(n.register())}),f(61,"sign up"),d(),l(62,"a",34),x("click",function(){return R(r),L(n.login())}),f(63,"login"),d()()(),l(64,"div",35)(65,"h6")(66,"span"),f(67,"OR Connect With"),d()(),l(68,"ul",36)(69,"li",37)(70,"a",7),p(71,"app-svg-icon",22),d()(),l(72,"li",38)(73,"a",7),p(74,"app-svg-icon",22),d()(),l(75,"li",39)(76,"a",7),p(77,"app-svg-icon",22),d()()()()()()()()()()()()}i&2&&(h(4),g("routerLink",xe(15,Cc)),h(36),He("ngModel",n.model.username),h(),A("input-icon iw-20 ih-20"),g("icons","user"),h(5),A("input-icon iw-20 ih-20"),g("icons","mail"),h(4),He("ngModel",n.model.password),h(),A("input-icon iw-20 ih-20"),g("icons","eye"),h(20),g("icons","google"),h(3),g("icons","facebook"),h(3),g("icons","twitter"))},dependencies:[We,ae,Pe,ee,we,ft,si,Xt,ei,ti,ni,ii]})}}return s})();var Fo=[{path:"others/login",component:Eo},{path:"others/register",component:Po},{path:"others/help-support",component:Xs},{path:"others/messenger",component:Do},{path:"others/setting",component:er},{path:"others/help-article",component:ko},{path:"others/setting",loadChildren:()=>import("./chunk-IR2ZMUNC.js")},{path:"company",loadChildren:()=>import("./chunk-TJ4457SG.js")},{path:"element",loadChildren:()=>import("./chunk-6HKJI7WT.js")}];var No=[{path:"news-feed-layout",loadChildren:()=>import("./chunk-3OIVE3H7.js")},{path:"profile",loadChildren:()=>import("./chunk-T6DSB373.js")},{path:"favorite",loadChildren:()=>import("./chunk-Y4IYW5SV.js")},{path:"others",loadChildren:()=>import("./chunk-MRZ6INFC.js")}];var kc=()=>["/news-feed-layout/style-1"];function Ec(s,t){if(s&1){let e=Y();l(0,"app-feather-icon",39),x("click",function(){R(e);let n=D();return L(n.show=!n.show)}),d()}s&2&&(A("input-icon iw-20 ih-20"),g("icons","eye"))}function xc(s,t){if(s&1){let e=Y();l(0,"app-feather-icon",39),x("click",function(){R(e);let n=D();return L(n.show=!n.show)}),d()}s&2&&(A("input-icon iw-20 ih-20"),g("icons","eye-off"))}var Oo=(()=>{class s{constructor(e,i){this.router=e,this.commonServices=i,this.model={},this.accountService=te(gt),this.show=!1,this.toaster=te(qe),localStorage.getItem("user")?.length!=null&&e.navigate(["/news-feed-layout/style-1"])}showPassword(){this.show=!this.show}login(){this.accountService.login(this.model).subscribe({next:e=>{let i={token:e,username:this.model.username};localStorage.setItem("user",JSON.stringify(i)),this.router.navigate(["/news-feed-layout/style-1"])},error:e=>this.toaster.error(e.error)})}register(){console.log("here",this.model),this.router.navigate(["/others/register"]).then(e=>{e||this.toaster.error("Navigation failed")})}static{this.\u0275fac=function(i){return new(i||s)(U(be),U(me))}}static{this.\u0275cmp=I({type:s,selectors:[["app-auth-login"]],standalone:!0,features:[M],decls:72,vars:12,consts:[["loginForm","ngForm"],[1,"login-section"],[1,"header-section"],[1,"logo-sec"],[3,"routerLink"],["src","assets/images/icon/logo-color2.png","alt","logo",1,"img-fluid"],[1,"right-links"],["href","javascript:void(0)"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-5","d-none","d-lg-block"],[1,"login-welcome"],["src","assets/images/login/ring.png","alt","charcter",1,"img-fluid"],[1,"col-xl-6","col-lg-7","col-md-10","col-12","m-auto"],[1,"login-form"],[1,"login-title"],[1,"login-discription"],[1,"form-sec"],[1,"theme-form"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","placeholder","Enter email","name","username",1,"form-control",3,"ngModelChange","ngModel"],[3,"icons"],["for","exampleInputPassword1"],["id","exampleInputPassword1","name","password","placeholder","Password",1,"form-control",3,"ngModelChange","type","ngModel"],[3,"icons","class"],[1,"bottom-sec"],[1,"form-check","checkbox_animated"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["href","javascript:void(0)",1,"ms-auto","forget-password"],[1,"btn-section"],[1,"btn","btn-solid","btn-lg",3,"click"],[1,"btn","btn-solid","btn-lg","ms-auto",3,"click"],[1,"connect-with"],[1,"social-links"],[1,"google"],[1,"facebook"],[1,"twitter"],[3,"click","icons"]],template:function(i,n){if(i&1){let r=Y();p(0,"app-loading"),l(1,"section",1)(2,"div",2)(3,"div",3)(4,"a",4),p(5,"img",5),d()(),l(6,"div",6)(7,"ul")(8,"li")(9,"a",7),f(10," about "),d()(),l(11,"li")(12,"a",7),f(13," upgrade "),d()()()()(),l(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div"),p(19,"img",12),d()()(),l(20,"div",13)(21,"div",14)(22,"div")(23,"div",15)(24,"h2"),f(25,"Login"),d()(),l(26,"div",16)(27,"h3"),f(28,"Hello Everyone, Welcome Back"),d(),l(29,"h4"),f(30,"Welcome to WingTek Notions, please login to your account. "),d()(),l(31,"div",17)(32,"div")(33,"form",18,0)(35,"div",19)(36,"label",20),f(37,"Email address"),d(),l(38,"input",21),Ve("ngModelChange",function(a){return R(r),Be(n.model.username,a)||(n.model.username=a),L(a)}),d(),p(39,"app-feather-icon",22),d(),l(40,"div",19)(41,"label",23),f(42,"Password"),d(),l(43,"input",24),Ve("ngModelChange",function(a){return R(r),Be(n.model.password,a)||(n.model.password=a),L(a)}),d(),B(44,Ec,1,3,"app-feather-icon",25)(45,xc,1,3,"app-feather-icon",25),d(),l(46,"div",26)(47,"div",27),p(48,"input",28),l(49,"label",29),f(50,"remember me"),d()(),l(51,"a",30),f(52,"forget password?"),d()(),l(53,"div",31)(54,"button",32),x("click",function(){return R(r),L(n.login())}),f(55,"login"),d(),l(56,"button",33),x("click",function(){return R(r),L(n.register())}),f(57,"sign up"),d()()(),l(58,"div",34)(59,"h6")(60,"span"),f(61,"OR Connect With"),d()(),l(62,"ul",35)(63,"li",36)(64,"a",7),p(65,"app-svg-icon",22),d()(),l(66,"li",37)(67,"a",7),p(68,"app-svg-icon",22),d()(),l(69,"li",38)(70,"a",7),p(71,"app-svg-icon",22),d()()()()()()()()()()()()}i&2&&(h(4),g("routerLink",xe(11,kc)),h(34),He("ngModel",n.model.username),h(),A("input-icon iw-20 ih-20"),g("icons","user"),h(4),g("type",n.show?"text":"password"),He("ngModel",n.model.password),h(),ie(n.show?44:45),h(21),g("icons","google"),h(3),g("icons","facebook"),h(3),g("icons","twitter"))},dependencies:[ae,We,Pe,ee,we,ft,si,Xt,ei,ti,ni,ii]})}}return s})();var Ro=[{path:"",redirectTo:"news-feed-layout/style-1",pathMatch:"full"},{path:"auth/login",component:Oo},{path:"",component:So,children:No,canActivate:[Hn]},{path:"",component:wo,children:Fo,canActivate:[Hn]},{path:"errors",component:zs},{path:"not-found",component:Vs},{path:"server-error",component:po},{path:"**",redirectTo:"company/404"}];var Ui=class{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}},ji=class{};var Dt=class{},Ic=(()=>{class s extends Dt{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=rs(s)))(n||s)}})()}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})();var Hi=class{},Bi=class{},Ac=(()=>{class s{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})();var Pt=class{constructor(t){this.type=t}},de=class extends Pt{constructor(t,e=null){super(t),this.info=e}},Ae=class extends Pt{constructor(t,e=null){super(t),this.info=e}},W=class extends Pt{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}};function Lo(s){let t=s.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Uo(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var bt=class{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}},lt=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},Vi=class{};var jo=(()=>{class s{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),i.indexOf("#")!==0)return{};let n=i.indexOf("?");return n>-1?i=i.substr(n+1):i=i.substr(1),this.parseQueryString(i)}parseQueryString(e){let i={},n,r,o,a,c,u;if(e===null)return i;let y=e.split("&");for(let m=0;m<y.length;m++)n=y[m],r=n.indexOf("="),r===-1?(o=n,a=null):(o=n.substr(0,r),a=n.substr(r+1)),c=decodeURIComponent(o),u=decodeURIComponent(a),c.substr(0,1)==="/"&&(c=c.substr(1)),i[c]=u;return i}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})(),Ho=32,Mc=64,Dc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Bn(s,t,e,i,n){let r,o,a,c,u,y,m,S,v,_,b,P,j;for(;n>=64;){for(r=t[0],o=t[1],a=t[2],c=t[3],u=t[4],y=t[5],m=t[6],S=t[7],_=0;_<16;_++)b=i+_*4,s[_]=(e[b]&255)<<24|(e[b+1]&255)<<16|(e[b+2]&255)<<8|e[b+3]&255;for(_=16;_<64;_++)v=s[_-2],P=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,v=s[_-15],j=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,s[_]=(P+s[_-7]|0)+(j+s[_-16]|0);for(_=0;_<64;_++)P=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&y^~u&m)|0)+(S+(Dc[_]+s[_]|0)|0)|0,j=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&a^o&a)|0,S=m,m=y,y=u,u=c+P|0,c=a,a=o,o=r,r=P+j|0;t[0]+=r,t[1]+=o,t[2]+=a,t[3]+=c,t[4]+=u,t[5]+=y,t[6]+=m,t[7]+=S,i+=64,n-=64}return i}var Vn=class{constructor(){this.digestLength=Ho,this.blockSize=Mc,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;this.bufferLength===64&&(Bn(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=Bn(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){let e=this.bytesHashed,i=this.bufferLength,n=e/536870912|0,r=e<<3,o=e%64<56?64:128;this.buffer[i]=128;for(let a=i+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=n>>>24&255,this.buffer[o-7]=n>>>16&255,this.buffer[o-6]=n>>>8&255,this.buffer[o-5]=n>>>0&255,this.buffer[o-4]=r>>>24&255,this.buffer[o-3]=r>>>16&255,this.buffer[o-2]=r>>>8&255,this.buffer[o-1]=r>>>0&255,Bn(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let e=0;e<8;e++)t[e*4+0]=this.state[e]>>>24&255,t[e*4+1]=this.state[e]>>>16&255,t[e*4+2]=this.state[e]>>>8&255,t[e*4+3]=this.state[e]>>>0&255;return this}digest(){let t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}};function Pc(s){let t=new Vn().update(s),e=t.digest();return t.clean(),e}var Gp=new Uint8Array(Ho);var zi=class{};function Fc(s){if(typeof s!="string")throw new TypeError("expected string");let t=s,e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function Nc(s){let t=[];for(let e=0;e<s.length;e++)t.push(String.fromCharCode(s[e]));return t.join("")}var Oc=(()=>{class s{calcHash(e,i){return ut(this,null,function*(){return Nc(Pc(Fc(e)))})}toHashString2(e){let i="";for(let n of e)i+=String.fromCharCode(n);return i}toHashString(e){let i=new Uint8Array(e),n="";for(let r of i)n+=String.fromCharCode(r);return n}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})(),Bo=(()=>{class s extends bt{constructor(e,i,n,r,o,a,c,u,y,m){super(),this.ngZone=e,this.http=i,this.config=o,this.urlHelper=a,this.logger=c,this.crypto=u,this.dateTimeService=m,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new Ce,this.discoveryDocumentLoadedSubject=new Ce,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=y,o||(o={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),r&&(this.tokenValidationHandler=r),o&&this.configure(o);try{n?this.setStorage(n):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(S){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",S)}if(this.checkLocalStorageAccessable()){let S=window?.navigator?.userAgent;(S?.includes("MSIE ")||S?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let e="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(e,e),localStorage.removeItem(e),!0)}catch{return!1}}configure(e){Object.assign(this,new bt,e),this.config=Object.assign({},new bt,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(Ee(e=>e.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,n=!0){let r=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(Qi(o=>{o.type==="token_received"?r=!0:o.type==="logout"&&(r=!1)}),Ee(o=>o.type==="token_expires"&&(i==null||i==="any"||o.info===i)),ts(1e3)).subscribe(()=>{r&&this.refreshInternal(e,n).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(e,i)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return e=e||{},this.loadDiscoveryDocumentAndTryLogin(e).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let i=typeof e.state=="string"?e.state:"";return this.initLoginFlow(i),!1}else return!0})}debug(...e){this.showDebugInformation&&this.logger.debug(...e)}validateUrlFromDiscoveryDocument(e){let i=[],n=this.validateUrlForHttps(e),r=this.validateUrlAgainstIssuer(e);return n||i.push("https for all urls required. Also for urls received by discovery."),r||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;let i=e.toLowerCase();return this.requireHttps===!1||(i.match(/^http:\/\/localhost($|[:/])/)||i.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e?!0:e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(Ee(e=>e.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),n=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=ke(new Ae("token_expires","access_token")).pipe(Rt(n)).subscribe(r=>{this.ngZone.run(()=>{this.eventsSubject.next(r)})})})}setupIdTokenTimer(){let e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),n=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=ke(new Ae("token_expires","id_token")).pipe(Rt(n)).subscribe(r=>{this.ngZone.run(()=>{this.eventsSubject.next(r)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){let n=this.dateTimeService.now(),r=(i-e)*this.timeoutFactor-(n-e),o=Math.max(0,r),a=2147483647;return o>a?a:o}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,n)=>{if(e||(e=this.issuer||"",e.endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),!this.validateUrlForHttps(e)){n("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(e).subscribe(r=>{if(!this.validateDiscoveryDocument(r)){this.eventsSubject.next(new W("discovery_document_validation_error",null)),n("discovery_document_validation_error");return}this.loginUrl=r.authorization_endpoint,this.logoutUrl=r.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=r.grant_types_supported,this.issuer=r.issuer,this.tokenEndpoint=r.token_endpoint,this.userinfoEndpoint=r.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=r.jwks_uri,this.sessionCheckIFrameUrl=r.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(r),this.revocationEndpoint=r.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(o=>{let a={discoveryDocument:r,jwks:o},c=new de("discovery_document_loaded",a);this.eventsSubject.next(c),i(c)}).catch(o=>{this.eventsSubject.next(new W("discovery_document_load_error",o)),n(o)})},r=>{this.logger.error("error loading discovery document",r),this.eventsSubject.next(new W("discovery_document_load_error",r)),n(r)})})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(n=>{this.jwks=n,e(n)},n=>{this.logger.error("error loading jwks",n),this.eventsSubject.next(new W("jwks_load_error",n)),i(n)}):e(null)})}validateDiscoveryDocument(e){let i;return!this.skipIssuerCheck&&e.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1):(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,n=new ze){return this.fetchTokenUsingPasswordFlow(e,i,n).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{let n=new ze().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:n,observe:"response",responseType:"text"}).subscribe(r=>{if(this.debug("userinfo received",JSON.stringify(r)),r.headers.get("content-type").startsWith("application/json")){let o=JSON.parse(r.body),a=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!a.sub||o.sub!==a.sub)){i(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}o=Object.assign({},a,o),this._storage.setItem("id_token_claims_obj",JSON.stringify(o)),this.eventsSubject.next(new de("user_profile_loaded")),e({info:o})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new de("user_profile_loaded")),e(JSON.parse(r.body))},r=>{this.logger.error("error loading user info",r),this.eventsSubject.next(new W("user_profile_load_error",r)),i(r)})})}fetchTokenUsingPasswordFlow(e,i,n=new ze){let r={username:e,password:i};return this.fetchTokenUsingGrant("password",r,n)}fetchTokenUsingGrant(e,i,n=new ze){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=new ht({encoder:new lt}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);n=n.set("Authorization","Basic "+o)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let o of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(o,this.customQueryParams[o]);for(let o of Object.keys(i))r=r.set(o,i[o]);return n=n.set("Content-Type","application/x-www-form-urlencoded"),new Promise((o,a)=>{this.http.post(this.tokenEndpoint,r,{headers:n}).subscribe(c=>{this.debug("tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token&&this.processIdToken(c.id_token,c.access_token).then(u=>{this.storeIdToken(u),o(c)}),this.eventsSubject.next(new de("token_received")),o(c)},c=>{this.logger.error("Error performing ${grantType} flow",c),this.eventsSubject.next(new W("token_error",c)),a(c)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let n=new ht({encoder:new lt}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),r=new ze().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+o)}if(this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let o of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(o,this.customQueryParams[o]);this.http.post(this.tokenEndpoint,n,{headers:r}).pipe(ns(o=>this.oidc&&o.id_token?Yn(this.processIdToken(o.id_token,o.access_token,!0)).pipe(Qi(a=>this.storeIdToken(a)),Ot(()=>o)):ke(o))).subscribe(o=>{this.debug("refresh tokenResponse",o),this.storeAccessTokenResponse(o.access_token,o.refresh_token,o.expires_in||this.fallbackAccessTokenExpirationTimeInSec,o.scope,this.extractRecognizedCustomParameters(o)),this.eventsSubject.next(new de("token_received")),this.eventsSubject.next(new de("token_refreshed")),e(o)},o=>{this.logger.error("Error refreshing token",o),this.eventsSubject.next(new W("token_refresh_error",o)),i(o)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{let i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(n=>this.debug("tryLogin during silent refresh failed",n))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){let n=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let r=this.document.getElementById(this.silentRefreshIFrameName);r&&this.document.body.removeChild(r),this.silentRefreshSubject=n.sub;let o=this.document.createElement("iframe");o.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let a=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,a,i,e).then(m=>{o.setAttribute("src",m),this.silentRefreshShowIFrame||(o.style.display="none"),this.document.body.appendChild(o)});let c=this.events.pipe(Ee(m=>m instanceof W),Lt()),u=this.events.pipe(Ee(m=>m.type==="token_received"),Lt()),y=ke(new W("silent_refresh_timeout",null)).pipe(Rt(this.silentRefreshTimeout));return es([c,u,y]).pipe(Ot(m=>{if(m instanceof W)throw m.type==="silent_refresh_timeout"?this.eventsSubject.next(m):(m=new W("silent_refresh_error",m),this.eventsSubject.next(m)),m;return m.type==="token_received"&&(m=new de("silently_refreshed"),this.eventsSubject.next(m)),m})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((n,r)=>{let a=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(a=e.windowRef,a.location.href=i):a=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));let c,u=_=>{this.tryLogin({customHashFragment:_,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{m(),n(!0)},b=>{m(),r(b)})},y=()=>{(!a||a.closed)&&(m(),r(new W("popup_closed",{})))};a?c=window.setInterval(y,500):r(new W("popup_blocked",{}));let m=()=>{window.clearInterval(c),window.removeEventListener("storage",v),window.removeEventListener("message",S),a!==null&&a.close(),a=null},S=_=>{let b=this.processMessageEventMessage(_);b&&b!==null?(window.removeEventListener("storage",v),u(b)):console.log("false event firing")},v=_=>{_.key==="auth_hash"&&(window.removeEventListener("message",S),u(_.newValue))};window.addEventListener("message",S),window.addEventListener("storage",v)}))}calculatePopupFeatures(e){let i=e.height||470,n=e.width||500,r=window.screenLeft+(window.outerWidth-n)/2,o=window.screenTop+(window.outerHeight-i)/2;return`location=no,toolbar=no,width=${n},height=${i},top=${o},left=${r}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||typeof e.data!="string")return;let n=e.data;if(n.startsWith(i))return"#"+n.substr(i.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{let i=e.origin.toLowerCase(),n=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!n.startsWith(i)){this.debug("sessionCheckEventListener","wrong origin",i,"expected",n,"event",e);return}switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Ae("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Ae("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Ae("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Ae("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(Ee(e=>e.type==="silently_refreshed"||e.type==="silent_refresh_timeout"||e.type==="silent_refresh_error"),Lt()).subscribe(e=>{e.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Ae("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Ae("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);let i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let n=this.sessionCheckIFrameUrl;i.setAttribute("src",n),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let i=this.getSessionState();i||this.stopSessionCheckTimer();let n=this.clientId+" "+i;e.contentWindow.postMessage(n,this.issuer)}createLoginUrl(){return ut(this,arguments,function*(e="",i="",n="",r=!1,o={}){let a=this,c;n?c=n:c=this.redirectUri;let u=yield this.createAndSaveNonce();if(e?e=u+this.config.nonceStateSeparator+encodeURIComponent(e):e=u,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let y=a.loginUrl.indexOf("?")>-1?"&":"?",m=a.scope;this.oidc&&!m.match(/(^|\s)openid($|\s)/)&&(m="openid "+m);let S=a.loginUrl+y+"response_type="+encodeURIComponent(a.responseType)+"&client_id="+encodeURIComponent(a.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(c)+"&scope="+encodeURIComponent(m);if(this.responseType.includes("code")&&!this.disablePKCE){let[v,_]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",_):this._storage.setItem("PKCE_verifier",_),S+="&code_challenge="+v,S+="&code_challenge_method=S256"}i&&(S+="&login_hint="+encodeURIComponent(i)),a.resource&&(S+="&resource="+encodeURIComponent(a.resource)),a.oidc&&(S+="&nonce="+encodeURIComponent(u)),r&&(S+="&prompt=none");for(let v of Object.keys(o))S+="&"+encodeURIComponent(v)+"="+encodeURIComponent(o[v]);if(this.customQueryParams)for(let v of Object.getOwnPropertyNames(this.customQueryParams))S+="&"+v+"="+encodeURIComponent(this.customQueryParams[v]);return S})}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let n={},r=null;typeof i=="string"?r=i:typeof i=="object"&&(n=i),this.createLoginUrl(e,r,null,!1,n).then(this.config.openUri).catch(o=>{console.error("Error in initImplicitFlow",o),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){this.loginUrl!==""?this.initImplicitFlowInternal(e,i):this.events.pipe(Ee(n=>n.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){let i=this;if(e.onTokenReceived){let n={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(n)}}storeAccessTokenResponse(e,i,n,r,o){if(this._storage.setItem("access_token",e),r&&!Array.isArray(r)?this._storage.setItem("granted_scopes",JSON.stringify(r.split(" "))):r&&Array.isArray(r)&&this._storage.setItem("granted_scopes",JSON.stringify(r)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),n){let a=n*1e3,u=this.dateTimeService.new().getTime()+a;this._storage.setItem("expires_at",""+u)}i&&this._storage.setItem("refresh_token",i),o&&o.forEach((a,c)=>{this._storage.setItem(c,a)})}tryLogin(e=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(e).then(()=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return!e||e.length===0?{}:(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}tryLoginCodeFlow(e=null){return ut(this,null,function*(){e=e||{};let i=e.customHashFragment?e.customHashFragment.substring(1):window.location.search,n=this.getCodePartsFromUrl(i),r=n.code,o=n.state,a=n.session_state;if(!e.preventClearHashAfterLogin){let y=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,y)}let[c,u]=this.parseState(o);if(this.state=u,n.error){this.debug("error trying to login"),this.handleLoginError(e,n);let y=new W("code_error",{},n);return this.eventsSubject.next(y),Promise.reject(y)}if(!e.disableNonceCheck){if(!c)return this.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!this.validateNonce(c)){let m=new W("invalid_nonce_in_state",null);return this.eventsSubject.next(m),Promise.reject(m)}}return this.storeSessionState(a),r&&(yield this.getTokenFromCode(r,e),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return!e||e.length===0?this.urlHelper.getHashFragmentParams():(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}getTokenFromCode(e,i){let n=new ht({encoder:new lt}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let r;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("PKCE_verifier"):r=this._storage.getItem("PKCE_verifier"),r?n=n.set("code_verifier",r):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(n,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let n=new ze().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let r=btoa(`${this.clientId}:${this.dummyClientSecret}`);n=n.set("Authorization","Basic "+r)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((r,o)=>{if(this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,e,{headers:n}).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.oidc&&a.id_token?this.processIdToken(a.id_token,a.access_token,i.disableNonceCheck).then(c=>{this.storeIdToken(c),this.eventsSubject.next(new de("token_received")),this.eventsSubject.next(new de("token_refreshed")),r(a)}).catch(c=>{this.eventsSubject.next(new W("token_validation_error",c)),console.error("Error validating tokens"),console.error(c),o(c)}):(this.eventsSubject.next(new de("token_received")),this.eventsSubject.next(new de("token_refreshed")),r(a))},a=>{console.error("Error getting token",a),this.eventsSubject.next(new W("token_refresh_error",a)),o(a)})})}tryLoginImplicitFlow(e=null){e=e||{};let i;e.customHashFragment?i=this.urlHelper.getHashFragmentParams(e.customHashFragment):i=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);let n=i.state,[r,o]=this.parseState(n);if(this.state=o,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);let m=new W("token_error",{},i);return this.eventsSubject.next(m),Promise.reject(m)}let a=i.access_token,c=i.id_token,u=i.session_state,y=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!a||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!n||this.oidc&&!c)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!u&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(r)){let S=new W("invalid_nonce_in_state",null);return this.eventsSubject.next(S),Promise.reject(S)}return this.requestAccessToken&&this.storeAccessTokenResponse(a,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,y),this.oidc?this.processIdToken(c,a,e.disableNonceCheck).then(m=>e.validationHandler?e.validationHandler({accessToken:a,idClaims:m.idTokenClaims,idToken:m.idToken,state:n}).then(()=>m):m).then(m=>(this.storeIdToken(m),this.storeSessionState(u),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new de("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(m=>(this.eventsSubject.next(new W("token_validation_error",m)),this.logger.error("Error validating tokens"),this.logger.error(m),Promise.reject(m))):(this.eventsSubject.next(new de("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,n="";if(e){let r=e.indexOf(this.config.nonceStateSeparator);r>-1&&(i=e.substr(0,r),n=e.substr(r+this.config.nonceStateSeparator.length))}return[i,n]}validateNonce(e){let i;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?i=localStorage.getItem("nonce"):i=this._storage.getItem("nonce"),i!==e?(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1):!0}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?e:this.clockSkewInSec*1e3}processIdToken(e,i,n=!1){let r=e.split("."),o=this.padBase64(r[0]),a=Lo(o),c=JSON.parse(a),u=this.padBase64(r[1]),y=Lo(u),m=JSON.parse(y),S;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?S=localStorage.getItem("nonce"):S=this._storage.getItem("nonce"),Array.isArray(m.aud)){if(m.aud.every(C=>C!==this.clientId)){let C="Wrong audience: "+m.aud.join(",");return this.logger.warn(C),Promise.reject(C)}}else if(m.aud!==this.clientId){let C="Wrong audience: "+m.aud;return this.logger.warn(C),Promise.reject(C)}if(!m.sub){let C="No sub claim in id_token";return this.logger.warn(C),Promise.reject(C)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==m.sub){let C=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${m.sub}`;return this.logger.warn(C),Promise.reject(C)}if(!m.iat){let C="No iat claim in id_token";return this.logger.warn(C),Promise.reject(C)}if(!this.skipIssuerCheck&&m.iss!==this.issuer){let C="Wrong issuer: "+m.iss;return this.logger.warn(C),Promise.reject(C)}if(!n&&m.nonce!==S){let C="Wrong nonce: "+m.nonce;return this.logger.warn(C),Promise.reject(C)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!m.at_hash){let C="An at_hash is needed!";return this.logger.warn(C),Promise.reject(C)}let v=this.dateTimeService.now(),_=m.iat*1e3,b=m.exp*1e3,P=this.getClockSkewInMsec();if(_-P>=v||b+P-this.decreaseExpirationBySec<=v){let C="Token has expired";return console.error(C),console.error({now:v,issuedAtMSec:_,expiresAtMSec:b}),Promise.reject(C)}let j={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:m,idTokenHeader:c,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(j).then(()=>({idToken:e,idTokenClaims:m,idTokenClaimsJson:y,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:b})):this.checkAtHash(j).then(C=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!C){let K="Wrong at_hash";return this.logger.warn(K),Promise.reject(K)}return this.checkSignature(j).then(()=>{let K=!this.disableAtHashCheck,$={idToken:e,idTokenClaims:m,idTokenClaimsJson:y,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:b};return K?this.checkAtHash(j).then(Re=>{if(this.requestAccessToken&&!Re){let pe="Wrong at_hash";return this.logger.warn(pe),Promise.reject(pe)}else return $}):$})})}getIdentityClaims(){let e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){let e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!==0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&this._storage.getItem(e)!==null?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let n=!1;typeof e=="boolean"&&(n=e,e={});let r=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(a=>this._storage.removeItem(a)),this.silentRefreshSubject=null,this.eventsSubject.next(new Ae("logout")),!this.logoutUrl||n)return;let o;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)o=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(r)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let a=new ht({encoder:new lt});r&&(a=a.set("id_token_hint",r));let c=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";c&&(a=a.set("post_logout_redirect_uri",c),i&&(a=a.set("state",i)));for(let u in e)a=a.set(u,e[u]);o=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+a.toString()}this.config.openUri(o)}createAndSaveNonce(){let e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=45,r="",o=typeof self>"u"?null:self.crypto||self.msCrypto;if(o){let a=new Uint8Array(n);o.getRandomValues(a),a.map||(a.map=Array.prototype.map),a=a.map(c=>i.charCodeAt(c%i.length)),r=String.fromCharCode.apply(null,a)}else for(;0<n--;)r+=i[Math.random()*i.length|0];e(Uo(r))})}checkAtHash(e){return ut(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return this.responseType==="code"?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){this.loginUrl!==""?this.initCodeFlowInternal(e,i):this.events.pipe(Ee(n=>n.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let n={},r=null;typeof i=="string"?r=i:typeof i=="object"&&(n=i),this.createLoginUrl(e,r,null,!1,n).then(this.config.openUri).catch(o=>{console.error("Error in initAuthorizationCodeFlow"),console.error(o)})}createChallangeVerifierPairForPKCE(){return ut(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let e=yield this.createNonce(),i=yield this.crypto.calcHash(e,"sha-256");return[Uo(i),e]})}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(n=>{e[n]&&i.set(n,JSON.stringify(e[n]))}),i}revokeTokenAndLogout(e={},i=!1){let n=this.revocationEndpoint,r=this.getAccessToken(),o=this.getRefreshToken();if(!r)return Promise.resolve();let a=new ht({encoder:new lt}),c=new ze().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let u=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+u)}if(this.useHttpBasicAuth||(a=a.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(a=a.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))a=a.set(u,this.customQueryParams[u]);return new Promise((u,y)=>{let m,S;if(r){let v=a.set("token",r).set("token_type_hint","access_token");m=this.http.post(n,v,{headers:c})}else m=ke(null);if(o){let v=a.set("token",o).set("token_type_hint","refresh_token");S=this.http.post(n,v,{headers:c})}else S=ke(null);i&&(m=m.pipe(Ue(v=>v.status===0?ke(null):Nt(v))),S=S.pipe(Ue(v=>v.status===0?ke(null):Nt(v)))),Jn([m,S]).subscribe(v=>{this.logOut(e),u(v),this.logger.info("Token successfully revoked")},v=>{this.logger.error("Error revoking token",v),this.eventsSubject.next(new W("token_revoke_error",v)),y(v)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}static{this.\u0275fac=function(i){return new(i||s)(H(Ge),H($t),H(Bi,8),H(Vi,8),H(bt,8),H(jo),H(Hi),H(zi,8),H(Xe),H(Dt))}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})(),Wi=class{},zn=class{handleError(t){return Nt(t)}},Rc=(()=>{class s{constructor(e,i,n){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=n}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase())):!0}intercept(e,i){let n=e.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(n)?i.handle(e):this.moduleConfig.resourceServer.sendAccessToken?Xn(ke(this.oAuthService.getAccessToken()).pipe(Ee(o=>!!o)),this.oAuthService.events.pipe(Ee(o=>o.type==="token_received"),Gn(this.oAuthService.waitForTokenInMsec||0),Ue(()=>ke(null)),Ot(()=>this.oAuthService.getAccessToken()))).pipe(is(1),Zn(o=>{if(o){let a="Bearer "+o,c=e.headers.set("Authorization",a);e=e.clone({headers:c})}return i.handle(e).pipe(Ue(a=>this.errorHandler.handleError(a)))})):i.handle(e).pipe(Ue(o=>this.errorHandler.handleError(o)))}static{this.\u0275fac=function(i){return new(i||s)(H(Bo),H(Wi),H(ji,8))}}static{this.\u0275prov=J({token:s,factory:s.\u0275fac})}}return s})();function Lc(){return console}function Uc(){return typeof sessionStorage<"u"?sessionStorage:new Ac}function jc(s=null,t=Ui){return Bt([Bo,jo,{provide:Hi,useFactory:Lc},{provide:Bi,useFactory:Uc},{provide:Vi,useClass:t},{provide:zi,useClass:Oc},{provide:Wi,useClass:zn},{provide:ji,useValue:s},{provide:ps,useClass:Rc,multi:!0},{provide:Dt,useClass:Ic}])}var Vo=(()=>{class s{static forRoot(e=null,i=Ui){return{ngModule:s,providers:[jc(e,i)]}}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=Ht({type:s})}static{this.\u0275inj=Ut({imports:[G]})}}return s})();var Jp=new jt("AUTH_CONFIG");var zo={providers:[bs(Ro),fs(gs([or])),Or(),rr({positionClass:"toast-bottom-right"}),ss(Vo.forRoot(),tr.forRoot({}),Fs.forRoot({provide:Ps,useFactory:mo}))]},hf={issuer:"https://ravelry/oauth2/auth",clientId:"1d0990baad92d8732b6db9aac2e44dee",redirectUri:window.location.origin,scope:"openid profile email"};var Wo=(()=>{class s{constructor(){this.accountService=te(gt)}ngOnInit(){this.setCurrentUser()}setCurrentUser(){let e=localStorage.getItem("user");if(!e)return;let i=JSON.parse(e);this.accountService.currentUser.set(i)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-root"]],standalone:!0,features:[M],decls:1,vars:0,template:function(i,n){i&1&&p(0,"router-outlet")},dependencies:[G,mt]})}}return s})();vs(Wo,zo).catch(s=>console.error(s));
