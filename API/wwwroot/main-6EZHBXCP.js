import{a as sr,b as rr}from"./chunk-ZH2EVQLL.js";import{a as Gs,b as or,h as ar}from"./chunk-IJQ5RTPE.js";import{a as Ys}from"./chunk-VIZVJPNR.js";import{b as vi,c as _i,d as er,e as Si,f as yt,g as bi,h as vt}from"./chunk-BIGRHWPY.js";import"./chunk-75762FB4.js";import{a as ei,b as ti,c as gi,d as Ws,e as qs,f as Fe,h as $s,i as Ks,j as yi,k as Qs}from"./chunk-3R2MKDRZ.js";import{a as nr}from"./chunk-V4T7SKRR.js";import"./chunk-VBQUHQ6M.js";import{a as Js}from"./chunk-SWGOGDXE.js";import{A as lr,a as k,b as fe,c as Jt,d as Zt,e as Ds,f as Ps,g as Xt,h as Fs,i as kt,j as Ns,k as Os,l as Ls,m as Rs,n as Us,p as Hs,x as js,y as ir}from"./chunk-CPP7HYSH.js";import{a as Zs}from"./chunk-UWMMN5CN.js";import{a as Xs,b as tr}from"./chunk-GJUTOLBN.js";import"./chunk-PDOYQQSA.js";import{a as F,b as Pe,c as As,d as ln,e as Ms,f as et,g as Yt,h as cn,i as ft,j as dn,k as Gt}from"./chunk-T2PBXJBN.js";import{$a as qt,$b as Te,Aa as f,B as Ut,Ba as Ze,Bb as Xe,Ca as q,Da as I,Db as Kt,Ea as sn,Fa as K,Fb as an,Gb as we,Gc as zs,H as ds,Ha as oe,Ia as te,Ja as ie,Jc as fi,K as tn,Ka as l,Kc as de,L as O,La as c,Lc as Ne,Ma as p,Mb as Z,N as ee,Na as rn,O as Ht,Oa as on,Ob as Ss,P as jt,Pb as We,Q as j,Qa as J,Qb as ht,R as re,Ra as vs,Rb as Qt,S as A,Sa as x,Sb as bs,T as Bt,Ta as D,Tb as ws,Ub as Ts,Vb as Cs,W as Vt,Wb as ks,X as us,Xb as Es,Yb as xs,Z as R,_ as U,_b as pt,ab as g,ac as ce,b as ke,ba as ms,bb as Q,ca as zt,cb as se,cc as Is,da as Wt,dc as $,ea as Ge,eb as Be,ec as Bs,fb as Ve,fc as X,g as en,gb as ze,h as is,i as Ee,ia as nn,ib as M,ic as ii,j as Ot,ja as hs,jb as me,jc as ni,k as ns,ka as Tt,kb as ve,kc as si,l as Lt,la as je,lc as ri,m as ss,mc as oi,n as rs,na as ps,nc as ai,oc as gt,pa as m,pc as Vs,qa as L,qc as li,r as os,rc as ci,s as xe,sa as fs,sc as di,t as as,ta as gs,tc as ui,u as He,uc as mi,vc as hi,wa as ys,wb as _s,wc as pi,x as ls,xa as Ct,xb as $t,y as cs,ya as B,z as Rt,za as Je}from"./chunk-J2NUHFWV.js";import{a as le,b as ut,c as ts,f as mt}from"./chunk-EQDQRRRY.js";var cr=["toast-component",""];function na(s,t){if(s&1){let e=J();l(0,"button",5),x("click",function(){R(e);let n=D();return U(n.remove())}),l(1,"span",6),g(2,"\xD7"),c()()}}function sa(s,t){if(s&1&&(rn(0),g(1),on()),s&2){let e=D(2);m(),se("[",e.duplicatesCount+1,"]")}}function ra(s,t){if(s&1&&(l(0,"div"),g(1),B(2,sa,2,1,"ng-container",4),c()),s&2){let e=D();I(e.options.titleClass),Je("aria-label",e.title),m(),se(" ",e.title," "),m(),f("ngIf",e.duplicatesCount)}}function oa(s,t){if(s&1&&p(0,"div",7),s&2){let e=D();I(e.options.messageClass),f("innerHTML",e.message,Tt)}}function aa(s,t){if(s&1&&(l(0,"div",8),g(1),c()),s&2){let e=D();I(e.options.messageClass),Je("aria-label",e.message),m(),se(" ",e.message," ")}}function la(s,t){if(s&1&&(l(0,"div"),p(1,"div",9),c()),s&2){let e=D();m(),Ze("width",e.width()+"%")}}function ca(s,t){if(s&1){let e=J();l(0,"button",5),x("click",function(){R(e);let n=D();return U(n.remove())}),l(1,"span",6),g(2,"\xD7"),c()()}}function da(s,t){if(s&1&&(rn(0),g(1),on()),s&2){let e=D(2);m(),se("[",e.duplicatesCount+1,"]")}}function ua(s,t){if(s&1&&(l(0,"div"),g(1),B(2,da,2,1,"ng-container",4),c()),s&2){let e=D();I(e.options.titleClass),Je("aria-label",e.title),m(),se(" ",e.title," "),m(),f("ngIf",e.duplicatesCount)}}function ma(s,t){if(s&1&&p(0,"div",7),s&2){let e=D();I(e.options.messageClass),f("innerHTML",e.message,Tt)}}function ha(s,t){if(s&1&&(l(0,"div",8),g(1),c()),s&2){let e=D();I(e.options.messageClass),Je("aria-label",e.message),m(),se(" ",e.message," ")}}function pa(s,t){if(s&1&&(l(0,"div"),p(1,"div",9),c()),s&2){let e=D();m(),Ze("width",e.width()+"%")}}var un=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},mn=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},hn=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ke;_activate=new ke;_manualClose=new ke;_resetTimeout=new ke;_countDuplicate=new ke;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},_t=class{toastId;config;message;title;toastType;toastRef;_onTap=new ke;_onAction=new ke;constructor(t,e,i,n,r,o){this.toastId=t,this.config=e,this.message=i,this.title=n,this.toastType=r,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},dr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},ur=new jt("ToastConfig"),pn=class extends mn{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),n;return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},fa=(()=>{class s{_document=re(Xe);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||s)};static \u0275prov=ee({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),fn=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},ga=(()=>{class s{_overlayContainer=re(fa);_componentFactoryResolver=re(fs);_appRef=re($t);_document=re(Xe);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),i?i.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new pn(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new fn(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||s)};static \u0275prov=ee({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),qe=(()=>{class s{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,n,r,o){this.overlay=i,this._injector=n,this.sanitizer=r,this.ngZone=o,this.toastrConfig=le(le({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=le(le({},e.default.iconClasses),e.config.iconClasses))}show(e,i,n={},r=""){return this._preBuildNotification(r,e,i,this.applyConfig(n))}success(e,i,n={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}error(e,i,n={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}info(e,i,n={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}warning(e,i,n={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,e,i,this.applyConfig(n))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(e="",i="",n,r){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let d=o&&a.title===e;if((!o||d)&&a.message===i)return a.toastRef.onDuplicate(n,r),a}return null}applyConfig(e={}){return le(le({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,n,r)):this._buildNotification(e,i,n,r)}_buildNotification(e,i,n,r){if(!r.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(n,i,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let d=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&r.enableHtml&&(u=this.sanitizer.sanitize(hs.HTML,i));let y=new hn(d),h=new _t(this.index,r,u,n,e,y),S=[{provide:_t,useValue:h}],v=zt.create({providers:S,parent:this._injector}),_=new un(r.toastComponent,v),b=d.attach(_,r.newestOnTop);y.componentInstance=b.instance;let P={toastId:this.index,title:n||"",message:i||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:b};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{P.toastRef.activate()})),this.toasts.push(P),P}static \u0275fac=function(i){return new(i||s)(j(ur),j(ga),j(zt),j(Es),j(Ge))};static \u0275prov=ee({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ya=(()=>{class s{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Ct(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,n){this.toastrService=e,this.toastPackage=i,this.ngZone=n,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=Ct({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>ut(le({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>ut(le({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>ut(le({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||s)(L(qe),L(_t),L(Ge))};static \u0275cmp=A({type:s,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,n){i&1&&x("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),i&2&&(vs("@flyInOut",n._state),I(n.toastClasses),Ze("display",n.displayStyle))},standalone:!0,features:[M],attrs:cr,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,n){i&1&&B(0,na,3,0,"button",0)(1,ra,3,5,"div",1)(2,oa,1,3,"div",2)(3,aa,2,4,"div",3)(4,la,2,2,"div",4),i&2&&(f("ngIf",n.options.closeButton),m(),f("ngIf",n.title),m(),f("ngIf",n.message&&n.options.enableHtml),m(),f("ngIf",n.message&&!n.options.enableHtml),m(),f("ngIf",n.options.progressBar))},dependencies:[an],encapsulation:2,data:{animation:[As("flyInOut",[Yt("inactive",et({opacity:0})),Yt("active",et({opacity:1})),Yt("removed",et({opacity:0})),cn("inactive => active",ln("{{ easeTime }}ms {{ easing }}")),cn("active => removed",ln("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return s})(),va=ut(le({},dr),{toastComponent:ya}),mr=(s={})=>Vt([{provide:ur,useValue:{default:va,config:s}}]);var _a=(()=>{class s{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Ct(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Ct("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,n){this.toastrService=e,this.toastPackage=i,this.appRef=n,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||s)(L(qe),L(_t),L($t))};static \u0275cmp=A({type:s,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,n){i&1&&x("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),i&2&&(I(n.toastClasses),Ze("display",n.displayStyle))},standalone:!0,features:[M],attrs:cr,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,n){i&1&&B(0,ca,3,0,"button",0)(1,ua,3,5,"div",1)(2,ma,1,3,"div",2)(3,ha,2,4,"div",3)(4,pa,2,2,"div",4),i&2&&(f("ngIf",n.options.closeButton),m(),f("ngIf",n.title),m(),f("ngIf",n.message&&n.options.enableHtml),m(),f("ngIf",n.message&&!n.options.enableHtml),m(),f("ngIf",n.options.progressBar))},dependencies:[an],encapsulation:2,changeDetection:0})}return s})(),Sd=ut(le({},dr),{toastComponent:_a});var hr=(s,t)=>{let e=re(Te),i=re(qe);return t(s).pipe(He(n=>{if(n)switch(n.status){case 400:if(n.error.errors){let o=[];for(let a in n.error.errors)n.error.errors[a]&&o.push(n.error.errors[a]);throw o.flat()}else i.error(n.error,n.status);break;case 401:i.error("Unauthorized",n.status);break;case 404:e.navigateByUrl("/not-found");break;case 500:let r={state:{error:n.error}};e.navigateByUrl("/server-error",r);break;default:i.error("Something unexpected went wrong");break}throw n}))};function pr(s){return new O(3e3,!1)}function Sa(){return new O(3100,!1)}function ba(){return new O(3101,!1)}function wa(s){return new O(3001,!1)}function Ta(s){return new O(3003,!1)}function Ca(s){return new O(3004,!1)}function ka(s,t){return new O(3005,!1)}function Ea(){return new O(3006,!1)}function xa(){return new O(3007,!1)}function Ia(s,t){return new O(3008,!1)}function Aa(s){return new O(3002,!1)}function Ma(s,t,e,i,n){return new O(3010,!1)}function Da(){return new O(3011,!1)}function Pa(){return new O(3012,!1)}function Fa(){return new O(3200,!1)}function Na(){return new O(3202,!1)}function Oa(){return new O(3013,!1)}function La(s){return new O(3014,!1)}function Ra(s){return new O(3015,!1)}function Ua(s){return new O(3016,!1)}function Ha(s,t){return new O(3404,!1)}function ja(s){return new O(3502,!1)}function Ba(s){return new O(3503,!1)}function Va(){return new O(3300,!1)}function za(s){return new O(3504,!1)}function Wa(s){return new O(3301,!1)}function qa(s,t){return new O(3302,!1)}function $a(s){return new O(3303,!1)}function Ka(s,t){return new O(3400,!1)}function Qa(s){return new O(3401,!1)}function Ya(s){return new O(3402,!1)}function Ga(s,t){return new O(3505,!1)}function $e(s){switch(s.length){case 0:return new ft;case 1:return s[0];default:return new dn(s)}}function Ir(s,t,e=new Map,i=new Map){let n=[],r=[],o=-1,a=null;if(t.forEach(d=>{let u=d.get("offset"),y=u==o,h=y&&a||new Map;d.forEach((S,v)=>{let _=v,b=S;if(v!=="offset")switch(_=s.normalizePropertyName(_,n),b){case Gt:b=e.get(v);break;case Pe:b=i.get(v);break;default:b=s.normalizeStyleValue(v,_,b,n);break}h.set(_,b)}),y||r.push(h),a=h,o=u}),n.length)throw ja(n);return r}function Un(s,t,e,i){switch(t){case"start":s.onStart(()=>i(e&&gn(e,"start",s)));break;case"done":s.onDone(()=>i(e&&gn(e,"done",s)));break;case"destroy":s.onDestroy(()=>i(e&&gn(e,"destroy",s)));break}}function gn(s,t,e){let i=e.totalTime,n=!!e.disabled,r=Hn(s.element,s.triggerName,s.fromState,s.toState,t||s.phaseName,i??s.totalTime,n),o=s._data;return o!=null&&(r._data=o),r}function Hn(s,t,e,i,n="",r=0,o){return{element:s,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:r,disabled:!!o}}function Se(s,t,e){let i=s.get(t);return i||s.set(t,i=e),i}function fr(s){let t=s.indexOf(":"),e=s.substring(1,t),i=s.slice(t+1);return[e,i]}var Ja=typeof document>"u"?null:document.documentElement;function jn(s){let t=s.parentNode||s.host||null;return t===Ja?null:t}function Za(s){return s.substring(1,6)=="ebkit"}var tt=null,gr=!1;function Xa(s){tt||(tt=el()||{},gr=tt.style?"WebkitAppearance"in tt.style:!1);let t=!0;return tt.style&&!Za(s)&&(t=s in tt.style,!t&&gr&&(t="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in tt.style)),t}function el(){return typeof document<"u"?document.body:null}function Ar(s,t){for(;t;){if(t===s)return!0;t=jn(t)}return!1}function Mr(s,t,e){if(e)return Array.from(s.querySelectorAll(t));let i=s.querySelector(t);return i?[i]:[]}var Bn=(()=>{class s{validateStyleProperty(e){return Xa(e)}containsElement(e,i){return Ar(e,i)}getParentElement(e){return jn(e)}query(e,i,n){return Mr(e,i,n)}computeStyle(e,i,n){return n||""}animate(e,i,n,r,o,a=[],d){return new ft(n,r)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})(),st=class{static{this.NOOP=new Bn}},rt=class{};var tl=1e3,Dr="{{",il="}}",Pr="ng-enter",wn="ng-leave",wi="ng-trigger",xi=".ng-trigger",yr="ng-animating",Tn=".ng-animating";function Le(s){if(typeof s=="number")return s;let t=s.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Cn(parseFloat(t[1]),t[2])}function Cn(s,t){switch(t){case"s":return s*tl;default:return s}}function Ii(s,t,e){return s.hasOwnProperty("duration")?s:nl(s,t,e)}function nl(s,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,r=0,o="";if(typeof s=="string"){let a=s.match(i);if(a===null)return t.push(pr(s)),{duration:0,delay:0,easing:""};n=Cn(parseFloat(a[1]),a[2]);let d=a[3];d!=null&&(r=Cn(parseFloat(d),a[4]));let u=a[5];u&&(o=u)}else n=s;if(!e){let a=!1,d=t.length;n<0&&(t.push(Sa()),a=!0),r<0&&(t.push(ba()),a=!0),a&&t.splice(d,0,pr(s))}return{duration:n,delay:r,easing:o}}function sl(s){return s.length?s[0]instanceof Map?s:s.map(t=>new Map(Object.entries(t))):[]}function Oe(s,t,e){t.forEach((i,n)=>{let r=Vn(n);e&&!e.has(n)&&e.set(n,s.style[r]),s.style[r]=i})}function nt(s,t){t.forEach((e,i)=>{let n=Vn(i);s.style[n]=""})}function Et(s){return Array.isArray(s)?s.length==1?s[0]:Ms(s):s}function rl(s,t,e){let i=t.params||{},n=Fr(s);n.length&&n.forEach(r=>{i.hasOwnProperty(r)||e.push(wa(r))})}var kn=new RegExp(`${Dr}\\s*(.+?)\\s*${il}`,"g");function Fr(s){let t=[];if(typeof s=="string"){let e;for(;e=kn.exec(s);)t.push(e[1]);kn.lastIndex=0}return t}function It(s,t,e){let i=`${s}`,n=i.replace(kn,(r,o)=>{let a=t[o];return a==null&&(e.push(Ta(o)),a=""),a.toString()});return n==i?s:n}var ol=/-+([a-z0-9])/g;function Vn(s){return s.replace(ol,(...t)=>t[1].toUpperCase())}function al(s,t){return s===0||t===0}function ll(s,t,e){if(e.size&&t.length){let i=t[0],n=[];if(e.forEach((r,o)=>{i.has(o)||n.push(o),i.set(o,r)}),n.length)for(let r=1;r<t.length;r++){let o=t[r];n.forEach(a=>o.set(a,zn(s,a)))}}return t}function _e(s,t,e){switch(t.type){case F.Trigger:return s.visitTrigger(t,e);case F.State:return s.visitState(t,e);case F.Transition:return s.visitTransition(t,e);case F.Sequence:return s.visitSequence(t,e);case F.Group:return s.visitGroup(t,e);case F.Animate:return s.visitAnimate(t,e);case F.Keyframes:return s.visitKeyframes(t,e);case F.Style:return s.visitStyle(t,e);case F.Reference:return s.visitReference(t,e);case F.AnimateChild:return s.visitAnimateChild(t,e);case F.AnimateRef:return s.visitAnimateRef(t,e);case F.Query:return s.visitQuery(t,e);case F.Stagger:return s.visitStagger(t,e);default:throw Ca(t.type)}}function zn(s,t){return window.getComputedStyle(s)[t]}var cl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ai=class extends rt{normalizePropertyName(t,e){return Vn(t)}normalizeStyleValue(t,e,i,n){let r="",o=i.toString().trim();if(cl.has(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(ka(t,i))}return o+r}};var Mi="*";function dl(s,t){let e=[];return typeof s=="string"?s.split(/\s*,\s*/).forEach(i=>ul(i,e,t)):e.push(s),e}function ul(s,t,e){if(s[0]==":"){let d=ml(s,e);if(typeof d=="function"){t.push(d);return}s=d}let i=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Ra(s)),t;let n=i[1],r=i[2],o=i[3];t.push(vr(n,o));let a=n==Mi&&o==Mi;r[0]=="<"&&!a&&t.push(vr(o,n))}function ml(s,t){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(Ua(s)),"* => *"}}var Ti=new Set(["true","1"]),Ci=new Set(["false","0"]);function vr(s,t){let e=Ti.has(s)||Ci.has(s),i=Ti.has(t)||Ci.has(t);return(n,r)=>{let o=s==Mi||s==n,a=t==Mi||t==r;return!o&&e&&typeof n=="boolean"&&(o=n?Ti.has(s):Ci.has(s)),!a&&i&&typeof r=="boolean"&&(a=r?Ti.has(t):Ci.has(t)),o&&a}}var Nr=":self",hl=new RegExp(`s*${Nr}s*,?`,"g");function Or(s,t,e,i){return new En(s).build(t,e,i)}var _r="",En=class{constructor(t){this._driver=t}build(t,e,i){let n=new xn(e);return this._resetContextStyleTimingState(n),_e(this,Et(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=_r,t.collectedStyles=new Map,t.collectedStyles.set(_r,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0,r=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(Ea()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==F.State){let d=a,u=d.name;u.toString().split(/\s*,\s*/).forEach(y=>{d.name=y,r.push(this.visitState(d,e))}),d.name=u}else if(a.type==F.Transition){let d=this.visitTransition(a,e);i+=d.queryCount,n+=d.depCount,o.push(d)}else e.errors.push(xa())}),{type:F.Trigger,name:t.name,states:r,transitions:o,queryCount:i,depCount:n,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){let r=new Set,o=n||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(d=>{Fr(d).forEach(u=>{o.hasOwnProperty(u)||r.add(u)})})}),r.size&&e.errors.push(Ia(t.name,[...r.values()]))}return{type:F.State,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=_e(this,Et(t.animation),e),n=dl(t.expr,e.errors);return{type:F.Transition,matchers:n,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:it(t.options)}}visitSequence(t,e){return{type:F.Sequence,steps:t.steps.map(i=>_e(this,i,e)),options:it(t.options)}}visitGroup(t,e){let i=e.currentTime,n=0,r=t.steps.map(o=>{e.currentTime=i;let a=_e(this,o,e);return n=Math.max(n,e.currentTime),a});return e.currentTime=n,{type:F.Group,steps:r,options:it(t.options)}}visitAnimate(t,e){let i=yl(t.timings,e.errors);e.currentAnimateTimings=i;let n,r=t.styles?t.styles:et({});if(r.type==F.Keyframes)n=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;let u={};i.easing&&(u.easing=i.easing),o=et(u)}e.currentTime+=i.duration+i.delay;let d=this.visitStyle(o,e);d.isEmptyStep=a,n=d}return e.currentAnimateTimings=null,{type:F.Animate,timings:i,style:n,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of n)typeof a=="string"?a===Pe?i.push(a):e.errors.push(Aa(a)):i.push(new Map(Object.entries(a)));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r)){for(let d of a.values())if(d.toString().indexOf(Dr)>=0){r=!0;break}}}),{type:F.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,n=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,d)=>{let u=e.collectedStyles.get(e.currentQuerySelector),y=u.get(d),h=!0;y&&(r!=n&&r>=y.startTime&&n<=y.endTime&&(e.errors.push(Ma(d,y.startTime,y.endTime,r,n)),h=!1),r=y.startTime),h&&u.set(d,{startTime:r,endTime:n}),e.options&&rl(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:F.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Da()),i;let n=1,r=0,o=[],a=!1,d=!1,u=0,y=t.steps.map(H=>{let C=this._makeStyleAst(H,e),Y=C.offset!=null?C.offset:gl(C.styles),G=0;return Y!=null&&(r++,G=C.offset=Y),d=d||G<0||G>1,a=a||G<u,u=G,o.push(G),C});d&&e.errors.push(Pa()),a&&e.errors.push(Fa());let h=t.steps.length,S=0;r>0&&r<h?e.errors.push(Na()):r==0&&(S=n/(h-1));let v=h-1,_=e.currentTime,b=e.currentAnimateTimings,P=b.duration;return y.forEach((H,C)=>{let Y=S>0?C==v?1:S*C:o[C],G=Y*P;e.currentTime=_+b.delay+G,b.duration=G,this._validateStyleAst(H,e),H.offset=Y,i.styles.push(H)}),i}visitReference(t,e){return{type:F.Reference,animation:_e(this,Et(t.animation),e),options:it(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:F.AnimateChild,options:it(t.options)}}visitAnimateRef(t,e){return{type:F.AnimateRef,animation:this.visitReference(t.animation,e),options:it(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;let[r,o]=pl(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,Se(e.collectedStyles,e.currentQuerySelector,new Map);let a=_e(this,Et(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:F.Query,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:it(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Oa());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Ii(t.timings,e.errors,!0);return{type:F.Stagger,animation:_e(this,Et(t.animation),e),timings:i,options:null}}};function pl(s){let t=!!s.split(/\s*,\s*/).find(e=>e==Nr);return t&&(s=s.replace(hl,"")),s=s.replace(/@\*/g,xi).replace(/@\w+/g,e=>xi+"-"+e.slice(1)).replace(/:animating/g,Tn),[s,t]}function fl(s){return s?le({},s):null}var xn=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function gl(s){if(typeof s=="string")return null;let t=null;if(Array.isArray(s))s.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(s instanceof Map&&s.has("offset")){let e=s;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function yl(s,t){if(s.hasOwnProperty("duration"))return s;if(typeof s=="number"){let r=Ii(s,t).duration;return yn(r,0,"")}let e=s;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=yn(0,0,"");return r.dynamic=!0,r.strValue=e,r}let n=Ii(e,t);return yn(n.duration,n.delay,n.easing)}function it(s){return s?(s=le({},s),s.params&&(s.params=fl(s.params))):s={},s}function yn(s,t,e){return{duration:s,delay:t,easing:e}}function Wn(s,t,e,i,n,r,o=null,a=!1){return{type:1,element:s,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:r,totalTime:n+r,easing:o,subTimeline:a}}var At=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},vl=1,_l=":enter",Sl=new RegExp(_l,"g"),bl=":leave",wl=new RegExp(bl,"g");function Lr(s,t,e,i,n,r=new Map,o=new Map,a,d,u=[]){return new In().buildKeyframes(s,t,e,i,n,r,o,a,d,u)}var In=class{buildKeyframes(t,e,i,n,r,o,a,d,u,y=[]){u=u||new At;let h=new An(t,e,u,n,r,y,[]);h.options=d;let S=d.delay?Le(d.delay):0;h.currentTimeline.delayNextStep(S),h.currentTimeline.setStyles([o],null,h.errors,d),_e(this,i,h);let v=h.timelines.filter(_=>_.containsAnimation());if(v.length&&a.size){let _;for(let b=v.length-1;b>=0;b--){let P=v[b];if(P.element===e){_=P;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,h.errors,d)}return v.length?v.map(_=>_.buildKeyframes()):[Wn(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let n=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,n,n.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let n of t){let r=n?.delay;if(r){let o=typeof r=="number"?r:Le(It(r,n?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime,o=i.duration!=null?Le(i.duration):null,a=i.delay!=null?Le(i.delay):null;return o!==0&&t.forEach(d=>{let u=e.appendInstructionToTimeline(d,o,a);r=Math.max(r,u.duration+u.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),_e(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,n=e,r=t.options;if(r&&(r.params||r.delay)&&(n=e.createSubContext(r),n.transformIntoNewTimeline(),r.delay!=null)){n.previousNode.type==F.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Di);let o=Le(r.delay);n.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>_e(this,o,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],n=e.currentTimeline.currentTime,r=t.options&&t.options.delay?Le(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);r&&a.delayNextStep(r),_e(this,o,a),n=Math.max(n,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,n=e.params?It(i,e.params,e.errors):i;return Ii(n,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());let r=t.style;r.type==F.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,n=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(d=>{let u=d.offset||0;a.forwardTime(u*r),a.setStyles(d.styles,d.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(n+r),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,n=t.options||{},r=n.delay?Le(n.delay):0;r&&(e.previousNode.type===F.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Di);let o=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=a.length;let d=null;a.forEach((u,y)=>{e.currentQueryIndex=y;let h=e.createSubContext(t.options,u);r&&h.delayNextStep(r),u===e.element&&(d=h.currentTimeline),_e(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let S=h.currentTimeline.currentTime;o=Math.max(o,S)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,n=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),d=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":d=a-d;break;case"full":d=i.currentStaggerTime;break}let y=e.currentTimeline;d&&y.delayNextStep(d);let h=y.currentTime;_e(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-h+(n.startTime-i.currentTimeline.startTime)}},Di={},An=class s{constructor(t,e,i,n,r,o,a,d){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Di,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new Pi(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,n=this.options;i.duration!=null&&(n.duration=Le(i.duration)),i.delay!=null&&(n.delay=Le(i.delay));let r=i.params;if(r){let o=n.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=It(r[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){let n=e||this.element,r=new s(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Di,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new Mn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,r,o){let a=[];if(n&&a.push(this.element),t.length>0){t=t.replace(Sl,"."+this._enterClassName),t=t.replace(wl,"."+this._leaveClassName);let d=i!=1,u=this._driver.query(this.element,t,d);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!r&&a.length==0&&o.push(La(e)),a}},Pi=class s{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new s(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=vl,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pe),this._currentKeyframe.set(e,Pe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&this._previousKeyframe.set("easing",e);let r=n&&n.params||{},o=Tl(t,this._globalTimelineStyles);for(let[a,d]of o){let u=It(d,r,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Pe),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let n=this._styleSummary.get(i);(!n||e.time>n.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,d)=>{let u=new Map([...this._backFill,...a]);u.forEach((y,h)=>{y===Gt?t.add(h):y===Pe&&e.add(h)}),i||u.set("offset",d/this.duration),n.push(u)});let r=[...t.values()],o=[...e.values()];if(i){let a=n[0],d=new Map(a);a.set("offset",0),d.set("offset",1),n=[a,d]}return Wn(this.element,n,r,o,this.duration,this.startTime,this.easing,!1)}},Mn=class extends Pi{constructor(t,e,i,n,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],o=i+e,a=e/o,d=new Map(t[0]);d.set("offset",0),r.push(d);let u=new Map(t[0]);u.set("offset",Sr(a)),r.push(u);let y=t.length-1;for(let h=1;h<=y;h++){let S=new Map(t[h]),v=S.get("offset"),_=e+v*i;S.set("offset",Sr(_/o)),r.push(S)}i=o,e=0,n="",t=r}return Wn(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}};function Sr(s,t=3){let e=Math.pow(10,t-1);return Math.round(s*e)/e}function Tl(s,t){let e=new Map,i;return s.forEach(n=>{if(n==="*"){i??=t.keys();for(let r of i)e.set(r,Pe)}else for(let[r,o]of n)e.set(r,o)}),e}function br(s,t,e,i,n,r,o,a,d,u,y,h,S){return{type:0,element:s,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:d,preStyleProps:u,postStyleProps:y,totalTime:h,errors:S}}var vn={},Fi=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return Cl(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,i):new Map}build(t,e,i,n,r,o,a,d,u,y){let h=[],S=this.ast.options&&this.ast.options.params||vn,v=a&&a.params||vn,_=this.buildStyles(i,v,h),b=d&&d.params||vn,P=this.buildStyles(n,b,h),H=new Set,C=new Map,Y=new Map,G=n==="void",Re={params:Rr(b,S),delay:this.ast.options?.delay},ge=y?[]:Lr(t,e,this.ast.animation,r,o,_,P,Re,u,h),ue=0;return ge.forEach(pe=>{ue=Math.max(pe.duration+pe.delay,ue)}),h.length?br(e,this._triggerName,i,n,G,_,P,[],[],C,Y,ue,h):(ge.forEach(pe=>{let Ke=pe.element,dt=Se(C,Ke,new Set);pe.preStyleProps.forEach(Qe=>dt.add(Qe));let Jn=Se(Y,Ke,new Set);pe.postStyleProps.forEach(Qe=>Jn.add(Qe)),Ke!==e&&H.add(Ke)}),br(e,this._triggerName,i,n,G,_,P,ge,[...H.values()],C,Y,ue))}};function Cl(s,t,e,i,n){return s.some(r=>r(t,e,i,n))}function Rr(s,t){let e=le({},t);return Object.entries(s).forEach(([i,n])=>{n!=null&&(e[i]=n)}),e}var Dn=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,n=Rr(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,a)=>{o&&(o=It(o,n,e));let d=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,d,o,e),i.set(a,o)})}),i}};function kl(s,t,e){return new Pn(s,t,e)}var Pn=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{let r=n.options&&n.options.params||{};this.states.set(n.name,new Dn(n.style,r,i))}),wr(this.states,"true","1"),wr(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new Fi(t,n,this.states))}),this.fallbackTransition=El(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(o=>o.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function El(s,t,e){let i=[(o,a)=>!0],n={type:F.Sequence,steps:[],options:null},r={type:F.Transition,animation:n,matchers:i,options:null,queryCount:0,depCount:0};return new Fi(s,r,t)}function wr(s,t,e){s.has(t)?s.has(e)||s.set(e,s.get(t)):s.has(e)&&s.set(t,s.get(e))}var xl=new At,Fn=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],n=[],r=Or(this._driver,e,i,n);if(i.length)throw Ba(i);n.length&&void 0,this._animations.set(t,r)}_buildPlayer(t,e,i){let n=t.element,r=Ir(this._normalizer,t.keyframes,e,i);return this._driver.animate(n,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let n=[],r=this._animations.get(t),o,a=new Map;if(r?(o=Lr(this._driver,e,r,Pr,wn,new Map,new Map,i,xl,n),o.forEach(y=>{let h=Se(a,y.element,new Map);y.postStyleProps.forEach(S=>h.set(S,null))})):(n.push(Va()),o=[]),n.length)throw za(n);a.forEach((y,h)=>{y.forEach((S,v)=>{y.set(v,this._driver.computeStyle(h,v,Pe))})});let d=o.map(y=>{let h=a.get(y.element);return this._buildPlayer(y,new Map,h)}),u=$e(d);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Wa(t);return e}listen(t,e,i,n){let r=Hn(e,"","","");return Un(this._getPlayer(t),i,r,n),()=>{}}command(t,e,i,n){if(i=="register"){this.register(t,n[0]);return}if(i=="create"){let o=n[0]||{};this.create(t,e,o);return}let r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},Tr="ng-animate-queued",Il=".ng-animate-queued",_n="ng-animate-disabled",Al=".ng-animate-disabled",Ml="ng-star-inserted",Dl=".ng-star-inserted",Pl=[],Ur={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ie="__ng_removed",Mt=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),n=i?t.value:t;if(this.value=Ol(n),i){let r=t,{value:o}=r,a=ts(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(n=>{i[n]==null&&(i[n]=e[n])})}}},xt="void",Sn=new Mt(xt),Nn=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ce(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.has(e))throw qa(i,e);if(i==null||i.length==0)throw $a(e);if(!Ll(i))throw Ka(i,e);let r=Se(this._elementListeners,t,[]),o={name:e,phase:i,callback:n};r.push(o);let a=Se(this._engine.statesByElement,t,new Map);return a.has(e)||(Ce(t,wi),Ce(t,wi+"-"+e),a.set(e,Sn)),()=>{this._engine.afterFlush(()=>{let d=r.indexOf(o);d>=0&&r.splice(d,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Qa(t);return e}trigger(t,e,i,n=!0){let r=this._getTrigger(e),o=new Dt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Ce(t,wi),Ce(t,wi+"-"+e),this._engine.statesByElement.set(t,a=new Map));let d=a.get(e),u=new Mt(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&u.absorbOptions(d.options),a.set(e,u),d||(d=Sn),!(u.value===xt)&&d.value===u.value){if(!Hl(d.params,u.params)){let b=[],P=r.matchStyles(d.value,d.params,b),H=r.matchStyles(u.value,u.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{nt(t,P),Oe(t,H)})}return}let S=Se(this._engine.playersByElement,t,[]);S.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let v=r.matchTransition(d.value,u.value,t,u.params),_=!1;if(!v){if(!n)return;v=r.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:d,toState:u,player:o,isFallbackTransition:_}),_||(Ce(t,Tr),o.onStart(()=>{St(t,Tr)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);let P=this._engine.playersByElement.get(t);if(P){let H=P.indexOf(o);H>=0&&P.splice(H,1)}}),this.players.push(o),S.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,xi,!0);i.forEach(n=>{if(n[Ie])return;let r=this._engine.fetchNamespacesByElement(n);r.size?r.forEach(o=>o.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){let r=this._engine.statesByElement.get(t),o=new Map;if(r){let a=[];if(r.forEach((d,u)=>{if(o.set(u,d.value),this._triggers.has(u)){let y=this.trigger(t,u,xt,n);y&&a.push(y)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&$e(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let n=new Set;e.forEach(r=>{let o=r.name;if(n.has(o))return;n.add(o);let d=this._triggers.get(o).fallbackTransition,u=i.get(o)||Sn,y=new Mt(xt),h=new Dt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:d,fromState:u,toState:y,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){let r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)n=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{let r=t[Ie];(!r||r===Ur)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ce(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let n=i.player;if(n.destroyed)return;let r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){let d=Hn(r,i.triggerName,i.fromState.value,i.toState.value);d._data=t,Un(i.player,a.phase,d,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{let r=i.transition.ast.depCount,o=n.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},On=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,r)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Nn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let d=n.get(a);if(d){let u=i.indexOf(d);i.splice(u+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return n.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let n of i.values())if(n.namespaceId){let r=this._fetchNamespace(n.namespaceId);r&&e.add(r)}}return e}trigger(t,e,i,n){if(ki(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!ki(e))return;let r=e[Ie];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ce(t,_n)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),St(t,_n))}removeNode(t,e,i){if(ki(e)){let n=t?this._fetchNamespace(t):null;n?n.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,n,r){this.collectedLeaveElements.push(e),e[Ie]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,n,r){return ki(e)?this._fetchNamespace(t).listen(e,i,n,r):()=>{}}_buildInstruction(t,e,i,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,xi,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Tn,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $e(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Ie];if(e&&e.setForRemoval){if(t[Ie]=Ur,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(_n)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Al,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let n=this.collectedEnterElements[i];Ce(n,Ml)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let n=this.collectedLeaveElements[i];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?$e(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw Ya(t)}_flushAnimations(t,e){let i=new At,n=[],r=new Map,o=[],a=new Map,d=new Map,u=new Map,y=new Set;this.disabledNodes.forEach(w=>{y.add(w);let T=this.driver.query(w,Il,!0);for(let E=0;E<T.length;E++)y.add(T[E])});let h=this.bodyNode,S=Array.from(this.statesByElement.keys()),v=Er(S,this.collectedEnterElements),_=new Map,b=0;v.forEach((w,T)=>{let E=Pr+b++;_.set(T,E),w.forEach(N=>Ce(N,E))});let P=[],H=new Set,C=new Set;for(let w=0;w<this.collectedLeaveElements.length;w++){let T=this.collectedLeaveElements[w],E=T[Ie];E&&E.setForRemoval&&(P.push(T),H.add(T),E.hasAnimation?this.driver.query(T,Dl,!0).forEach(N=>H.add(N)):C.add(T))}let Y=new Map,G=Er(S,Array.from(H));G.forEach((w,T)=>{let E=wn+b++;Y.set(T,E),w.forEach(N=>Ce(N,E))}),t.push(()=>{v.forEach((w,T)=>{let E=_.get(T);w.forEach(N=>St(N,E))}),G.forEach((w,T)=>{let E=Y.get(T);w.forEach(N=>St(N,E))}),P.forEach(w=>{this.processLeaveNode(w)})});let Re=[],ge=[];for(let w=this._namespaceList.length-1;w>=0;w--)this._namespaceList[w].drainQueuedTransitions(e).forEach(E=>{let N=E.player,ne=E.element;if(Re.push(N),this.collectedEnterElements.length){let ae=ne[Ie];if(ae&&ae.setForMove){if(ae.previousTriggersValues&&ae.previousTriggersValues.has(E.triggerName)){let Ye=ae.previousTriggersValues.get(E.triggerName),be=this.statesByElement.get(E.element);if(be&&be.has(E.triggerName)){let Nt=be.get(E.triggerName);Nt.value=Ye,be.set(E.triggerName,Nt)}}N.destroy();return}}let De=!h||!this.driver.containsElement(h,ne),ye=Y.get(ne),Ue=_.get(ne),z=this._buildInstruction(E,i,Ue,ye,De);if(z.errors&&z.errors.length){ge.push(z);return}if(De){N.onStart(()=>nt(ne,z.fromStyles)),N.onDestroy(()=>Oe(ne,z.toStyles)),n.push(N);return}if(E.isFallbackTransition){N.onStart(()=>nt(ne,z.fromStyles)),N.onDestroy(()=>Oe(ne,z.toStyles)),n.push(N);return}let es=[];z.timelines.forEach(ae=>{ae.stretchStartingKeyframe=!0,this.disabledNodes.has(ae.element)||es.push(ae)}),z.timelines=es,i.append(ne,z.timelines);let ia={instruction:z,player:N,element:ne};o.push(ia),z.queriedElements.forEach(ae=>Se(a,ae,[]).push(N)),z.preStyleProps.forEach((ae,Ye)=>{if(ae.size){let be=d.get(Ye);be||d.set(Ye,be=new Set),ae.forEach((Nt,Xi)=>be.add(Xi))}}),z.postStyleProps.forEach((ae,Ye)=>{let be=u.get(Ye);be||u.set(Ye,be=new Set),ae.forEach((Nt,Xi)=>be.add(Xi))})});if(ge.length){let w=[];ge.forEach(T=>{w.push(Ga(T.triggerName,T.errors))}),Re.forEach(T=>T.destroy()),this.reportError(w)}let ue=new Map,pe=new Map;o.forEach(w=>{let T=w.element;i.has(T)&&(pe.set(T,T),this._beforeAnimationBuild(w.player.namespaceId,w.instruction,ue))}),n.forEach(w=>{let T=w.element;this._getPreviousPlayers(T,!1,w.namespaceId,w.triggerName,null).forEach(N=>{Se(ue,T,[]).push(N),N.destroy()})});let Ke=P.filter(w=>xr(w,d,u)),dt=new Map;kr(dt,this.driver,C,u,Pe).forEach(w=>{xr(w,d,u)&&Ke.push(w)});let Qe=new Map;v.forEach((w,T)=>{kr(Qe,this.driver,new Set(w),d,Gt)}),Ke.forEach(w=>{let T=dt.get(w),E=Qe.get(w);dt.set(w,new Map([...T?.entries()??[],...E?.entries()??[]]))});let Zi=[],Zn=[],Xn={};o.forEach(w=>{let{element:T,player:E,instruction:N}=w;if(i.has(T)){if(y.has(T)){E.onDestroy(()=>Oe(T,N.toStyles)),E.disabled=!0,E.overrideTotalTime(N.totalTime),n.push(E);return}let ne=Xn;if(pe.size>1){let ye=T,Ue=[];for(;ye=ye.parentNode;){let z=pe.get(ye);if(z){ne=z;break}Ue.push(ye)}Ue.forEach(z=>pe.set(z,ne))}let De=this._buildAnimation(E.namespaceId,N,ue,r,Qe,dt);if(E.setRealPlayer(De),ne===Xn)Zi.push(E);else{let ye=this.playersByElement.get(ne);ye&&ye.length&&(E.parentPlayer=$e(ye)),n.push(E)}}else nt(T,N.fromStyles),E.onDestroy(()=>Oe(T,N.toStyles)),Zn.push(E),y.has(T)&&n.push(E)}),Zn.forEach(w=>{let T=r.get(w.element);if(T&&T.length){let E=$e(T);w.setRealPlayer(E)}}),n.forEach(w=>{w.parentPlayer?w.syncPlayerEvents(w.parentPlayer):w.destroy()});for(let w=0;w<P.length;w++){let T=P[w],E=T[Ie];if(St(T,wn),E&&E.hasAnimation)continue;let N=[];if(a.size){let De=a.get(T);De&&De.length&&N.push(...De);let ye=this.driver.query(T,Tn,!0);for(let Ue=0;Ue<ye.length;Ue++){let z=a.get(ye[Ue]);z&&z.length&&N.push(...z)}}let ne=N.filter(De=>!De.destroyed);ne.length?Rl(this,T,ne):this.processLeaveNode(T)}return P.length=0,Zi.forEach(w=>{this.players.push(w),w.onDone(()=>{w.destroy();let T=this.players.indexOf(w);this.players.splice(T,1)}),w.play()}),Zi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,r){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let d=!r||r==xt;a.forEach(u=>{u.queued||!d&&u.triggerName!=n||o.push(u)})}}return(i||n)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||n&&n!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){let n=e.triggerName,r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:n;for(let d of e.timelines){let u=d.element,y=u!==r,h=Se(i,u,[]);this._getPreviousPlayers(u,y,o,a,e.toState).forEach(v=>{let _=v.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),v.destroy(),h.push(v)})}nt(r,e.fromStyles)}_buildAnimation(t,e,i,n,r,o){let a=e.triggerName,d=e.element,u=[],y=new Set,h=new Set,S=e.timelines.map(_=>{let b=_.element;y.add(b);let P=b[Ie];if(P&&P.removedBeforeQueried)return new ft(_.duration,_.delay);let H=b!==d,C=Ul((i.get(b)||Pl).map(ue=>ue.getRealPlayer())).filter(ue=>{let pe=ue;return pe.element?pe.element===b:!1}),Y=r.get(b),G=o.get(b),Re=Ir(this._normalizer,_.keyframes,Y,G),ge=this._buildPlayer(_,Re,C);if(_.subTimeline&&n&&h.add(b),H){let ue=new Dt(t,a,b);ue.setRealPlayer(ge),u.push(ue)}return ge});u.forEach(_=>{Se(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>Nl(this.playersByQueriedElement,_.element,_))}),y.forEach(_=>Ce(_,yr));let v=$e(S);return v.onDestroy(()=>{y.forEach(_=>St(_,yr)),Oe(d,e.toStyles)}),h.forEach(_=>{Se(n,_,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ft(t.duration,t.delay)}},Dt=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ft,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(n=>Un(t,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Se(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Nl(s,t,e){let i=s.get(t);if(i){if(i.length){let n=i.indexOf(e);i.splice(n,1)}i.length==0&&s.delete(t)}return i}function Ol(s){return s??null}function ki(s){return s&&s.nodeType===1}function Ll(s){return s=="start"||s=="done"}function Cr(s,t){let e=s.style.display;return s.style.display=t??"none",e}function kr(s,t,e,i,n){let r=[];e.forEach(d=>r.push(Cr(d)));let o=[];i.forEach((d,u)=>{let y=new Map;d.forEach(h=>{let S=t.computeStyle(u,h,n);y.set(h,S),(!S||S.length==0)&&(u[Ie]=Fl,o.push(u))}),s.set(u,y)});let a=0;return e.forEach(d=>Cr(d,r[a++])),o}function Er(s,t){let e=new Map;if(s.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,n=new Set(t),r=new Map;function o(a){if(!a)return i;let d=r.get(a);if(d)return d;let u=a.parentNode;return e.has(u)?d=u:n.has(u)?d=i:d=o(u),r.set(a,d),d}return t.forEach(a=>{let d=o(a);d!==i&&e.get(d).push(a)}),e}function Ce(s,t){s.classList?.add(t)}function St(s,t){s.classList?.remove(t)}function Rl(s,t,e){$e(e).onDone(()=>s.processLeaveNode(t))}function Ul(s){let t=[];return Hr(s,t),t}function Hr(s,t){for(let e=0;e<s.length;e++){let i=s[e];i instanceof dn?Hr(i.players,t):t.push(i)}}function Hl(s,t){let e=Object.keys(s),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){let r=e[n];if(!t.hasOwnProperty(r)||s[r]!==t[r])return!1}return!0}function xr(s,t,e){let i=e.get(s);if(!i)return!1;let n=t.get(s);return n?i.forEach(r=>n.add(r)):t.set(s,i),e.delete(s),!0}var bt=class{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(n,r)=>{},this._transitionEngine=new On(t.body,e,i),this._timelineEngine=new Fn(t.body,e,i),this._transitionEngine.onRemovalComplete=(n,r)=>this.onRemovalComplete(n,r)}registerTrigger(t,e,i,n,r){let o=t+"-"+n,a=this._triggerCache[o];if(!a){let d=[],u=[],y=Or(this._driver,r,d,u);if(d.length)throw Ha(n,d);u.length&&void 0,a=kl(n,y,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,n,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if(i.charAt(0)=="@"){let[r,o]=fr(i),a=n;this._timelineEngine.command(r,e,o,a)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,r){if(i.charAt(0)=="@"){let[o,a]=fr(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,n,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function jl(s,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=bn(t[0]),t.length>1&&(i=bn(t[t.length-1]))):t instanceof Map&&(e=bn(t)),e||i?new Ln(s,e,i):null}var Ln=class s{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let n=s.initialStylesByElement.get(t);n||s.initialStylesByElement.set(t,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Oe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oe(this._element,this._initialStyles),this._endStyles&&(Oe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(nt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nt(this._element,this._endStyles),this._endStyles=null),Oe(this._element,this._initialStyles),this._state=3)}};function bn(s){let t=null;return s.forEach((e,i)=>{Bl(i)&&(t=t||new Map,t.set(i,e))}),t}function Bl(s){return s==="display"||s==="position"}var Ni=class{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{n!=="offset"&&t.set(n,this._finished?i:zn(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Oi=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Ar(t,e)}getParentElement(t){return jn(t)}query(t,e,i){return Mr(t,e,i)}computeStyle(t,e,i){return zn(t,e)}animate(t,e,i,n,r,o=[]){let a=n==0?"both":"forwards",d={duration:i,delay:n,fill:a};r&&(d.easing=r);let u=new Map,y=o.filter(v=>v instanceof Ni);al(i,n)&&y.forEach(v=>{v.currentSnapshot.forEach((_,b)=>u.set(b,_))});let h=sl(e).map(v=>new Map(v));h=ll(t,h,u);let S=jl(t,h);return new Ni(t,h,d,S)}};var Ei="@",jr="@.disabled",Li=class{constructor(t,e,i,n){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Ei&&e==jr?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Rn=class extends Li{constructor(t,e,i,n,r){super(e,i,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Ei?e.charAt(1)=="."&&e==jr?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==Ei){let n=Vl(t),r=e.slice(1),o="";return r.charAt(0)!=Ei&&([r,o]=zl(r)),this.engine.listen(this.namespaceId,n,r,o,a=>{let d=a._data||-1;this.factory.scheduleListenerCallback(d,i,a)})}return this.delegate.listen(t,e,i)}};function Vl(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}function zl(s){let t=s.indexOf("."),e=s.substring(0,t),i=s.slice(t+1);return[e,i]}var Ri=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(n,r)=>{r?.removeChild(null,n)}}createRenderer(t,e){let i="",n=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,y=u.get(n);if(!y){let h=()=>u.delete(n);y=new Li(i,n,this.engine,h),u.set(n,y)}return y}let r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(r,o,t,u.name,u)};return e.data.animation.forEach(a),new Rn(this,o,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(r=>{let[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),n.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var ql=(()=>{class s extends bt{constructor(e,i,n){super(e,i,n)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||s)(j(Xe),j(st),j(rt))}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})();function $l(){return new Ai}function Kl(s,t,e){return new Ri(s,t,e)}var Br=[{provide:rt,useFactory:$l},{provide:bt,useClass:ql},{provide:gs,useFactory:Kl,deps:[Cs,bt,Ge]}],Ql=[{provide:st,useFactory:()=>new Oi},{provide:nn,useValue:"BrowserAnimations"},...Br],jd=[{provide:st,useClass:Bn},{provide:nn,useValue:"NoopAnimations"},...Br];function Vr(){return ys("NgEagerAnimations"),[...Ql]}function Ui(s,t){let e=k(s);if(isNaN(t))return fe(s,NaN);if(!t)return e;let i=e.getDate(),n=fe(s,e.getTime());n.setMonth(e.getMonth()+t+1,0);let r=n.getDate();return i>=r?n:(e.setFullYear(n.getFullYear(),n.getMonth(),i),e)}var Yl={};function Hi(){return Yl}function ji(s,t){let e=Hi(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,n=k(s),r=n.getDay(),o=(r<i?7:0)+r-i;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function ot(s){return ji(s,{weekStartsOn:1})}function zr(s){let t=k(s),e=t.getFullYear(),i=fe(s,0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);let n=ot(i),r=fe(s,0);r.setFullYear(e,0,4),r.setHours(0,0,0,0);let o=ot(r);return t.getTime()>=n.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function qn(s){let t=k(s),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+s-+e}function Wr(s,t){let e=kt(s),i=kt(t),n=+e-qn(e),r=+i-qn(i);return Math.round((n-r)/Ps)}function qr(s){let t=zr(s),e=fe(s,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),ot(e)}function $r(s,t){return Zt(s,t*Xt)}function Kr(s,t){return Zt(s,t*1e3)}function Bi(s,t){let e=t*7;return Jt(s,e)}function Qr(s){let t;return s.forEach(function(e){let i=k(e);(t===void 0||t<i||isNaN(Number(i)))&&(t=i)}),t||new Date(NaN)}function Gr(s,t){let e=k(s),i=k(t),n=Yr(e,i),r=Math.abs(Wr(e,i));e.setDate(e.getDate()-n*r);let o=+(Yr(e,i)===-n),a=n*(r-o);return a===0?0:a}function Yr(s,t){let e=s.getFullYear()-t.getFullYear()||s.getMonth()-t.getMonth()||s.getDate()-t.getDate()||s.getHours()-t.getHours()||s.getMinutes()-t.getMinutes()||s.getSeconds()-t.getSeconds()||s.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function Vi(s){return t=>{let i=(s?Math[s]:Math.trunc)(t);return i===0?0:i}}function zi(s,t){return+k(s)-+k(t)}function Jr(s,t,e){let i=zi(s,t)/Xt;return Vi(e?.roundingMethod)(i)}function Zr(s,t,e){let i=zi(s,t)/1e3;return Vi(e?.roundingMethod)(i)}function Xr(s){let t=k(s);return t.setSeconds(0,0),t}function eo(s){let t=k(s);return t.setDate(1),t.setHours(0,0,0,0),t}function to(s,t){let e=Hi(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,n=k(s),r=n.getDay(),o=(r<i?-7:0)+6-(r-i);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}function io(s){let t=k(s),e=+ot(t)-+qr(t);return Math.round(e/Ds)+1}function no(s){return k(s).getDate()}function so(s){return k(s).getDay()}function ro(s){let t=k(s),e=t.getFullYear(),i=t.getMonth(),n=fe(s,0);return n.setFullYear(e,i+1,0),n.setHours(0,0,0,0),n.getDate()}function oo(s){return k(s).getHours()}function ao(s){return k(s).getMinutes()}function lo(s){return k(s).getMonth()}function co(s){return k(s).getFullYear()}function $n(s){let t=k(s);return t.setMilliseconds(0),t}function uo(s,t){let e=$n(s),i=$n(t);return+e==+i}function mo(s,t){let e=k(s),i=e.getFullYear(),n=e.getDate(),r=fe(s,0);r.setFullYear(i,t,15),r.setHours(0,0,0,0);let o=ro(r);return e.setMonth(t,Math.min(n,o)),e}function ho(s,t){let e=k(s);return e.setDate(t),e}function po(s,t){let e=k(s);return e.setHours(t),e}function fo(s,t){let e=k(s);return e.setMinutes(t),e}function go(s,t){let e=k(s);return isNaN(+e)?fe(s,NaN):(e.setFullYear(t),e)}function yo(s,t){return Ui(s,-t)}function vo(s,t){return Bi(s,-t)}function Gl(s){return new Date(s).getTimezoneOffset()}function _o(){return{addDays:Jt,addHours:Fs,addMinutes:$r,addSeconds:Kr,differenceInDays:Gr,differenceInMinutes:Jr,differenceInSeconds:Zr,endOfDay:Os,endOfMonth:Ls,endOfWeek:to,getDay:so,getMonth:lo,isSameDay:Ns,isSameMonth:Rs,isSameSecond:uo,max:Qr,setHours:po,setMinutes:fo,startOfDay:kt,startOfMinute:Xr,startOfMonth:eo,startOfWeek:ji,getHours:oo,getMinutes:ao,getTimezoneOffset:Gl}}function So(){return en(en({},_o()),{addWeeks:Bi,addMonths:Ui,subDays:Us,subWeeks:vo,subMonths:yo,getISOWeek:io,setDate:ho,setMonth:mo,setYear:go,getDate:no,getYear:co})}function Jl(s,t){if(s&1&&(l(0,"h5"),g(1),c(),l(2,"p"),g(3,"Note: if you are seeing this then angular is not to blame"),c(),l(4,"p"),g(5,"What do you do next"),c(),l(6,"ol")(7,"li"),g(8,"Open chrome dev tools and check the failing network request"),c(),l(9,"li"),g(10,"Examine the url of the failing request"),c(),l(11,"li"),g(12,"Reproduce error in postman"),c()(),l(13,"p"),g(14,"Following is the stack trace"),c(),l(15,"code"),g(16),c()),s&2){let e=D();m(),se("Error: ",e.error.message,""),m(15),Q(e.error.details)}}var bo=(()=>{class s{constructor(e){this.router=e;let i=this.router.getCurrentNavigation();this.error=i?.extras?.state?.error}static{this.\u0275fac=function(i){return new(i||s)(L(Te))}}static{this.\u0275cmp=A({type:s,selectors:[["app-server-error"]],standalone:!0,features:[M],decls:3,vars:1,template:function(i,n){i&1&&(l(0,"h4"),g(1,"Internal Server Error"),c(),B(2,Jl,17,2)),i&2&&(m(2),K(n.error?2:-1))}})}}return s})();var Kn=(()=>{class s{constructor(e){this.router=e}ngOnInit(){this.url=this.router.url}canActivate(e,i){let n=JSON.parse(localStorage.getItem("user")||"{}");return!0}static{this.\u0275fac=function(i){return new(i||s)(j(Te))}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Zl=()=>["/profile/timeline"],Xl=s=>({"background-image":s}),wo=(()=>{class s{constructor(e){this.commonServices=e,this.isOpen=!1}static{this.\u0275fac=function(i){return new(i||s)(L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-chat-box"]],standalone:!0,features:[M],decls:32,vars:10,consts:[[1,"chat-box",2,"right","370px"],[1,"chat-header",3,"routerLink"],[1,"name"],[1,"user-img",3,"ngStyle"],[1,"available-stats","online"],[1,"menu-option"],["src","assets/svg/video.svg"],["src","assets/svg/phone.svg"],["src","assets/svg/settings.svg"],[1,"close-chat",3,"click"],["src","assets/svg/x.svg"],[1,"chat-wrap"],[1,"chat-body"],[1,"msg_push"],[1,"chat-footer"],["placeholder","type your message here..",1,"chat-input","form-control","emojiPicker"],[1,"add-extent"],[1,"fas","fa-plus","animated-btn",3,"click"],[1,"options"],["src","assets/svg/image.svg"],["src","assets/svg/paperclip.svg"],["src","assets/svg/camera.svg"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"a",1)(2,"div",2)(3,"div",3),p(4,"span",4),c(),l(5,"span"),g(6),c()(),l(7,"div",5)(8,"ul")(9,"li"),p(10,"img",6),c(),l(11,"li"),p(12,"img",7),c(),l(13,"li"),p(14,"img",8),c(),l(15,"li",9),x("click",function(){return n.commonServices.isShow=!1}),p(16,"img",10),c()()()(),l(17,"div",11)(18,"div",12),p(19,"div",13),c(),l(20,"div",14),p(21,"input",15),l(22,"div",16)(23,"i",17),x("click",function(){return n.isOpen=!n.isOpen}),c(),l(24,"div",18)(25,"ul")(26,"li"),p(27,"img",19),c(),l(28,"li"),p(29,"img",20),c(),l(30,"li"),p(31,"img",21),c()()()()()()()),i&2&&(q("show",n.commonServices.isShow),m(),f("routerLink",me(7,Zl)),m(2),f("ngStyle",ve(8,Xl,"url("+n.commonServices.popoverData.image+")")),m(3),Q(n.commonServices.popoverData.title),m(16),q("show",n.isOpen))},dependencies:[$,ce,Z,we]})}}return s})();var ec=s=>({"background-image":s});function tc(s,t){if(s&1){let e=J();l(0,"li")(1,"div",23)(2,"a",24,2),x("click",function(){let n=R(e).$implicit,r=qt(3),o=D(3);return U(o.commonServices.toggle(r,n.image,n.title))}),p(4,"img",25)(5,"span"),c(),l(6,"div",26)(7,"h5",27),g(8),c(),l(9,"h6"),g(10),c()()()()}if(s&2){let e=t.$implicit;D(3);let i=qt(38);sn("friend-box ",e.class,""),m(2),f("ngbPopover",i)("ngStyle",ve(11,ec,"url("+e.image+")")),m(2),f("src",e.image,je),m(),sn("available-stats ",e.status,""),m(3),Q(e.title),m(2),Q(e.city)}}function ic(s,t){if(s&1){let e=J();l(0,"div",17)(1,"div",18)(2,"a",19),x("click",function(){R(e);let n=qt(7);return U(n.toggle())}),g(3),l(4,"div",20),p(5,"app-feather-icon",8),c()()(),l(6,"div",21,1),ze("ngbCollapseChange",function(n){let r=R(e).$implicit;return Ve(r.isCollapsed,n)||(r.isCollapsed=n),U(n)}),l(8,"ul"),te(9,tc,11,13,"li",22,oe),c()()()}if(s&2){let e=t.$implicit;m(2),Je("aria-expanded",!e.isCollapsed),m(),se("",e.heading," "),m(2),I("icon-theme iw-14 ih-14"),f("icons","chevron-down"),m(),Be("ngbCollapse",e.isCollapsed),m(3),ie(e.data)}}function nc(s,t){if(s&1&&te(0,ic,11,6,"div",17,oe),s&2){let e=D();ie(e.friendsListData)}}function sc(s,t){if(s&1&&p(0,"app-popover-loader",28),s&2){let e=D();f("data",e.commonServices.popoverData)}}function rc(s,t){s&1&&p(0,"app-chat-box")}var Co=(()=>{class s{constructor(e){this.commonServices=e,this.isCollapsed=!1,this.isCollapsed2=!1,this.isShow=!1,this.isOpenSearch=!1}ngOnInit(){this.commonServices.friendsConversation().subscribe(e=>{e&&(this.friendsListData=e.friendsConversationList)})}outSideClose(){this.isShow=!1}static{this.\u0275fac=function(i){return new(i||s)(L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-friends-conversation"]],standalone:!0,features:[M],decls:40,vars:32,consts:[["popContent",""],["collapse","ngbCollapse"],["data","ngbPopover"],[1,"panel-header"],[1,"setting"],[1,"setting-btn","setting-dropdown",3,"clickOutside"],[1,"btn-group","custom-dropdown","dropdown-sm"],["href","javascript:void(0)",3,"click"],[3,"icons"],[1,"dropdown-menu","dropdown-menu-right","custom-dropdown",2,"position","absolute","inset","0px auto auto 0px","margin","0px","transform","translate(-149px, 23px)"],["href","javascript:void(0)"],[1,"search-bar"],[1,"lg-search"],["type","text","placeholder","find friends...",1,"form-control"],[1,"xs-search"],[1,"icon-search",3,"click"],[1,"icon-close",3,"click"],[1,"friend-section"],[1,"header-section"],["role","button",3,"click"],[1,"down-arrow"],["id","accordion",1,"friend-list","collapse","show",3,"ngbCollapseChange","ngbCollapse"],[3,"class"],[1,"media"],["triggers","","placement","left",1,"popover-cls","user-img",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"click","ngbPopover","ngStyle"],["alt","user",1,"img-fluid","bg-img",2,"display","none",3,"src"],[1,"media-body"],[1,"user-name"],[3,"data"]],template:function(i,n){if(i&1){let r=J();l(0,"div",3)(1,"h2"),g(2,"friends"),c(),l(3,"h5"),g(4,"start new conversation"),c(),l(5,"div",4)(6,"div",5),x("clickOutside",function(){return R(r),U(n.outSideClose())}),l(7,"div",6)(8,"a",7),x("click",function(){return R(r),U(n.isShow=!n.isShow)}),p(9,"app-feather-icon",8),c(),l(10,"div",9)(11,"ul")(12,"li")(13,"a",10),p(14,"app-feather-icon",8),g(15,"see all"),c()(),l(16,"li")(17,"a",10),p(18,"app-feather-icon",8),g(19,"find friends"),c()(),l(20,"li")(21,"a",10),p(22,"app-feather-icon",8),g(23,"settings"),c()()()()()()()(),l(24,"div",11)(25,"div",12),p(26,"app-feather-icon",8)(27,"input",13),c(),l(28,"div",14)(29,"div",15),x("click",function(){return R(r),U(n.isOpenSearch=!0)}),p(30,"app-feather-icon",8),c(),l(31,"div",12),p(32,"app-feather-icon",8)(33,"input",13),l(34,"div",16),x("click",function(){return R(r),U(n.isOpenSearch=!1)}),p(35,"app-feather-icon",8),c()()()(),B(36,nc,2,0)(37,sc,1,1,"ng-template",null,0,_s)(39,rc,1,0,"app-chat-box")}i&2&&(m(8),q("show",n.isShow),m(),I("icon-theme stroke-width-3 icon iw-11 ih-11"),f("icons","sun"),m(),q("show",n.isShow),m(4),I("icon-font-light iw-16 ih-16"),f("icons","user"),m(4),I("icon-font-light iw-16 ih-16"),f("icons","search"),m(4),I("icon-font-light iw-16 ih-16"),f("icons","settings"),m(4),I("icon-theme icon iw-16"),f("icons","search"),m(2),q("open-full",n.isOpenSearch),m(2),I("icon-dark iw-16"),f("icons","search"),m(2),I("icon-dark icon iw-16"),f("icons","search"),m(3),I("icon-dark iw-16"),f("icons","x"),m(),K(n.friendsListData?36:-1),m(3),K(n.commonServices.isShow?39:-1))},dependencies:[X,Xs,wo,fi,Vs,zs,Z,we,Bs,$]})}}return s})();var ko=[{path:"news-feed-layout/style-1",icons:"file",iconType:"feather",active:!0},{path:"favorite/page-home",icons:"star",iconType:"feather"},{path:"",icons:"users",iconType:"feather"},{path:"others/music",icons:"headphones",iconType:"feather"},{path:"others/weather",icons:"cloud",iconType:"feather"},{path:"others/event-calendar",icons:"calendar",iconType:"feather"},{path:"others/birthday",icons:"cake",class:"bar-icon fill-white"},{path:"others/games",icons:"game-controller",class:"bar-icon fill-white"}];var oc=()=>["/news-feed-layout/style-1"];function ac(s,t){if(s&1&&p(0,"app-feather-icon",12),s&2){let e=D().$implicit;I("bar-icon"),f("icons",e.icons)}}function lc(s,t){if(s&1&&p(0,"app-svg-icon",12),s&2){let e=D().$implicit;I(e.class),f("icons",e.icons)}}function cc(s,t){if(s&1&&(l(0,"li")(1,"a",19),B(2,ac,1,3,"app-feather-icon",20)(3,lc,1,3,"app-svg-icon",21),c()()),s&2){let e=t.$implicit;q("active",e.active),m(),f("routerLink",e.path),m(),K(e.iconType==="feather"?2:3)}}var Eo=(()=>{class s{constructor(){this.header=ko}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-header-two"]],standalone:!0,features:[M],decls:28,vars:5,consts:[[1,"header-menu"],[1,"mobile-fix-menu"],[1,"container-fluid","custom-padding"],[1,"header-section"],[1,"header-left"],[1,"header-center","d-none","d-xl-block"],[1,"sidebar-icon"],[3,"active"],[1,"header-right"],[1,"option-list"],[1,"header-btn","home-btn","d-sm-none","d-block"],[1,"main-link",3,"routerLink"],[3,"icons"],[1,"header-btn","custom-dropdown","dropdown-lg","add-friend"],[1,"header-btn","custom-dropdown","dropdown-lg","btn-group","message-btn"],[1,"header-btn","custom-dropdown"],[1,"header-btn","custom-dropdown","d-xl-none","d-block","app-btn"],[1,"header-btn","custom-dropdown","dropdown-lg","btn-group","notification-btn"],[1,"header-btn","custom-dropdown","profile-btn","btn-group"],[3,"routerLink"],[3,"icons","class"],[3,"class","icons"]],template:function(i,n){i&1&&(l(0,"header",0),p(1,"div",1),l(2,"div",2)(3,"div",3)(4,"div",4),p(5,"app-brand-logo")(6,"app-search-box"),c(),l(7,"div",5)(8,"ul",6),te(9,cc,4,4,"li",7,oe),c()(),l(11,"div",8)(12,"ul",9)(13,"li",10)(14,"a",11),p(15,"app-feather-icon",12),c()(),l(16,"li",13),p(17,"app-friend-request"),c(),l(18,"li",14),p(19,"app-messages"),c(),l(20,"li",15),p(21,"app-mode"),c(),l(22,"li",16),p(23,"app-mobile-menu"),c(),l(24,"li",17),p(25,"app-notification"),c(),l(26,"li",18),p(27,"app-user-profile"),c()()()()()()),i&2&&(m(9),ie(n.header),m(5),f("routerLink",me(4,oc)),m(),I("icon-light stroke-width-3 iw-16 ih-16"),f("icons","home"))},dependencies:[Ne,ti,ei,vi,_i,gi,er,Si,bi,X,$,ce]})}}return s})();var dc=()=>["/news-feed-layout/style-1"],xo=(()=>{class s{constructor(e){this.commonServices=e,this.isShow=!1}static{this.\u0275fac=function(i){return new(i||s)(L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-header-three"]],inputs:{currentUrl:"currentUrl"},standalone:!0,features:[M],decls:24,vars:8,consts:[[1,"mobile-fix-menu"],[1,"container-fluid","custom-padding"],[1,"header-section"],[1,"header-left"],[1,"nav-sidebar","me-3","d-flex",3,"click"],[3,"icons"],[1,"header-right"],[1,"option-list"],[1,"header-btn","home-btn","d-sm-none","d-block"],[1,"main-link",3,"routerLink"],[1,"header-btn","custom-dropdown","dropdown-lg","add-friend"],[1,"header-btn","custom-dropdown","dropdown-lg","btn-group","message-btn"],[1,"header-btn","custom-dropdown"],[1,"header-btn","custom-dropdown","dropdown-lg","btn-group","notification-btn"],[1,"header-btn","custom-dropdown","profile-btn","btn-group"]],template:function(i,n){i&1&&(l(0,"header"),p(1,"div",0),l(2,"div",1)(3,"div",2)(4,"div",3)(5,"a",4),x("click",function(){return n.commonServices.isSidebar=!0}),p(6,"app-feather-icon",5),c(),p(7,"app-brand-logo")(8,"app-search-box"),c(),l(9,"div",6)(10,"ul",7)(11,"li",8)(12,"a",9),p(13,"app-feather-icon",5),c()(),l(14,"li",10),p(15,"app-friend-request"),c(),l(16,"li",11),p(17,"app-messages"),c(),l(18,"li",12),p(19,"app-mode"),c(),l(20,"li",13),p(21,"app-notification"),c(),l(22,"li",14),p(23,"app-user-profile"),c()()()()()()),i&2&&(m(6),I("icon-light stroke-width-3 iw-16 ih-16"),f("icons","menu"),m(6),f("routerLink",me(7,dc)),m(),I("icon-light stroke-width-3 iw-16 ih-16"),f("icons","home"))},dependencies:[X,ei,ti,vi,_i,gi,Si,bi,$,ce]})}}return s})();function uc(s,t){s&1&&p(0,"app-header-two")}function mc(s,t){s&1&&p(0,"app-header-three")}function hc(s,t){if(s&1&&p(0,"app-header-one",0),s&2){let e=D();f("currentUrl",e.currentUrl)}}var Io=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-header"]],inputs:{currentUrl:"currentUrl"},standalone:!0,features:[M],decls:3,vars:1,consts:[[3,"currentUrl"]],template:function(i,n){i&1&&B(0,uc,1,0,"app-header-two")(1,mc,1,0,"app-header-three")(2,hc,1,1,"app-header-one",0),i&2&&K(n.currentUrl.includes("/news-feed-layout/style-6")||n.currentUrl.includes("/news-feed-layout/style-7")?0:n.currentUrl.includes("/news-feed-layout/style-8")?1:2)},dependencies:[vt,Eo,xo]})}}return s})();var Ao=(()=>{class s{constructor(e){this.http=e}storyBox(){return this.http.get("assets/data/setting-box-list.json")}static{this.\u0275fac=function(i){return new(i||s)(j(Qt))}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var gc=s=>({"background-image":s});function yc(s,t){if(s&1){let e=J();l(0,"div",12)(1,"div",13)(2,"div",14),p(3,"img",15),c(),l(4,"div",16)(5,"h4"),g(6),c(),l(7,"div",17)(8,"button",18),x("click",function(){R(e);let n=D(3);return U(n.closeSetting(n.isOpenMenu))}),g(9,"Preview"),c()()()()()}if(s&2){let e=t.$implicit;m(2),f("ngStyle",ve(4,gc,"url("+e.image+")")),m(),f("src",e.image,je),m(3),Q(e.title),m(2),f("routerLink",e.path)}}function vc(s,t){if(s&1&&te(0,yc,10,6,"div",12,oe),s&2){let e=D().$implicit;ie(e.data)}}function _c(s,t){if(s&1&&(l(0,"div",5)(1,"h2",8)(2,"button",9),g(3),c()(),l(4,"div",10)(5,"div",11),B(6,vc,2,0,"ng-template"),c()()()),s&2){let e=t.$implicit;f("collapsed",!0),m(3),Q(e.title)}}var Mo=(()=>{class s{constructor(e,i){this.settingBoxServices=e,this.common=i,this.childEvent=new Wt}ngOnInit(){this.settingBoxServices.storyBox().subscribe(e=>{this.settingBox=e.settingBoxList})}closeSetting(e){this.childEvent.emit(e=!1)}static{this.\u0275fac=function(i){return new(i||s)(L(Ao),L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-setting-box"]],inputs:{isOpenMenu:"isOpenMenu"},outputs:{childEvent:"childEvent"},standalone:!0,features:[M],decls:12,vars:1,consts:[["href","javascript:void(0)"],[1,"setting_box_body"],[1,"sidebar-back","text-left",3,"click"],[1,"fa","fa-angle-left","pe-2"],["ngbAccordion","",1,"setting-body",3,"closeOthers"],["ngbAccordionItem","",3,"collapsed"],[1,"buy_btn"],["href","javascript:void(0)",1,"btn","btn-block","btn-solid"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse","",1,"setting-contant"],["ngbAccordionBody","",1,"row","demo-section"],[1,"col-sm-6","col-12","text-center","demo-effects"],[1,"set-position"],[1,"layout-container",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["alt","",1,"bg-img",2,"display","none",3,"src"],[1,"demo-text"],[1,"btn-group","demo-btn"],["type","button",1,"btn","new-tab-btn",3,"click","routerLink"]],template:function(i,n){i&1&&(p(0,"a",0),l(1,"div",1)(2,"div")(3,"div",2),x("click",function(){return n.closeSetting(n.isOpenMenu)}),p(4,"i",3),g(5,"Back"),c()(),l(6,"div",4),te(7,_c,7,2,"div",5,oe),l(9,"div",6)(10,"a",7),g(11,"purchase Friendbook now!"),c()()()()),i&2&&(m(6),f("closeOthers",!0),m(),ie(n.settingBox))},dependencies:[Z,we,pi,di,hi,mi,ui,li,ci,$,ce]})}}return s})();function Sc(s,t){s&1&&(l(0,"div",4),g(1,"Dark"),c())}function bc(s,t){s&1&&(l(0,"div",4),g(1,"Light"),c())}var Wi=(()=>{class s{constructor(e){this.commonServices=e,this.tabData="rtl",this.isOpenMenu=!1}changeLayoutType(e){e=="rtl"?(document.body.classList.add("rtl"),this.tabData="ltr"):(document.body.classList.remove("rtl"),this.tabData="rtl")}isFalse(e){this.isOpenMenu=e}static{this.\u0275fac=function(i){return new(i||s)(L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-theme-settings"]],standalone:!0,features:[M],decls:14,vars:7,consts:[[1,"theme-settings"],[1,"rtl-btn"],[1,"theme-layout-version",3,"click"],[1,"rtl-btn","h-cls",3,"click"],[1,"dark-button"],[1,"pages"],[3,"click"],["id","setting-icon",1,"theme-setting-sidebar"],["id","setting_box",1,"setting-box"],[3,"childEvent","isOpenMenu"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),x("click",function(){return n.changeLayoutType(n.tabData)}),g(3),c()(),l(4,"div",3),x("click",function(){return n.commonServices.changeMode()}),B(5,Sc,2,0,"div",4)(6,bc,2,0,"div",4),c(),l(7,"div",5)(8,"a",6),x("click",function(){return n.isOpenMenu=!0}),l(9,"div",7)(10,"div"),g(11," pages "),c()()()()(),l(12,"div",8)(13,"app-setting-box",9),x("childEvent",function(o){return n.isFalse(o)}),c()()),i&2&&(m(2),q("rtl",n.tabData==="ltr"),m(),se(" ",n.tabData.toUpperCase(),""),m(2),K(n.commonServices.dark?6:5),m(7),q("open-setting",n.isOpenMenu),m(),f("isOpenMenu",n.isOpenMenu))},dependencies:[Mo,fi,gt]})}}return s})();function wc(s,t){if(s&1&&(l(0,"div",3)(1,"div",8)(2,"div",9),p(3,"app-sidebar",1),c(),l(4,"div",10),p(5,"app-liked-pages",11),c()()()),s&2){let e=D();m(3),f("currentUrl",e.currentUrl),m(2),f("rating",!1)}}function Tc(s,t){if(s&1&&(l(0,"div",12),p(1,"app-sidebar",1),c()),s&2){let e=D();q("show",e.commonServices.isSidebar),f("ngClass",e.getClass().sidebar),m(),f("currentUrl",e.currentUrl)}}function Cc(s,t){s&1&&(l(0,"div",5)(1,"div",13)(2,"div",14),p(3,"app-profile-box"),c(),l(4,"div",15),p(5,"app-friend-suggestion"),c(),l(6,"div",16)(7,"div",10),p(8,"app-liked-pages",11),c(),l(9,"div",17),p(10,"app-common-weather"),c()()()()),s&2&&(m(8),f("rating",!0))}function kc(s,t){s&1&&(l(0,"div",5)(1,"div",13)(2,"div",14),p(3,"app-profile-box"),c(),l(4,"div",15),p(5,"app-friend-suggestion"),c(),l(6,"div",16)(7,"div",10),p(8,"app-liked-pages",11),c(),l(9,"div",17),p(10,"app-common-weather"),c()()()()),s&2&&(m(8),f("rating",!0))}var Do=(()=>{class s{constructor(e,i){this.router=e,this.commonServices=i,this.router.events.subscribe(n=>{n instanceof xs&&(this.currentUrl=n.url,window.scrollTo(0,0))})}getClass(){let e="",i="",n="",r="",o="";return this.currentUrl==="/news-feed-layout/style-1"||this.currentUrl==="/"?e="custom-padding":this.currentUrl==="/news-feed-layout/style-2"?(i="header-light",n="sidebar-white",e="custom-padding"):this.currentUrl==="/news-feed-layout/style-3"?(e="newsfeed-style1",n="panel-lg"):this.currentUrl==="/news-feed-layout/style-4"?(e="newsfeed-style2",n="panel-lg",r="d-none"):this.currentUrl==="/news-feed-layout/style-5"?(e="custom-padding newsfeed-style7",r="panel-xs",o="page-lg"):this.currentUrl==="/news-feed-layout/style-6"?(e="custom-padding newsfeed-style3",n="d-none"):this.currentUrl==="/news-feed-layout/style-7"?(e="custom-padding newsfeed-style4",n="d-none",r="d-none"):this.currentUrl==="/news-feed-layout/style-8"?(e="custom-padding newsfeed-style3 width-style style-8-page",n="panel-lg fixed-sidebar",r="d-none"):this.currentUrl==="/news-feed-layout/style-9"?(e="newsfeed-style5",n="sidebar-light panel-lg"):this.currentUrl==="/news-feed-layout/style-10"?(e="newsfeed-style6",n="panel-lg"):this.currentUrl==="/news-feed-layout/style-11"?e="newsfeed-style6 custom-padding single-post":this.currentUrl==="/news-feed-layout/style-12"?(e="newsfeed-style custom-padding",r="panel-xs"):this.currentUrl==="/profile/timeline"?e="custom-padding profile-page":this.currentUrl==="/profile/about"?e="custom-padding profile-page profile-page-about":this.currentUrl==="/profile/friends"||this.currentUrl==="/profile/gallery"?e="custom-padding profile-page profile-page-friend":this.currentUrl==="/profile/activity-feed"||this.currentUrl==="/profile/tab"||this.currentUrl==="/profile/friend-profile"?e="custom-padding profile-page":this.currentUrl==="/favorite/page-listing"?e="custom-padding event-page":this.currentUrl==="/favorite/page-home"||this.currentUrl==="/favorite/about"?e="custom-padding custom-padding favourite-page-body":this.currentUrl==="/favorite/review"?e="custom-padding favourite-page-body":this.currentUrl==="/favorite/gallery"?e="custom-padding profile-page profile-page-friend":this.currentUrl==="/favorite/tab"?e="custom-padding favourite-page-body":this.currentUrl==="/others/event-calendar"?e="custom-padding event-page":this.currentUrl==="/others/birthday"?e="custom-padding birthday-page":this.currentUrl==="/others/weather"?e="custom-padding weather-page":this.currentUrl==="/others/music"?e="custom-padding music-page":this.currentUrl==="/others/games"?e="custom-padding game-page":this.currentUrl==="/others/tab"&&(e="custom-padding favourite-page-body"),{body:e,header:i,sidebar:n,panel:r,center:o}}static{this.\u0275fac=function(i){return new(i||s)(L(Te),L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-content"]],standalone:!0,features:[M],decls:12,vars:8,consts:[[3,"ngClass"],[3,"currentUrl"],[1,"page-body","container-fluid",3,"ngClass"],[1,"panel-sidebar"],[1,"sidebar-panel",3,"show","ngClass"],[1,"page-content","content-sidebar","m-0"],[1,"page-center",3,"ngClass"],[1,"conversation-panel","xl-light",3,"ngClass"],[1,"sticky-cls"],[1,"sidebar-panel","panel-lg","dark-sidebar"],[1,"page-list","section-t-space"],[3,"rating"],[1,"sidebar-panel",3,"ngClass"],[1,"content-left","p-0"],[1,"profile-box"],[1,"suggestion-box","section-t-space"],[1,"sticky-top","sticky-xl-top"],[1,"weather-section","section-t-space"]],template:function(i,n){i&1&&(l(0,"header",0),p(1,"app-header",1),c(),l(2,"div",2),B(3,wc,6,2,"div",3)(4,Tc,2,4,"div",4)(5,Cc,11,1,"div",5),l(6,"div",6),p(7,"router-outlet"),c(),B(8,kc,11,1,"div",5),l(9,"div",7),p(10,"app-friends-conversation"),c()(),p(11,"app-theme-settings")),i&2&&(f("ngClass",n.getClass().header),m(),f("currentUrl",n.currentUrl),m(),f("ngClass",n.getClass().body),m(),K(n.currentUrl.includes("/news-feed-layout/style-10")||n.currentUrl.includes("/news-feed-layout/style-11")?3:4),m(2),K(n.currentUrl.includes("/news-feed-layout/style-6")?5:-1),m(),f("ngClass",n.getClass().center),m(2),K(n.currentUrl.includes("news-feed-layout/style-8")?8:-1),m(),f("ngClass",n.getClass().panel))},dependencies:[nr,Co,Wi,Io,ir,Zs,tr,Js,$,pt,Z,Kt]})}}return s})();var Po=(()=>{class s{constructor(e){this.viewScroller=e,this.isShow=!1}onWindowScroll(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>600?this.isShow=!0:this.isShow=!1}tapToTop(){this.viewScroller.scrollToPosition([0,0])}static{this.\u0275fac=function(i){return new(i||s)(L(Ss))}}static{this.\u0275cmp=A({type:s,selectors:[["app-tap-top"]],hostBindings:function(i,n){i&1&&x("scroll",function(){return n.onWindowScroll()},!1,ps)},standalone:!0,features:[M],decls:3,vars:2,consts:[[1,"tap-top",3,"click"],[1,"fa","fa-angle-double-up"]],template:function(i,n){i&1&&(l(0,"div",0),x("click",function(){return n.tapToTop()}),l(1,"div"),p(2,"i",1),c()()),i&2&&Ze("display",n.isShow?"block":"none")}})}}return s})();var Fo=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-full"]],standalone:!0,features:[M],decls:3,vars:0,template:function(i,n){i&1&&p(0,"router-outlet")(1,"app-theme-settings")(2,"app-tap-top")},dependencies:[$,pt,Z,Wi,Po]})}}return s})();function Ec(s,t){s&1&&g(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}function xc(s,t){if(s&1&&(l(0,"div",5)(1,"div",10)(2,"h2",11)(3,"button",12),g(4),c()(),l(5,"div",13)(6,"div",14),B(7,Ec,1,0,"ng-template"),c()()()()),s&2){let e=t.$implicit;f("closeOthers",!0),m(),f("collapsed",e!=="First"),m(3),Q(e)}}function Ic(s,t){if(s&1&&p(0,"li",7),s&2){let e=t.$implicit;f("innerHTML",e.title,Tt)}}var No=(()=>{class s{constructor(){this.items=["Choose a new username","Check if you already have a Friendbook Account","Check where email notifications are sent"],this.existingEmail=rr}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-article-part"]],standalone:!0,features:[M],decls:42,vars:0,consts:[[1,"article-part"],[1,"main-title"],[1,"content"],[1,"sub-title"],["id","accordionExample",1,"accordion","theme-accordion","accordion-sm"],["ngbAccordion","",1,"card",3,"closeOthers"],[1,"inner-title"],[3,"innerHTML"],[1,"content","mb-0"],["href","javascript:void(0)"],["ngbAccordionItem","",3,"collapsed"],["ngbAccordionHeader","",1,"card-header"],["ngbAccordionButton","",1,"btn","btn-link","btn-block","text-left"],["ngbAccordionCollapse","",1,"collapse","show"],["ngbAccordionBody","",1,"card-body"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),g(3,"how to create friendbook account"),c()(),l(4,"div",2)(5,"p"),g(6,"A friendbook is social media website. With a friendbook Account, you can do things like: "),c(),l(7,"ul")(8,"li"),g(9,"make a new friend"),c(),l(10,"li"),g(11,"make unforgatable events"),c(),l(12,"li"),g(13,"connect with people"),c()()(),l(14,"div",3)(15,"h3"),g(16,"step: 1 Create Friendbook Account"),c()(),l(17,"div",2)(18,"p"),g(19,"When you create a Friendbook Account, we ask for some personal info. By providing accurate info, you can help keep your account secure and make our services more useful. "),c(),l(20,"div",4),te(21,xc,8,3,"div",5,oe),c(),l(23,"div",6)(24,"h4"),g(25,"Use an existing email address "),c()(),l(26,"ol"),te(27,Ic,1,1,"li",7,oe),c()(),l(29,"div",3)(30,"h3"),g(31,"step: 2 Protect your account with recovery info"),c()(),l(32,"div",8)(33,"p"),g(34,"If you forget your password or someone is using your account without your permission, updated recovery info makes it much more likely you\u2019ll get your account back. "),c(),l(35,"ul")(36,"li")(37,"a",9),g(38,"Add a recovery phone number"),c()(),l(39,"li")(40,"a",9),g(41,"Add a recovery email address"),c()()()()()),i&2&&(m(21),ie(n.items),m(6),ie(n.existingEmail))},dependencies:[pi,di,hi,mi,ui,li,ci]})}}return s})();function Ac(s,t){return this.articleSidebar}function Mc(s,t){if(s&1&&(l(0,"li",3)(1,"a",4),p(2,"app-feather-icon",5),l(3,"h6"),g(4),c()()()),s&2){let e=t.$implicit,i=t.$index;q("active",i===0),m(2),f("icons","file-text"),m(2),Q(e.heading)}}var Oo=(()=>{class s{constructor(){this.articleSidebar=sr}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-article-sidebar"]],standalone:!0,features:[M],decls:7,vars:0,consts:[[1,"article-sidebar","sticky-cls-top","theme-card"],[1,"sidebar-title"],[1,"active",3,"active"],[1,"active"],["href","javascript:void(0)"],[3,"icons"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),g(3,"Related topics"),c()(),l(4,"ul"),te(5,Mc,5,4,"li",2,Ac,!0),c()()),i&2&&(m(5),ie(n.articleSidebar))},dependencies:[X]})}}return s})();var Lo=(()=>{class s{ngOnInit(){document.body.classList.add("bg-white")}ngOnDestroy(){document.body.classList.remove("bg-white")}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-help-article"]],standalone:!0,features:[M],decls:28,vars:1,consts:[[1,"no-sticky","bg-transparent"],[1,"breadcrumb-section","bg-size",2,"background-image","url(assets/images/breadcrumb.jpg)","background-size","cover","background-position","center center","background-repeat","no-repeat","display","block"],["src","assets/images/breadcrumb.jpg","alt","",1,"img-fluid","bg-img",2,"display","none"],[1,"animation-emoji"],[1,"help-search"],[1,"container"],[1,"row"],[1,"col-lg-6","col-md-8","col-12","m-auto"],["type","search","placeholder","Search something here1...",1,"form-control"],[1,"section-pt-space","section-pb-space","article-section"],[1,"col-lg-9","order-lg-1"],[1,"col-lg-3"],[1,"footer-t-space"],[3,"footerClass"]],template:function(i,n){i&1&&(p(0,"app-loading"),l(1,"header",0),p(2,"app-header-one"),c(),l(3,"section",1),p(4,"img",2),l(5,"div",3),p(6,"app-animation-emoji"),c(),l(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h2"),g(12,"how can we help you?"),c(),l(13,"form"),p(14,"input",8),l(15,"span"),g(16,"popular topics: privacy, security, profile"),c()()()()()()(),l(17,"section",9)(18,"div",5)(19,"div",6)(20,"div",10),p(21,"app-article-part"),c(),l(22,"div",11),p(23,"app-article-sidebar"),c()()()(),l(24,"section"),p(25,"app-download"),c(),l(26,"footer",12),p(27,"app-footer",13),c()),i&2&&(m(27),f("footerClass","footer-b-space"))},dependencies:[vt,Ws,No,Oo,Fe,qs,Qs]})}}return s})();var Dc=()=>["/news-feed-layout/style-1"],Pc=()=>["/others/register"];function Fc(s,t){if(s&1){let e=J();l(0,"app-feather-icon",41),x("click",function(){R(e);let n=D();return U(n.show=!n.show)}),c()}s&2&&(I("input-icon iw-20 ih-20"),f("icons","eye"))}function Nc(s,t){if(s&1){let e=J();l(0,"app-feather-icon",41),x("click",function(){R(e);let n=D();return U(n.show=!n.show)}),c()}s&2&&(I("input-icon iw-20 ih-20"),f("icons","eye-off"))}var Ro=(()=>{class s{constructor(e){this.commonServices=e,this.show=!1}static{this.\u0275fac=function(i){return new(i||s)(L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-login"]],standalone:!0,features:[M],decls:81,vars:13,consts:[[1,"login-section"],[1,"header-section"],[1,"logo-sec"],[3,"routerLink"],["src","assets/images/icon/logo.png","alt","logo",1,"img-fluid"],[1,"right-links"],["href","javascript:void(0)"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-5","d-none","d-lg-block"],[1,"login-welcome"],["src","assets/images/login/charcter.png","alt","charcter",1,"img-fluid"],[1,"col-xl-6","col-lg-7","col-md-10","col-12","m-auto"],[1,"login-form"],[1,"login-title"],[1,"login-discription"],[1,"form-sec"],[1,"theme-form"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","placeholder","Enter email",1,"form-control"],[3,"icons"],["for","exampleInputPassword1"],["id","exampleInputPassword1","placeholder","Password","formControlName","password",1,"form-control",3,"type"],[3,"icons","class"],[1,"bottom-sec"],[1,"form-check","checkbox_animated"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["href","javascript:void(0)",1,"ms-auto","forget-password"],[1,"btn-section"],[1,"btn","btn-solid","btn-lg"],[1,"btn","btn-solid","btn-lg","ms-auto",3,"routerLink"],[1,"connect-with"],[1,"social-links"],[1,"google"],[1,"facebook"],[1,"twitter"],[1,"how-work"],[1,"media"],[1,"media-body"],[3,"click","icons"]],template:function(i,n){i&1&&(p(0,"app-loading"),l(1,"section",0)(2,"div",1)(3,"div",2)(4,"a",3),p(5,"img",4),c()(),l(6,"div",5)(7,"ul")(8,"li")(9,"a",6),g(10," about "),c()(),l(11,"li")(12,"a",6),g(13," upgrade "),c()()()()(),l(14,"div",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"div"),p(19,"img",11),l(20,"h1"),g(21,"Welcome Back!"),c()()()(),l(22,"div",12)(23,"div",13)(24,"div")(25,"div",14)(26,"h2"),g(27,"Login"),c()(),l(28,"div",15)(29,"h3"),g(30,"Hello Everyone, Welcome Back"),c(),l(31,"h4"),g(32,"Welcome to WingTek Notions, please login to your account. "),c()(),l(33,"div",16)(34,"div")(35,"form",17)(36,"div",18)(37,"label",19),g(38,"Email address"),c(),p(39,"input",20)(40,"app-feather-icon",21),c(),l(41,"div",18)(42,"label",22),g(43,"Password"),c(),p(44,"input",23),B(45,Fc,1,3,"app-feather-icon",24)(46,Nc,1,3,"app-feather-icon",24),c(),l(47,"div",25)(48,"div",26),p(49,"input",27),l(50,"label",28),g(51,"remember me"),c()(),l(52,"a",29),g(53,"forget password?"),c()(),l(54,"div",30)(55,"a",31),g(56,"login"),c(),l(57,"a",32),g(58,"sign up"),c()()(),l(59,"div",33)(60,"h6")(61,"span"),g(62,"OR Connect With"),c()(),l(63,"ul",34)(64,"li",35)(65,"a",6),p(66,"app-svg-icon",21),c()(),l(67,"li",36)(68,"a",6),p(69,"app-svg-icon",21),c()(),l(70,"li",37)(71,"a",6),p(72,"app-svg-icon",21),c()()()()()()()()()()(),l(73,"div",38)(74,"div",39),p(75,"app-feather-icon",21),l(76,"div",40)(77,"h2"),g(78,"how it work?"),c(),l(79,"p"),g(80," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been. "),c()()()()()),i&2&&(m(4),f("routerLink",me(11,Dc)),m(36),I("input-icon iw-20 ih-20"),f("icons","user"),m(4),f("type",n.show?"text":"password"),m(),K(n.show?45:46),m(12),f("routerLink",me(12,Pc)),m(9),f("icons","google"),m(3),f("icons","facebook"),m(3),f("icons","twitter"),m(3),f("icons","play-circle"))},dependencies:[Ne,X,Fe,$,ce]})}}return s})();var Uo=s=>({"background-image":s});function Oc(s,t){if(s&1&&(l(0,"div",15)(1,"div",16)(2,"div",17)(3,"a",18),p(4,"img",19),c()()()()),s&2){let e=t.$implicit;m(3),f("ngStyle",ve(2,Uo,"url("+e.image+")")),m(),f("src",e.image,je)}}var Ho=(()=>{class s{constructor(){this.move=new Wt,this.socialMedia=yi}isFalse(){this.isMenu=!1,this.move.emit(this.isMenu)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-user-info"]],inputs:{data:"data",isMenu:"isMenu"},outputs:{move:"move"},standalone:!0,features:[M],decls:33,vars:10,consts:[[1,"back-btn","d-lg-none","d-block",3,"click"],[3,"icons"],[1,"user-image","bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["src","assets/images/user/2.jpg","alt","",1,"img-fluid","bg-img",2,"display","none"],[1,"user-name"],[1,"social-btn"],[1,"facebook"],["href","javascript:void(0)"],[1,"twitter"],[1,"whatsapp"],[1,"user-gallery"],[1,"gallery-section"],[1,"portfolio-section","ratio_square"],[1,"container-fluid","p-0"],[1,"row"],[1,"col-4"],[1,"overlay"],[1,"portfolio-image"],["href","javascript:void(0)",1,"bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["alt","",1,"img-fluid","bg-img",2,"display","none",3,"src"]],template:function(i,n){i&1&&(l(0,"div",0),x("click",function(){return n.isFalse()}),p(1,"app-feather-icon",1),c(),l(2,"div",2),p(3,"img",3),c(),l(4,"div",4)(5,"h5"),g(6),c(),l(7,"h6"),g(8,"london, united kingdom"),c(),l(9,"p"),g(10,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempora possimus magnam adipisci aspernatur."),c(),l(11,"div",5)(12,"ul")(13,"li",6)(14,"a",7),p(15,"app-svg-icon",1),c()(),l(16,"li",8)(17,"a",7),p(18,"app-svg-icon",1),c()(),l(19,"li",9)(20,"a",7),p(21,"app-svg-icon",1),c()()()()(),l(22,"div",10)(23,"h5"),g(24,"media "),l(25,"a",7),g(26,"see all"),c()(),l(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14),te(31,Oc,5,4,"div",15,oe),c()()()()()),i&2&&(m(),I("icon-theme"),f("icons","x"),m(),f("ngStyle",ve(8,Uo,"url("+n.data.image+")")),m(4),Q(n.data.user),m(9),f("icons","facebook"),m(3),f("icons","twitter"),m(3),f("icons","whatsapp"),m(10),ie(n.socialMedia))},dependencies:[Ne,X,Z,we]})}}return s})();var Lc=s=>({"background-image":s});function Rc(s,t){if(s&1&&(l(0,"div",31),g(1),l(2,"div",32),g(3,"15:13"),c(),l(4,"div",33),g(5,"\u2713"),c(),l(6,"div",34),g(7,"\u2713"),c()()),s&2){let e=t.$implicit,i=D();q("message-personal",e.isReply)("new",i.data.user),m(),se(" ",e.message," ")}}var jo=(()=>{class s{constructor(){this.isShow=!1,this.isHide=!1,this.isMenu=!1,this.chats=Ks,this.socialMedia=yi}receiveChildData(e){this.isMenu=e}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-chat-content"]],inputs:{data:"data"},standalone:!0,features:[M],decls:52,vars:25,consts:[["id","myTabContent",1,"tab-content"],[1,"tab-pane","fade",3,"ngClass"],[1,"tab-box"],[1,"user-chat"],[1,"user-title"],[1,"back-btn","d-block","d-sm-none",3,"click"],[3,"icons"],[1,"media","list-media"],[1,"story-img"],[1,"user-img","bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"click","ngStyle"],["src","assets/images/user/2.jpg","alt","user",1,"img-fluid","bg-img",2,"display","none"],[1,"media-body"],[1,"menu-option"],["href","javascript:void(0)"],[1,"d-block","d-lg-none","info-user",3,"click"],[1,"chat-history"],[1,"avenue-messenger"],[1,"chat"],[1,"messages-content"],[1,"message","new",3,"message-personal","new"],[1,"message-box"],["placeholder","Type message...",1,"message-input","emojiPicker"],[1,"add-extent"],[1,"fas","fa-plus","animated-btn",3,"click"],[1,"options"],["src","assets/svg/image.svg","alt","svg"],["src","assets/svg/paperclip.svg","alt","svg"],["src","assets/svg/camera.svg","alt","svg"],["href","javascript:void(0)",1,"message-submit"],[1,"user-info"],[3,"move","data","isMenu"],[1,"message","new"],[1,"timestamp"],[1,"checkmark-sent-delivered"],[1,"checkmark-read"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),x("click",function(){return n.isHide=!0}),p(6,"app-feather-icon",6),c(),l(7,"div",7)(8,"div",8)(9,"div",9),x("click",function(){return n.isMenu=!n.isMenu}),p(10,"img",10),c()(),l(11,"div",11)(12,"h5"),g(13),c(),l(14,"h6"),g(15,"active 10m ago"),c()()(),l(16,"div",12)(17,"ul")(18,"li")(19,"a",13),p(20,"app-feather-icon",6),c()(),l(21,"li")(22,"a",13),p(23,"app-feather-icon",6),c()(),l(24,"li")(25,"a",13),p(26,"app-feather-icon",6),c()(),l(27,"li",14),x("click",function(){return n.isMenu=!0}),l(28,"a",13),p(29,"app-feather-icon",6),c()()()()(),l(30,"div",15)(31,"div",16)(32,"div",17)(33,"div",18),te(34,Rc,8,5,"div",19,oe),c(),l(36,"div",20),p(37,"textarea",21),l(38,"div",22)(39,"i",23),x("click",function(){return n.isShow=!n.isShow}),c(),l(40,"div",24)(41,"ul")(42,"li"),p(43,"img",25),c(),l(44,"li"),p(45,"img",26),c(),l(46,"li"),p(47,"img",27),c()()()(),l(48,"a",28),p(49,"app-feather-icon",6),c()()()()()(),l(50,"div",29)(51,"app-user-info",30),x("move",function(o){return n.receiveChildData(o)}),c()()()()()),i&2&&(m(),f("ngClass",n.isHide?"":"active show"),m(5),f("icons","arrow-left"),m(3),f("ngStyle",ve(23,Lc,"url("+n.data.image+")")),m(4),se("",n.data.user," "),m(7),I("icon-dark"),f("icons","phone"),m(3),I("icon-dark"),f("icons","video"),m(3),I("icon-dark"),f("icons","settings"),m(3),I("icon-dark"),f("icons","info"),m(5),ie(n.chats),m(4),q("show",n.isShow),m(11),f("icons","send"),m(),q("show",n.isMenu),m(),f("data",n.data)("isMenu",n.isMenu))},dependencies:[X,Ho,Z,Kt,we]})}}return s})();var Uc=()=>["/news-feed-layout/style-1"],Hc=s=>({"background-image":s});function jc(s,t){if(s&1&&(l(0,"span",20),g(1),c()),s&2){let e=D().$implicit;m(),Q(e.count)}}function Bc(s,t){if(s&1){let e=J();l(0,"li",10)(1,"a",13),x("click",function(){let n=R(e).$implicit,r=D();return U(r.changeData(n.id))}),l(2,"div",14)(3,"div",15)(4,"div",16),p(5,"img",17),c()(),l(6,"div",18)(7,"h5"),g(8),l(9,"span"),g(10),c()(),l(11,"h6"),g(12),c()()(),l(13,"div",19)(14,"h6"),g(15),c(),B(16,jc,2,1,"span",20),c()()()}if(s&2){let e=t.$implicit,i=D();m(),q("active",e.id===i.messageData.id),m(3),f("ngStyle",ve(9,Hc,"url("+e.image+")")),m(),f("src",e.image,je),m(3),se("",e.user," "),m(2),Q(e.time),m(2),Q(e.status),m(3),Q(e.message),m(),K(e.count?16:-1)}}var Bo=(()=>{class s{constructor(){this.chatUser=$s}ngOnInit(){this.messageData=this.chatUser.filter(e=>e.id===1)[0]}changeData(e){this.chatUser.forEach(i=>{i.id===e&&(this.messageData=i)})}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-messenger-section"]],standalone:!0,features:[M],decls:15,vars:10,consts:[[1,"messenger-section"],[1,"chat-users"],[1,"user-header"],[1,"back-btn","d-block","d-sm-none",3,"routerLink"],[1,"'ih-18","iw-18'",3,"icons"],[1,"search-bar"],[3,"icons"],["type","text","placeholder","find friends...",1,"form-control"],["href","javascript:void(0)",1,"new-chat"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"chat-content"],[3,"data"],[1,"nav-link",3,"click"],[1,"media","list-media"],[1,"story-img"],[1,"user-img","bg-size",2,"background-size","cover","background-position","center center","background-repeat","no-repeat","display","block",3,"ngStyle"],["alt","user",1,"img-fluid","bg-img",2,"display","none",3,"src"],[1,"media-body"],[1,"chat"],[1,"count"]],template:function(i,n){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"a",3),p(4,"app-feather-icon",4),c(),l(5,"div",5),p(6,"app-feather-icon",6)(7,"input",7),c(),l(8,"a",8),p(9,"app-feather-icon",6),c()(),l(10,"ul",9),te(11,Bc,17,11,"li",10,oe),c()(),l(13,"div",11),p(14,"app-chat-content",12),c()()),i&2&&(m(3),f("routerLink",me(9,Uc)),m(),f("icons","arrow-left"),m(2),I("icon-theme icon iw-16"),f("icons","search"),m(3),I("icon-light iw-14 ih-14"),f("icons","edit"),m(2),ie(n.chatUser),m(3),f("data",n.messageData))},dependencies:[X,jo,Z,we,$,ce]})}}return s})();var Vo=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-messenger"]],standalone:!0,features:[M],decls:4,vars:0,consts:[[1,"d-none","d-sm-block"]],template:function(i,n){i&1&&(p(0,"app-loading"),l(1,"header",0),p(2,"app-header-one"),c(),p(3,"app-messenger-section"))},dependencies:[vt,Bo,Fe]})}}return s})();var zc=()=>["/news-feed-layout/style-1"],zo=(()=>{class s{constructor(e){this.router=e,this.loggedIn=!1,this.model={},this.accountService=re(yt),this.toaster=re(qe)}register(){console.log(this.model),this.accountService.register(this.model).subscribe({next:e=>{this.loggedIn=!0,this.router.navigate(["/news-feed-layout/style-1"])},error:e=>this.toaster.error(e.error)})}login(){this.accountService.login(this.model).subscribe({next:e=>{this.loggedIn=!0;let i={token:e,username:this.model.username};localStorage.setItem("user",JSON.stringify(i)),this.router.navigate(["/news-feed-layout/style-1"])},error:e=>this.toaster.error(e.error)})}static{this.\u0275fac=function(i){return new(i||s)(L(Te))}}static{this.\u0275cmp=A({type:s,selectors:[["app-register"]],standalone:!0,features:[M],decls:78,vars:16,consts:[["loginForm","ngForm"],[1,"login-section"],[1,"header-section"],[1,"logo-sec"],[3,"routerLink"],["src","assets/images/icon/logo-color2.png","alt","logo",1,"img-fluid"],[1,"right-links"],["href","javascript:void(0)"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-5","d-none","d-lg-block"],[1,"login-welcome"],["src","assets/images/login/ring.png","alt","notions",1,"img-fluid"],[1,"col-xl-6","col-lg-7","col-md-10","col-12","m-auto"],[1,"login-form"],[1,"login-title"],[1,"login-discription"],[1,"form-sec"],[1,"theme-form"],[1,"form-group"],["for","name"],["type","text","id","name","name","username","placeholder","Your Name",1,"form-control",3,"ngModelChange","ngModel"],[3,"icons"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","placeholder","Enter email",1,"form-control"],["for","exampleInputPassword1"],["name","password","type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"bottom-sec"],[1,"form-check","checkbox_animated"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["href","javascript:void(0)",1,"ms-auto"],[1,"btn-section"],["href","javascript:void(0)",1,"btn","btn-solid","btn-lg",3,"click"],[1,"btn","btn-solid","btn-lg","ms-auto",3,"click"],[1,"connect-with"],[1,"social-links"],[1,"google"],[1,"facebook"],[1,"twitter"]],template:function(i,n){if(i&1){let r=J();p(0,"app-loading"),l(1,"section",1)(2,"div",2)(3,"div",3)(4,"a",4),p(5,"img",5),c()(),l(6,"div",6)(7,"ul")(8,"li")(9,"a",7),g(10," about "),c()(),l(11,"li")(12,"a",7),g(13," upgrade "),c()()()()(),l(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div"),p(19,"img",12),l(20,"h1"),g(21,"Welcome friend!"),c()()()(),l(22,"div",13)(23,"div",14)(24,"div")(25,"div",15)(26,"h2"),g(27,"Register"),c()(),l(28,"div",16)(29,"h3"),g(30,"Hello Everyone"),c(),l(31,"h4"),g(32,"Welcome to WingTek, create your account below to start using WingTek Notions."),c()(),l(33,"div",17)(34,"div")(35,"form",18,0)(37,"div",19)(38,"label",20),g(39,"Full Name"),c(),l(40,"input",21),ze("ngModelChange",function(a){return R(r),Ve(n.model.username,a)||(n.model.username=a),U(a)}),c(),p(41,"app-feather-icon",22),c(),l(42,"div",19)(43,"label",23),g(44,"Email address"),c(),p(45,"input",24)(46,"app-feather-icon",22),c(),l(47,"div",19)(48,"label",25),g(49,"Password"),c(),l(50,"input",26),ze("ngModelChange",function(a){return R(r),Ve(n.model.password,a)||(n.model.password=a),U(a)}),c(),p(51,"app-feather-icon",22),c(),l(52,"div",27)(53,"div",28),p(54,"input",29),l(55,"label",30),g(56,"remember me"),c()(),l(57,"a",31),g(58,"forget password?"),c()(),l(59,"div",32)(60,"a",33),x("click",function(){return R(r),U(n.register())}),g(61,"sign up"),c(),l(62,"a",34),x("click",function(){return R(r),U(n.login())}),g(63,"login"),c()()(),l(64,"div",35)(65,"h6")(66,"span"),g(67,"OR Connect With"),c()(),l(68,"ul",36)(69,"li",37)(70,"a",7),p(71,"app-svg-icon",22),c()(),l(72,"li",38)(73,"a",7),p(74,"app-svg-icon",22),c()(),l(75,"li",39)(76,"a",7),p(77,"app-svg-icon",22),c()()()()()()()()()()()()}i&2&&(m(4),f("routerLink",me(15,zc)),m(36),Be("ngModel",n.model.username),m(),I("input-icon iw-20 ih-20"),f("icons","user"),m(5),I("input-icon iw-20 ih-20"),f("icons","mail"),m(4),Be("ngModel",n.model.password),m(),I("input-icon iw-20 ih-20"),f("icons","eye"),m(20),f("icons","google"),m(3),f("icons","facebook"),m(3),f("icons","twitter"))},dependencies:[Ne,X,Fe,$,ce,gt,ai,ii,ni,si,oi,ri]})}}return s})();var Wo=[{path:"others/login",component:Ro},{path:"others/register",component:zo},{path:"others/help-support",component:or},{path:"others/messenger",component:Vo},{path:"others/setting",component:ar},{path:"others/help-article",component:Lo},{path:"others/setting",loadChildren:()=>import("./chunk-BCDWFEWE.js")},{path:"company",loadChildren:()=>import("./chunk-B52KSUSC.js")},{path:"element",loadChildren:()=>import("./chunk-MIEXRWJQ.js")}];var qo=[{path:"news-feed-layout",loadChildren:()=>import("./chunk-UIYWWSAZ.js")},{path:"profile",loadChildren:()=>import("./chunk-M25AOQDE.js")},{path:"favorite",loadChildren:()=>import("./chunk-PZH222IY.js")},{path:"others",loadChildren:()=>import("./chunk-NZAMUQRQ.js")}];var Wc=()=>["/news-feed-layout/style-1"];function qc(s,t){if(s&1){let e=J();l(0,"app-feather-icon",39),x("click",function(){R(e);let n=D();return U(n.show=!n.show)}),c()}s&2&&(I("input-icon iw-20 ih-20"),f("icons","eye"))}function $c(s,t){if(s&1){let e=J();l(0,"app-feather-icon",39),x("click",function(){R(e);let n=D();return U(n.show=!n.show)}),c()}s&2&&(I("input-icon iw-20 ih-20"),f("icons","eye-off"))}var $o=(()=>{class s{constructor(e,i){this.router=e,this.commonServices=i,this.model={},this.accountService=re(yt),this.show=!1,this.toaster=re(qe),localStorage.getItem("user")?.length!=null&&e.navigate(["/news-feed-layout/style-1"])}showPassword(){this.show=!this.show}login(){this.accountService.login(this.model).subscribe({next:e=>{let i={token:e,username:this.model.username};localStorage.setItem("user",JSON.stringify(i)),this.router.navigate(["/news-feed-layout/style-1"])},error:e=>this.toaster.error(e.error)})}register(){console.log("here",this.model),this.router.navigate(["/others/register"]).then(e=>{e||this.toaster.error("Navigation failed")})}static{this.\u0275fac=function(i){return new(i||s)(L(Te),L(de))}}static{this.\u0275cmp=A({type:s,selectors:[["app-auth-login"]],standalone:!0,features:[M],decls:72,vars:12,consts:[["loginForm","ngForm"],[1,"login-section"],[1,"header-section"],[1,"logo-sec"],[3,"routerLink"],["src","assets/images/icon/logo-color2.png","alt","logo",1,"img-fluid"],[1,"right-links"],["href","javascript:void(0)"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-5","d-none","d-lg-block"],[1,"login-welcome"],["src","assets/images/login/ring.png","alt","charcter",1,"img-fluid"],[1,"col-xl-6","col-lg-7","col-md-10","col-12","m-auto"],[1,"login-form"],[1,"login-title"],[1,"login-discription"],[1,"form-sec"],[1,"theme-form"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","placeholder","Enter email","name","username",1,"form-control",3,"ngModelChange","ngModel"],[3,"icons"],["for","exampleInputPassword1"],["id","exampleInputPassword1","name","password","placeholder","Password",1,"form-control",3,"ngModelChange","type","ngModel"],[3,"icons","class"],[1,"bottom-sec"],[1,"form-check","checkbox_animated"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["href","javascript:void(0)",1,"ms-auto","forget-password"],[1,"btn-section"],[1,"btn","btn-solid","btn-lg",3,"click"],[1,"btn","btn-solid","btn-lg","ms-auto",3,"click"],[1,"connect-with"],[1,"social-links"],[1,"google"],[1,"facebook"],[1,"twitter"],[3,"click","icons"]],template:function(i,n){if(i&1){let r=J();p(0,"app-loading"),l(1,"section",1)(2,"div",2)(3,"div",3)(4,"a",4),p(5,"img",5),c()(),l(6,"div",6)(7,"ul")(8,"li")(9,"a",7),g(10," about "),c()(),l(11,"li")(12,"a",7),g(13," upgrade "),c()()()()(),l(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div"),p(19,"img",12),c()()(),l(20,"div",13)(21,"div",14)(22,"div")(23,"div",15)(24,"h2"),g(25,"Login"),c()(),l(26,"div",16)(27,"h3"),g(28,"Hello Everyone, Welcome Back"),c(),l(29,"h4"),g(30,"Welcome to WingTek Notions, please login to your account. "),c()(),l(31,"div",17)(32,"div")(33,"form",18,0)(35,"div",19)(36,"label",20),g(37,"Email address"),c(),l(38,"input",21),ze("ngModelChange",function(a){return R(r),Ve(n.model.username,a)||(n.model.username=a),U(a)}),c(),p(39,"app-feather-icon",22),c(),l(40,"div",19)(41,"label",23),g(42,"Password"),c(),l(43,"input",24),ze("ngModelChange",function(a){return R(r),Ve(n.model.password,a)||(n.model.password=a),U(a)}),c(),B(44,qc,1,3,"app-feather-icon",25)(45,$c,1,3,"app-feather-icon",25),c(),l(46,"div",26)(47,"div",27),p(48,"input",28),l(49,"label",29),g(50,"remember me"),c()(),l(51,"a",30),g(52,"forget password?"),c()(),l(53,"div",31)(54,"button",32),x("click",function(){return R(r),U(n.login())}),g(55,"login"),c(),l(56,"button",33),x("click",function(){return R(r),U(n.register())}),g(57,"sign up"),c()()(),l(58,"div",34)(59,"h6")(60,"span"),g(61,"OR Connect With"),c()(),l(62,"ul",35)(63,"li",36)(64,"a",7),p(65,"app-svg-icon",22),c()(),l(66,"li",37)(67,"a",7),p(68,"app-svg-icon",22),c()(),l(69,"li",38)(70,"a",7),p(71,"app-svg-icon",22),c()()()()()()()()()()()()}i&2&&(m(4),f("routerLink",me(11,Wc)),m(34),Be("ngModel",n.model.username),m(),I("input-icon iw-20 ih-20"),f("icons","user"),m(4),f("type",n.show?"text":"password"),Be("ngModel",n.model.password),m(),K(n.show?44:45),m(21),f("icons","google"),m(3),f("icons","facebook"),m(3),f("icons","twitter"))},dependencies:[X,Ne,Fe,$,ce,gt,ai,ii,ni,si,oi,ri]})}}return s})();var Ko=[{path:"",redirectTo:"news-feed-layout/style-1",pathMatch:"full"},{path:"auth/login",component:$o},{path:"",component:Do,children:qo,canActivate:[Kn]},{path:"",component:Fo,children:Wo,canActivate:[Kn]},{path:"errors",component:Gs},{path:"not-found",component:Ys},{path:"server-error",component:bo},{path:"**",redirectTo:"company/404"}];var qi=class{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}},$i=class{};var Pt=class{},Kc=(()=>{class s extends Pt{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ms(s)))(n||s)}})()}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})();var Ki=class{},Qi=class{},Qc=(()=>{class s{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})();var Ft=class{constructor(t){this.type=t}},he=class extends Ft{constructor(t,e=null){super(t),this.info=e}},Me=class extends Ft{constructor(t,e=null){super(t),this.info=e}},W=class extends Ft{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}};function Qo(s){let t=s.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Yo(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var wt=class{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}},ct=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},Yi=class{};var Go=(()=>{class s{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),i.indexOf("#")!==0)return{};let n=i.indexOf("?");return n>-1?i=i.substr(n+1):i=i.substr(1),this.parseQueryString(i)}parseQueryString(e){let i={},n,r,o,a,d,u;if(e===null)return i;let y=e.split("&");for(let h=0;h<y.length;h++)n=y[h],r=n.indexOf("="),r===-1?(o=n,a=null):(o=n.substr(0,r),a=n.substr(r+1)),d=decodeURIComponent(o),u=decodeURIComponent(a),d.substr(0,1)==="/"&&(d=d.substr(1)),i[d]=u;return i}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})(),Jo=32,Yc=64,Gc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Qn(s,t,e,i,n){let r,o,a,d,u,y,h,S,v,_,b,P,H;for(;n>=64;){for(r=t[0],o=t[1],a=t[2],d=t[3],u=t[4],y=t[5],h=t[6],S=t[7],_=0;_<16;_++)b=i+_*4,s[_]=(e[b]&255)<<24|(e[b+1]&255)<<16|(e[b+2]&255)<<8|e[b+3]&255;for(_=16;_<64;_++)v=s[_-2],P=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,v=s[_-15],H=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,s[_]=(P+s[_-7]|0)+(H+s[_-16]|0);for(_=0;_<64;_++)P=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&y^~u&h)|0)+(S+(Gc[_]+s[_]|0)|0)|0,H=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&a^o&a)|0,S=h,h=y,y=u,u=d+P|0,d=a,a=o,o=r,r=P+H|0;t[0]+=r,t[1]+=o,t[2]+=a,t[3]+=d,t[4]+=u,t[5]+=y,t[6]+=h,t[7]+=S,i+=64,n-=64}return i}var Yn=class{constructor(){this.digestLength=Jo,this.blockSize=Yc,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;this.bufferLength===64&&(Qn(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=Qn(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){let e=this.bytesHashed,i=this.bufferLength,n=e/536870912|0,r=e<<3,o=e%64<56?64:128;this.buffer[i]=128;for(let a=i+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=n>>>24&255,this.buffer[o-7]=n>>>16&255,this.buffer[o-6]=n>>>8&255,this.buffer[o-5]=n>>>0&255,this.buffer[o-4]=r>>>24&255,this.buffer[o-3]=r>>>16&255,this.buffer[o-2]=r>>>8&255,this.buffer[o-1]=r>>>0&255,Qn(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let e=0;e<8;e++)t[e*4+0]=this.state[e]>>>24&255,t[e*4+1]=this.state[e]>>>16&255,t[e*4+2]=this.state[e]>>>8&255,t[e*4+3]=this.state[e]>>>0&255;return this}digest(){let t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}};function Jc(s){let t=new Yn().update(s),e=t.digest();return t.clean(),e}var Wf=new Uint8Array(Jo);var Gi=class{};function Zc(s){if(typeof s!="string")throw new TypeError("expected string");let t=s,e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function Xc(s){let t=[];for(let e=0;e<s.length;e++)t.push(String.fromCharCode(s[e]));return t.join("")}var ed=(()=>{class s{calcHash(e,i){return mt(this,null,function*(){return Xc(Jc(Zc(e)))})}toHashString2(e){let i="";for(let n of e)i+=String.fromCharCode(n);return i}toHashString(e){let i=new Uint8Array(e),n="";for(let r of i)n+=String.fromCharCode(r);return n}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})(),Zo=(()=>{class s extends wt{constructor(e,i,n,r,o,a,d,u,y,h){super(),this.ngZone=e,this.http=i,this.config=o,this.urlHelper=a,this.logger=d,this.crypto=u,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new ke,this.discoveryDocumentLoadedSubject=new ke,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=y,o||(o={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),r&&(this.tokenValidationHandler=r),o&&this.configure(o);try{n?this.setStorage(n):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(S){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",S)}if(this.checkLocalStorageAccessable()){let S=window?.navigator?.userAgent;(S?.includes("MSIE ")||S?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let e="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(e,e),localStorage.removeItem(e),!0)}catch{return!1}}configure(e){Object.assign(this,new wt,e),this.config=Object.assign({},new wt,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(xe(e=>e.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,n=!0){let r=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(tn(o=>{o.type==="token_received"?r=!0:o.type==="logout"&&(r=!1)}),xe(o=>o.type==="token_expires"&&(i==null||i==="any"||o.info===i)),ls(1e3)).subscribe(()=>{r&&this.refreshInternal(e,n).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(e,i)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return e=e||{},this.loadDiscoveryDocumentAndTryLogin(e).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let i=typeof e.state=="string"?e.state:"";return this.initLoginFlow(i),!1}else return!0})}debug(...e){this.showDebugInformation&&this.logger.debug(...e)}validateUrlFromDiscoveryDocument(e){let i=[],n=this.validateUrlForHttps(e),r=this.validateUrlAgainstIssuer(e);return n||i.push("https for all urls required. Also for urls received by discovery."),r||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;let i=e.toLowerCase();return this.requireHttps===!1||(i.match(/^http:\/\/localhost($|[:/])/)||i.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e?!0:e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(xe(e=>e.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),n=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=Ee(new Me("token_expires","access_token")).pipe(Rt(n)).subscribe(r=>{this.ngZone.run(()=>{this.eventsSubject.next(r)})})})}setupIdTokenTimer(){let e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),n=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=Ee(new Me("token_expires","id_token")).pipe(Rt(n)).subscribe(r=>{this.ngZone.run(()=>{this.eventsSubject.next(r)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){let n=this.dateTimeService.now(),r=(i-e)*this.timeoutFactor-(n-e),o=Math.max(0,r),a=2147483647;return o>a?a:o}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,n)=>{if(e||(e=this.issuer||"",e.endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),!this.validateUrlForHttps(e)){n("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(e).subscribe(r=>{if(!this.validateDiscoveryDocument(r)){this.eventsSubject.next(new W("discovery_document_validation_error",null)),n("discovery_document_validation_error");return}this.loginUrl=r.authorization_endpoint,this.logoutUrl=r.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=r.grant_types_supported,this.issuer=r.issuer,this.tokenEndpoint=r.token_endpoint,this.userinfoEndpoint=r.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=r.jwks_uri,this.sessionCheckIFrameUrl=r.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(r),this.revocationEndpoint=r.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(o=>{let a={discoveryDocument:r,jwks:o},d=new he("discovery_document_loaded",a);this.eventsSubject.next(d),i(d)}).catch(o=>{this.eventsSubject.next(new W("discovery_document_load_error",o)),n(o)})},r=>{this.logger.error("error loading discovery document",r),this.eventsSubject.next(new W("discovery_document_load_error",r)),n(r)})})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(n=>{this.jwks=n,e(n)},n=>{this.logger.error("error loading jwks",n),this.eventsSubject.next(new W("jwks_load_error",n)),i(n)}):e(null)})}validateDiscoveryDocument(e){let i;return!this.skipIssuerCheck&&e.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1):(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,n=new We){return this.fetchTokenUsingPasswordFlow(e,i,n).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{let n=new We().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:n,observe:"response",responseType:"text"}).subscribe(r=>{if(this.debug("userinfo received",JSON.stringify(r)),r.headers.get("content-type").startsWith("application/json")){let o=JSON.parse(r.body),a=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!a.sub||o.sub!==a.sub)){i(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}o=Object.assign({},a,o),this._storage.setItem("id_token_claims_obj",JSON.stringify(o)),this.eventsSubject.next(new he("user_profile_loaded")),e({info:o})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new he("user_profile_loaded")),e(JSON.parse(r.body))},r=>{this.logger.error("error loading user info",r),this.eventsSubject.next(new W("user_profile_load_error",r)),i(r)})})}fetchTokenUsingPasswordFlow(e,i,n=new We){let r={username:e,password:i};return this.fetchTokenUsingGrant("password",r,n)}fetchTokenUsingGrant(e,i,n=new We){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=new ht({encoder:new ct}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);n=n.set("Authorization","Basic "+o)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let o of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(o,this.customQueryParams[o]);for(let o of Object.keys(i))r=r.set(o,i[o]);return n=n.set("Content-Type","application/x-www-form-urlencoded"),new Promise((o,a)=>{this.http.post(this.tokenEndpoint,r,{headers:n}).subscribe(d=>{this.debug("tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.oidc&&d.id_token&&this.processIdToken(d.id_token,d.access_token).then(u=>{this.storeIdToken(u),o(d)}),this.eventsSubject.next(new he("token_received")),o(d)},d=>{this.logger.error("Error performing ${grantType} flow",d),this.eventsSubject.next(new W("token_error",d)),a(d)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let n=new ht({encoder:new ct}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),r=new We().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+o)}if(this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let o of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(o,this.customQueryParams[o]);this.http.post(this.tokenEndpoint,n,{headers:r}).pipe(ds(o=>this.oidc&&o.id_token?is(this.processIdToken(o.id_token,o.access_token,!0)).pipe(tn(a=>this.storeIdToken(a)),Lt(()=>o)):Ee(o))).subscribe(o=>{this.debug("refresh tokenResponse",o),this.storeAccessTokenResponse(o.access_token,o.refresh_token,o.expires_in||this.fallbackAccessTokenExpirationTimeInSec,o.scope,this.extractRecognizedCustomParameters(o)),this.eventsSubject.next(new he("token_received")),this.eventsSubject.next(new he("token_refreshed")),e(o)},o=>{this.logger.error("Error refreshing token",o),this.eventsSubject.next(new W("token_refresh_error",o)),i(o)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{let i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(n=>this.debug("tryLogin during silent refresh failed",n))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){let n=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let r=this.document.getElementById(this.silentRefreshIFrameName);r&&this.document.body.removeChild(r),this.silentRefreshSubject=n.sub;let o=this.document.createElement("iframe");o.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let a=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,a,i,e).then(h=>{o.setAttribute("src",h),this.silentRefreshShowIFrame||(o.style.display="none"),this.document.body.appendChild(o)});let d=this.events.pipe(xe(h=>h instanceof W),Ut()),u=this.events.pipe(xe(h=>h.type==="token_received"),Ut()),y=Ee(new W("silent_refresh_timeout",null)).pipe(Rt(this.silentRefreshTimeout));return as([d,u,y]).pipe(Lt(h=>{if(h instanceof W)throw h.type==="silent_refresh_timeout"?this.eventsSubject.next(h):(h=new W("silent_refresh_error",h),this.eventsSubject.next(h)),h;return h.type==="token_received"&&(h=new he("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((n,r)=>{let a=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(a=e.windowRef,a.location.href=i):a=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));let d,u=_=>{this.tryLogin({customHashFragment:_,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),n(!0)},b=>{h(),r(b)})},y=()=>{(!a||a.closed)&&(h(),r(new W("popup_closed",{})))};a?d=window.setInterval(y,500):r(new W("popup_blocked",{}));let h=()=>{window.clearInterval(d),window.removeEventListener("storage",v),window.removeEventListener("message",S),a!==null&&a.close(),a=null},S=_=>{let b=this.processMessageEventMessage(_);b&&b!==null?(window.removeEventListener("storage",v),u(b)):console.log("false event firing")},v=_=>{_.key==="auth_hash"&&(window.removeEventListener("message",S),u(_.newValue))};window.addEventListener("message",S),window.addEventListener("storage",v)}))}calculatePopupFeatures(e){let i=e.height||470,n=e.width||500,r=window.screenLeft+(window.outerWidth-n)/2,o=window.screenTop+(window.outerHeight-i)/2;return`location=no,toolbar=no,width=${n},height=${i},top=${o},left=${r}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||typeof e.data!="string")return;let n=e.data;if(n.startsWith(i))return"#"+n.substr(i.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{let i=e.origin.toLowerCase(),n=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!n.startsWith(i)){this.debug("sessionCheckEventListener","wrong origin",i,"expected",n,"event",e);return}switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Me("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Me("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Me("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Me("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(xe(e=>e.type==="silently_refreshed"||e.type==="silent_refresh_timeout"||e.type==="silent_refresh_error"),Ut()).subscribe(e=>{e.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Me("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Me("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);let i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let n=this.sessionCheckIFrameUrl;i.setAttribute("src",n),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let i=this.getSessionState();i||this.stopSessionCheckTimer();let n=this.clientId+" "+i;e.contentWindow.postMessage(n,this.issuer)}createLoginUrl(){return mt(this,arguments,function*(e="",i="",n="",r=!1,o={}){let a=this,d;n?d=n:d=this.redirectUri;let u=yield this.createAndSaveNonce();if(e?e=u+this.config.nonceStateSeparator+encodeURIComponent(e):e=u,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let y=a.loginUrl.indexOf("?")>-1?"&":"?",h=a.scope;this.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);let S=a.loginUrl+y+"response_type="+encodeURIComponent(a.responseType)+"&client_id="+encodeURIComponent(a.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(d)+"&scope="+encodeURIComponent(h);if(this.responseType.includes("code")&&!this.disablePKCE){let[v,_]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",_):this._storage.setItem("PKCE_verifier",_),S+="&code_challenge="+v,S+="&code_challenge_method=S256"}i&&(S+="&login_hint="+encodeURIComponent(i)),a.resource&&(S+="&resource="+encodeURIComponent(a.resource)),a.oidc&&(S+="&nonce="+encodeURIComponent(u)),r&&(S+="&prompt=none");for(let v of Object.keys(o))S+="&"+encodeURIComponent(v)+"="+encodeURIComponent(o[v]);if(this.customQueryParams)for(let v of Object.getOwnPropertyNames(this.customQueryParams))S+="&"+v+"="+encodeURIComponent(this.customQueryParams[v]);return S})}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let n={},r=null;typeof i=="string"?r=i:typeof i=="object"&&(n=i),this.createLoginUrl(e,r,null,!1,n).then(this.config.openUri).catch(o=>{console.error("Error in initImplicitFlow",o),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){this.loginUrl!==""?this.initImplicitFlowInternal(e,i):this.events.pipe(xe(n=>n.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){let i=this;if(e.onTokenReceived){let n={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(n)}}storeAccessTokenResponse(e,i,n,r,o){if(this._storage.setItem("access_token",e),r&&!Array.isArray(r)?this._storage.setItem("granted_scopes",JSON.stringify(r.split(" "))):r&&Array.isArray(r)&&this._storage.setItem("granted_scopes",JSON.stringify(r)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),n){let a=n*1e3,u=this.dateTimeService.new().getTime()+a;this._storage.setItem("expires_at",""+u)}i&&this._storage.setItem("refresh_token",i),o&&o.forEach((a,d)=>{this._storage.setItem(d,a)})}tryLogin(e=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(e).then(()=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return!e||e.length===0?{}:(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}tryLoginCodeFlow(e=null){return mt(this,null,function*(){e=e||{};let i=e.customHashFragment?e.customHashFragment.substring(1):window.location.search,n=this.getCodePartsFromUrl(i),r=n.code,o=n.state,a=n.session_state;if(!e.preventClearHashAfterLogin){let y=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,y)}let[d,u]=this.parseState(o);if(this.state=u,n.error){this.debug("error trying to login"),this.handleLoginError(e,n);let y=new W("code_error",{},n);return this.eventsSubject.next(y),Promise.reject(y)}if(!e.disableNonceCheck){if(!d)return this.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!this.validateNonce(d)){let h=new W("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}}return this.storeSessionState(a),r&&(yield this.getTokenFromCode(r,e),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return!e||e.length===0?this.urlHelper.getHashFragmentParams():(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}getTokenFromCode(e,i){let n=new ht({encoder:new ct}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let r;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("PKCE_verifier"):r=this._storage.getItem("PKCE_verifier"),r?n=n.set("code_verifier",r):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(n,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let n=new We().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let r=btoa(`${this.clientId}:${this.dummyClientSecret}`);n=n.set("Authorization","Basic "+r)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((r,o)=>{if(this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,e,{headers:n}).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.oidc&&a.id_token?this.processIdToken(a.id_token,a.access_token,i.disableNonceCheck).then(d=>{this.storeIdToken(d),this.eventsSubject.next(new he("token_received")),this.eventsSubject.next(new he("token_refreshed")),r(a)}).catch(d=>{this.eventsSubject.next(new W("token_validation_error",d)),console.error("Error validating tokens"),console.error(d),o(d)}):(this.eventsSubject.next(new he("token_received")),this.eventsSubject.next(new he("token_refreshed")),r(a))},a=>{console.error("Error getting token",a),this.eventsSubject.next(new W("token_refresh_error",a)),o(a)})})}tryLoginImplicitFlow(e=null){e=e||{};let i;e.customHashFragment?i=this.urlHelper.getHashFragmentParams(e.customHashFragment):i=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);let n=i.state,[r,o]=this.parseState(n);if(this.state=o,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);let h=new W("token_error",{},i);return this.eventsSubject.next(h),Promise.reject(h)}let a=i.access_token,d=i.id_token,u=i.session_state,y=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!a||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!n||this.oidc&&!d)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!u&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(r)){let S=new W("invalid_nonce_in_state",null);return this.eventsSubject.next(S),Promise.reject(S)}return this.requestAccessToken&&this.storeAccessTokenResponse(a,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,y),this.oidc?this.processIdToken(d,a,e.disableNonceCheck).then(h=>e.validationHandler?e.validationHandler({accessToken:a,idClaims:h.idTokenClaims,idToken:h.idToken,state:n}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(u),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new he("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new W("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new he("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,n="";if(e){let r=e.indexOf(this.config.nonceStateSeparator);r>-1&&(i=e.substr(0,r),n=e.substr(r+this.config.nonceStateSeparator.length))}return[i,n]}validateNonce(e){let i;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?i=localStorage.getItem("nonce"):i=this._storage.getItem("nonce"),i!==e?(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1):!0}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?e:this.clockSkewInSec*1e3}processIdToken(e,i,n=!1){let r=e.split("."),o=this.padBase64(r[0]),a=Qo(o),d=JSON.parse(a),u=this.padBase64(r[1]),y=Qo(u),h=JSON.parse(y),S;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?S=localStorage.getItem("nonce"):S=this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(C=>C!==this.clientId)){let C="Wrong audience: "+h.aud.join(",");return this.logger.warn(C),Promise.reject(C)}}else if(h.aud!==this.clientId){let C="Wrong audience: "+h.aud;return this.logger.warn(C),Promise.reject(C)}if(!h.sub){let C="No sub claim in id_token";return this.logger.warn(C),Promise.reject(C)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){let C=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(C),Promise.reject(C)}if(!h.iat){let C="No iat claim in id_token";return this.logger.warn(C),Promise.reject(C)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){let C="Wrong issuer: "+h.iss;return this.logger.warn(C),Promise.reject(C)}if(!n&&h.nonce!==S){let C="Wrong nonce: "+h.nonce;return this.logger.warn(C),Promise.reject(C)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){let C="An at_hash is needed!";return this.logger.warn(C),Promise.reject(C)}let v=this.dateTimeService.now(),_=h.iat*1e3,b=h.exp*1e3,P=this.getClockSkewInMsec();if(_-P>=v||b+P-this.decreaseExpirationBySec<=v){let C="Token has expired";return console.error(C),console.error({now:v,issuedAtMSec:_,expiresAtMSec:b}),Promise.reject(C)}let H={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:h,idTokenHeader:d,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(H).then(()=>({idToken:e,idTokenClaims:h,idTokenClaimsJson:y,idTokenHeader:d,idTokenHeaderJson:a,idTokenExpiresAt:b})):this.checkAtHash(H).then(C=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!C){let Y="Wrong at_hash";return this.logger.warn(Y),Promise.reject(Y)}return this.checkSignature(H).then(()=>{let Y=!this.disableAtHashCheck,G={idToken:e,idTokenClaims:h,idTokenClaimsJson:y,idTokenHeader:d,idTokenHeaderJson:a,idTokenExpiresAt:b};return Y?this.checkAtHash(H).then(Re=>{if(this.requestAccessToken&&!Re){let ge="Wrong at_hash";return this.logger.warn(ge),Promise.reject(ge)}else return G}):G})})}getIdentityClaims(){let e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){let e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!==0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&this._storage.getItem(e)!==null?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let n=!1;typeof e=="boolean"&&(n=e,e={});let r=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(a=>this._storage.removeItem(a)),this.silentRefreshSubject=null,this.eventsSubject.next(new Me("logout")),!this.logoutUrl||n)return;let o;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)o=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(r)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let a=new ht({encoder:new ct});r&&(a=a.set("id_token_hint",r));let d=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";d&&(a=a.set("post_logout_redirect_uri",d),i&&(a=a.set("state",i)));for(let u in e)a=a.set(u,e[u]);o=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+a.toString()}this.config.openUri(o)}createAndSaveNonce(){let e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=45,r="",o=typeof self>"u"?null:self.crypto||self.msCrypto;if(o){let a=new Uint8Array(n);o.getRandomValues(a),a.map||(a.map=Array.prototype.map),a=a.map(d=>i.charCodeAt(d%i.length)),r=String.fromCharCode.apply(null,a)}else for(;0<n--;)r+=i[Math.random()*i.length|0];e(Yo(r))})}checkAtHash(e){return mt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return this.responseType==="code"?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){this.loginUrl!==""?this.initCodeFlowInternal(e,i):this.events.pipe(xe(n=>n.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let n={},r=null;typeof i=="string"?r=i:typeof i=="object"&&(n=i),this.createLoginUrl(e,r,null,!1,n).then(this.config.openUri).catch(o=>{console.error("Error in initAuthorizationCodeFlow"),console.error(o)})}createChallangeVerifierPairForPKCE(){return mt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let e=yield this.createNonce(),i=yield this.crypto.calcHash(e,"sha-256");return[Yo(i),e]})}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(n=>{e[n]&&i.set(n,JSON.stringify(e[n]))}),i}revokeTokenAndLogout(e={},i=!1){let n=this.revocationEndpoint,r=this.getAccessToken(),o=this.getRefreshToken();if(!r)return Promise.resolve();let a=new ht({encoder:new ct}),d=new We().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let u=btoa(`${this.clientId}:${this.dummyClientSecret}`);d=d.set("Authorization","Basic "+u)}if(this.useHttpBasicAuth||(a=a.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(a=a.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))a=a.set(u,this.customQueryParams[u]);return new Promise((u,y)=>{let h,S;if(r){let v=a.set("token",r).set("token_type_hint","access_token");h=this.http.post(n,v,{headers:d})}else h=Ee(null);if(o){let v=a.set("token",o).set("token_type_hint","refresh_token");S=this.http.post(n,v,{headers:d})}else S=Ee(null);i&&(h=h.pipe(He(v=>v.status===0?Ee(null):Ot(v))),S=S.pipe(He(v=>v.status===0?Ee(null):Ot(v)))),ss([h,S]).subscribe(v=>{this.logOut(e),u(v),this.logger.info("Token successfully revoked")},v=>{this.logger.error("Error revoking token",v),this.eventsSubject.next(new W("token_revoke_error",v)),y(v)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}static{this.\u0275fac=function(i){return new(i||s)(j(Ge),j(Qt),j(Qi,8),j(Yi,8),j(wt,8),j(Go),j(Ki),j(Gi,8),j(Xe),j(Pt))}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})(),Ji=class{},Gn=class{handleError(t){return Ot(t)}},td=(()=>{class s{constructor(e,i,n){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=n}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase())):!0}intercept(e,i){let n=e.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(n)?i.handle(e):this.moduleConfig.resourceServer.sendAccessToken?os(Ee(this.oAuthService.getAccessToken()).pipe(xe(o=>!!o)),this.oAuthService.events.pipe(xe(o=>o.type==="token_received"),ns(this.oAuthService.waitForTokenInMsec||0),He(()=>Ee(null)),Lt(()=>this.oAuthService.getAccessToken()))).pipe(cs(1),rs(o=>{if(o){let a="Bearer "+o,d=e.headers.set("Authorization",a);e=e.clone({headers:d})}return i.handle(e).pipe(He(a=>this.errorHandler.handleError(a)))})):i.handle(e).pipe(He(o=>this.errorHandler.handleError(o)))}static{this.\u0275fac=function(i){return new(i||s)(j(Zo),j(Ji),j($i,8))}}static{this.\u0275prov=ee({token:s,factory:s.\u0275fac})}}return s})();function id(){return console}function nd(){return typeof sessionStorage<"u"?sessionStorage:new Qc}function sd(s=null,t=qi){return Vt([Zo,Go,{provide:Ki,useFactory:id},{provide:Qi,useFactory:nd},{provide:Yi,useClass:t},{provide:Gi,useClass:ed},{provide:Ji,useClass:Gn},{provide:$i,useValue:s},{provide:bs,useClass:td,multi:!0},{provide:Pt,useClass:Kc}])}var Xo=(()=>{class s{static forRoot(e=null,i=qi){return{ngModule:s,providers:[sd(e,i)]}}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=Bt({type:s})}static{this.\u0275inj=Ht({imports:[Z]})}}return s})();var qf=new jt("AUTH_CONFIG");var ea={providers:[Is(Ko),ws(Ts([hr])),Vr(),mr({positionClass:"toast-bottom-right"}),us(Xo.forRoot(),lr.forRoot({}),js.forRoot({provide:Hs,useFactory:So}))]},rg={issuer:"https://ravelry/oauth2/auth",clientId:"1d0990baad92d8732b6db9aac2e44dee",redirectUri:window.location.origin,scope:"openid profile email"};var ta=(()=>{class s{constructor(){this.accountService=re(yt)}ngOnInit(){this.setCurrentUser()}setCurrentUser(){let e=localStorage.getItem("user");if(!e)return;let i=JSON.parse(e);this.accountService.currentUser.set(i)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=A({type:s,selectors:[["app-root"]],standalone:!0,features:[M],decls:1,vars:0,template:function(i,n){i&1&&p(0,"router-outlet")},dependencies:[Z,pt]})}}return s})();ks(ta,ea).catch(s=>console.error(s));
